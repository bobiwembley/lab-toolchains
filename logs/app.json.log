{"timestamp": "2026-01-18T10:40:58.483492Z", "level": "INFO", "logger": "test", "module": "logger", "function": "_log", "line": 182, "message": "Test logging JSON", "test_field": "value123", "duration": 1.5, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T10:40:58.484193Z", "level": "INFO", "logger": "test", "module": "logger", "function": "_log", "line": 182, "message": "API call: test_api", "service": "test_api", "status": "success", "duration_seconds": 0.5, "result_count": 5, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T10:40:58.484721Z", "level": "INFO", "logger": "test", "module": "logger", "function": "_log", "line": 182, "message": "LLM call: gemini", "model": "gemini", "duration_seconds": 1.2, "tokens": 456, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T10:42:39.846744Z", "level": "INFO", "logger": "test_full", "module": "logger", "function": "_log", "line": 182, "message": "Test 1: Log basique", "test_id": 1, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T10:42:39.847147Z", "level": "INFO", "logger": "test_full", "module": "logger", "function": "_log", "line": 182, "message": "Test 2: Log avec contexte", "request_id": "req_123", "user": "test_user", "action": "search", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T10:42:39.947931Z", "level": "INFO", "logger": "test_full", "module": "logger", "function": "_log", "line": 182, "message": "API call: amadeus_flights", "service": "amadeus_flights", "status": "success", "duration_seconds": 0.10008573532104492, "flights_found": 12, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T10:42:40.149752Z", "level": "INFO", "logger": "test_full", "module": "logger", "function": "_log", "line": 182, "message": "LLM call: gemini-2.0-flash", "model": "gemini-2.0-flash", "duration_seconds": 0.20088863372802734, "cost": 0.0016, "tokens": 1234, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T10:42:40.151251Z", "level": "INFO", "logger": "test_full", "module": "logger", "function": "_log", "line": 182, "message": "Agent iteration 1", "iteration": 1, "tools_used": ["search_flights", "search_hotels"], "llm_duration_seconds": 0.5, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T10:42:40.151802Z", "level": "ERROR", "logger": "test_full", "module": "logger", "function": "_log", "line": 182, "message": "Test 6: Erreur captur\u00e9e", "error": "Test erreur", "error_type": "ValueError", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T10:44:01.474862Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "\ud83d\ude80 Initializing TravelAgent with gemini...", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T10:44:01.536973Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "\u2705 TravelAgent initialized with Gemini 2.0 Flash", "model": "gemini-2.0-flash-001", "model_provider": "gemini", "cost_per_search": "$0.0016", "tools_count": 11, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T10:44:54.813163Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "\ud83e\udd16 Analyzing request", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 rio \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 v", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T10:44:56.838542Z", "level": "WARNING", "logger": "langchain_google_vertexai._retry", "module": "before_sleep", "function": "log_it", "line": 65, "message": "Retrying langchain_google_vertexai.chat_models._completion_with_retry.<locals>._completion_with_retry_inner in 4.0 seconds as it raised PermissionDenied: 403 This API method requires billing to be enabled. Please enable billing on project #lab-toolchains-ai by visiting https://console.developers.google.com/billing/enable?project=lab-toolchains-ai then retry. If you enabled billing for this project recently, wait a few minutes for the action to propagate to our systems and retry. [reason: \"BILLING_DISABLED\"\ndomain: \"googleapis.com\"\nmetadata {\n  key: \"service\"\n  value: \"aiplatform.googleapis.com\"\n}\nmetadata {\n  key: \"containerInfo\"\n  value: \"lab-toolchains-ai\"\n}\nmetadata {\n  key: \"consumer\"\n  value: \"projects/lab-toolchains-ai\"\n}\n, locale: \"en-US\"\nmessage: \"This API method requires billing to be enabled. Please enable billing on project #lab-toolchains-ai by visiting https://console.developers.google.com/billing/enable?project=lab-toolchains-ai then retry. If you enabled billing for this project recently, wait a few minutes for the action to propagate to our systems and retry.\"\n, links {\n  description: \"Google developers console billing\"\n  url: \"https://console.developers.google.com/billing/enable?project=lab-toolchains-ai\"\n}\n].", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T10:45:01.034770Z", "level": "WARNING", "logger": "langchain_google_vertexai._retry", "module": "before_sleep", "function": "log_it", "line": 65, "message": "Retrying langchain_google_vertexai.chat_models._completion_with_retry.<locals>._completion_with_retry_inner in 4.0 seconds as it raised PermissionDenied: 403 This API method requires billing to be enabled. Please enable billing on project #lab-toolchains-ai by visiting https://console.developers.google.com/billing/enable?project=lab-toolchains-ai then retry. If you enabled billing for this project recently, wait a few minutes for the action to propagate to our systems and retry. [reason: \"BILLING_DISABLED\"\ndomain: \"googleapis.com\"\nmetadata {\n  key: \"service\"\n  value: \"aiplatform.googleapis.com\"\n}\nmetadata {\n  key: \"containerInfo\"\n  value: \"lab-toolchains-ai\"\n}\nmetadata {\n  key: \"consumer\"\n  value: \"projects/lab-toolchains-ai\"\n}\n, locale: \"en-US\"\nmessage: \"This API method requires billing to be enabled. Please enable billing on project #lab-toolchains-ai by visiting https://console.developers.google.com/billing/enable?project=lab-toolchains-ai then retry. If you enabled billing for this project recently, wait a few minutes for the action to propagate to our systems and retry.\"\n, links {\n  description: \"Google developers console billing\"\n  url: \"https://console.developers.google.com/billing/enable?project=lab-toolchains-ai\"\n}\n].", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T10:45:05.235493Z", "level": "WARNING", "logger": "langchain_google_vertexai._retry", "module": "before_sleep", "function": "log_it", "line": 65, "message": "Retrying langchain_google_vertexai.chat_models._completion_with_retry.<locals>._completion_with_retry_inner in 4.0 seconds as it raised PermissionDenied: 403 This API method requires billing to be enabled. Please enable billing on project #lab-toolchains-ai by visiting https://console.developers.google.com/billing/enable?project=lab-toolchains-ai then retry. If you enabled billing for this project recently, wait a few minutes for the action to propagate to our systems and retry. [reason: \"BILLING_DISABLED\"\ndomain: \"googleapis.com\"\nmetadata {\n  key: \"service\"\n  value: \"aiplatform.googleapis.com\"\n}\nmetadata {\n  key: \"containerInfo\"\n  value: \"lab-toolchains-ai\"\n}\nmetadata {\n  key: \"consumer\"\n  value: \"projects/lab-toolchains-ai\"\n}\n, locale: \"en-US\"\nmessage: \"This API method requires billing to be enabled. Please enable billing on project #lab-toolchains-ai by visiting https://console.developers.google.com/billing/enable?project=lab-toolchains-ai then retry. If you enabled billing for this project recently, wait a few minutes for the action to propagate to our systems and retry.\"\n, links {\n  description: \"Google developers console billing\"\n  url: \"https://console.developers.google.com/billing/enable?project=lab-toolchains-ai\"\n}\n].", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T10:45:09.436980Z", "level": "WARNING", "logger": "langchain_google_vertexai._retry", "module": "before_sleep", "function": "log_it", "line": 65, "message": "Retrying langchain_google_vertexai.chat_models._completion_with_retry.<locals>._completion_with_retry_inner in 8.0 seconds as it raised PermissionDenied: 403 This API method requires billing to be enabled. Please enable billing on project #lab-toolchains-ai by visiting https://console.developers.google.com/billing/enable?project=lab-toolchains-ai then retry. If you enabled billing for this project recently, wait a few minutes for the action to propagate to our systems and retry. [reason: \"BILLING_DISABLED\"\ndomain: \"googleapis.com\"\nmetadata {\n  key: \"service\"\n  value: \"aiplatform.googleapis.com\"\n}\nmetadata {\n  key: \"containerInfo\"\n  value: \"lab-toolchains-ai\"\n}\nmetadata {\n  key: \"consumer\"\n  value: \"projects/lab-toolchains-ai\"\n}\n, locale: \"en-US\"\nmessage: \"This API method requires billing to be enabled. Please enable billing on project #lab-toolchains-ai by visiting https://console.developers.google.com/billing/enable?project=lab-toolchains-ai then retry. If you enabled billing for this project recently, wait a few minutes for the action to propagate to our systems and retry.\"\n, links {\n  description: \"Google developers console billing\"\n  url: \"https://console.developers.google.com/billing/enable?project=lab-toolchains-ai\"\n}\n].", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T10:45:17.661067Z", "level": "WARNING", "logger": "langchain_google_vertexai._retry", "module": "before_sleep", "function": "log_it", "line": 65, "message": "Retrying langchain_google_vertexai.chat_models._completion_with_retry.<locals>._completion_with_retry_inner in 10.0 seconds as it raised PermissionDenied: 403 This API method requires billing to be enabled. Please enable billing on project #lab-toolchains-ai by visiting https://console.developers.google.com/billing/enable?project=lab-toolchains-ai then retry. If you enabled billing for this project recently, wait a few minutes for the action to propagate to our systems and retry. [reason: \"BILLING_DISABLED\"\ndomain: \"googleapis.com\"\nmetadata {\n  key: \"service\"\n  value: \"aiplatform.googleapis.com\"\n}\nmetadata {\n  key: \"containerInfo\"\n  value: \"lab-toolchains-ai\"\n}\nmetadata {\n  key: \"consumer\"\n  value: \"projects/lab-toolchains-ai\"\n}\n, locale: \"en-US\"\nmessage: \"This API method requires billing to be enabled. Please enable billing on project #lab-toolchains-ai by visiting https://console.developers.google.com/billing/enable?project=lab-toolchains-ai then retry. If you enabled billing for this project recently, wait a few minutes for the action to propagate to our systems and retry.\"\n, links {\n  description: \"Google developers console billing\"\n  url: \"https://console.developers.google.com/billing/enable?project=lab-toolchains-ai\"\n}\n].", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T10:53:48.621830Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "\ud83d\ude80 Initializing TravelAgent with gemini...", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T10:53:48.690247Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "\u2705 TravelAgent initialized with Gemini 2.0 Flash", "model": "gemini-2.0-flash-001", "model_provider": "gemini", "cost_per_search": "$0.0016", "tools_count": 11, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T10:54:44.798556Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "\ud83e\udd16 Analyzing request", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Cuba et la HAVANE entre le 5 mai 2026 en pack vol et avion \n\nCO", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T10:54:48.887502Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "Agent iteration 1", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Cuba et la HAVANE entre le 5 mai 2026 en pack vol et avion \n\nCO", "iteration": 1, "tools_used": ["get_destination_context", "search_flights", "search_hotels", "search_vacation_rentals", "find_cultural_activities", "recommend_restaurants", "create_visit_itinerary"], "llm_duration_seconds": 4.087145090103149, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T10:54:49.335301Z", "level": "INFO", "logger": "services.wikipedia_service", "module": "wikipedia_service", "function": "get_city_context", "line": 83, "message": "\u2705 Wikipedia context retrieved for La Havane", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T10:54:49.336106Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "   \u2192 Tool executed: get_destination_context", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Cuba et la HAVANE entre le 5 mai 2026 en pack vol et avion \n\nCO", "tool_name": "get_destination_context", "tool_args": {"city": "La Havane"}, "tool_duration_seconds": 0.4478464126586914, "result_length": 561, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T10:54:49.339806Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "__init__", "line": 77, "message": "\u2705 FlightSearchService initialized with Amadeus API", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T10:54:49.342691Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "_search_with_amadeus", "line": 163, "message": "\ud83d\udd0d Amadeus search: CDG \u2192 HAV on 2026-05-05", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T10:54:56.860485Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "_search_with_amadeus", "line": 188, "message": "\u2705 Amadeus: Found 5 real flight options", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T10:54:56.861406Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "   \u2192 Tool executed: search_flights", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Cuba et la HAVANE entre le 5 mai 2026 en pack vol et avion \n\nCO", "tool_name": "search_flights", "tool_args": {"departure_date": "2026-05-05", "origin": "CDG", "return_date": "2026-05-12", "destination": "HAV"}, "tool_duration_seconds": 7.524140119552612, "result_length": 488, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T10:54:56.870730Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "__init__", "line": 47, "message": "HotelSearchService initialized with providers: booking-com15, mock", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T10:54:56.871188Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_search_with_booking", "line": 78, "message": "Trying Booking.com15 for La Havane", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T10:54:56.871766Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 201, "message": "Trying Booking.com15 location search: 'La Havane'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T10:54:57.645005Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 227, "message": "\u2705 Using first result dest_id: 12227091 (type: hotel) for 'La Havane'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T10:54:59.913169Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_search_with_booking", "line": 177, "message": "\u2705 Booking.com15: Found 5 hotels", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T10:54:59.918111Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "   \u2192 Tool executed: search_hotels", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Cuba et la HAVANE entre le 5 mai 2026 en pack vol et avion \n\nCO", "tool_name": "search_hotels", "tool_args": {"guests": 2.0, "checkin_date": "2026-05-05", "checkout_date": "2026-05-12", "destination": "La Havane"}, "tool_duration_seconds": 3.055985689163208, "result_length": 4, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T10:54:59.920205Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "__init__", "line": 66, "message": "VacationRentalService initialized with providers: serpapi, rapidapi, mock", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T10:54:59.920589Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "search_rentals", "line": 90, "message": "Trying SerpAPI for La Havane", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T10:55:00.269302Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "search_rentals", "line": 101, "message": "Trying RapidAPI Airbnb for La Havane", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T10:55:02.003227Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "search_rentals", "line": 104, "message": "\u2705 RapidAPI: Found 5 rentals", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T10:55:02.004469Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "   \u2192 Tool executed: search_vacation_rentals", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Cuba et la HAVANE entre le 5 mai 2026 en pack vol et avion \n\nCO", "tool_name": "search_vacation_rentals", "tool_args": {"guests": 2.0, "checkin_date": "2026-05-05", "checkout_date": "2026-05-12", "destination": "La Havane"}, "tool_duration_seconds": 2.0850493907928467, "result_length": 909, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T10:55:02.796762Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "   \u2192 Tool executed: find_cultural_activities", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Cuba et la HAVANE entre le 5 mai 2026 en pack vol et avion \n\nCO", "tool_name": "find_cultural_activities", "tool_args": {"preferences": "art,history", "city": "La Havane"}, "tool_duration_seconds": 0.791008710861206, "result_length": 473, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T10:55:04.748492Z", "level": "INFO", "logger": "services.restaurant_service", "module": "restaurant_service", "function": "find_restaurants", "line": 90, "message": "\u2705 1 restaurants from Travel Advisor API", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T10:55:04.749398Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "   \u2192 Tool executed: recommend_restaurants", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Cuba et la HAVANE entre le 5 mai 2026 en pack vol et avion \n\nCO", "tool_name": "recommend_restaurants", "tool_args": {"cuisine_types": "local", "budget": "$$", "city": "La Havane"}, "tool_duration_seconds": 1.9517226219177246, "result_length": 277, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T10:55:07.287423Z", "level": "INFO", "logger": "services.restaurant_service", "module": "restaurant_service", "function": "find_restaurants", "line": 90, "message": "\u2705 5 restaurants from Travel Advisor API", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T10:55:07.288906Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "   \u2192 Tool executed: create_visit_itinerary", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Cuba et la HAVANE entre le 5 mai 2026 en pack vol et avion \n\nCO", "tool_name": "create_visit_itinerary", "tool_args": {"city": "La Havane", "duration_days": 7.0, "interests": "culture,food,attractions"}, "tool_duration_seconds": 2.5379035472869873, "result_length": 3501, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T10:55:08.226560Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "Agent iteration 2", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Cuba et la HAVANE entre le 5 mai 2026 en pack vol et avion \n\nCO", "iteration": 2, "tools_used": ["generate_travel_map"], "llm_duration_seconds": 0.9361529350280762, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T10:55:15.439614Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "   \u2192 Tool executed: generate_travel_map", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Cuba et la HAVANE entre le 5 mai 2026 en pack vol et avion \n\nCO", "tool_name": "generate_travel_map", "tool_args": {"city": "La Havane", "hotel_addresses": "B&W Chacon, Lamparilla's Loft, Facing Angel Square"}, "tool_duration_seconds": 7.212653636932373, "result_length": 152, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T10:55:21.001413Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "Agent iteration 3", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Cuba et la HAVANE entre le 5 mai 2026 en pack vol et avion \n\nCO", "iteration": 3, "tools_used": ["calculate_total_cost", "calculate_total_cost", "calculate_total_cost"], "llm_duration_seconds": 5.561225414276123, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T10:55:21.003054Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "   \u2192 Tool executed: calculate_total_cost", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Cuba et la HAVANE entre le 5 mai 2026 en pack vol et avion \n\nCO", "tool_name": "calculate_total_cost", "tool_args": {"hotel_price": 1316.0, "travelers": 2.0, "flight_price": 980.0}, "tool_duration_seconds": 0.0011222362518310547, "result_length": 144, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T10:55:21.004547Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "   \u2192 Tool executed: calculate_total_cost", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Cuba et la HAVANE entre le 5 mai 2026 en pack vol et avion \n\nCO", "tool_name": "calculate_total_cost", "tool_args": {"hotel_price": 1617.0, "travelers": 2.0, "flight_price": 980.0}, "tool_duration_seconds": 0.0009582042694091797, "result_length": 144, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T10:55:21.006040Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "   \u2192 Tool executed: calculate_total_cost", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Cuba et la HAVANE entre le 5 mai 2026 en pack vol et avion \n\nCO", "tool_name": "calculate_total_cost", "tool_args": {"hotel_price": 3024.0, "flight_price": 980.0, "travelers": 2.0}, "tool_duration_seconds": 0.0009419918060302734, "result_length": 144, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T10:55:22.150958Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "Agent iteration 4", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Cuba et la HAVANE entre le 5 mai 2026 en pack vol et avion \n\nCO", "iteration": 4, "tools_used": ["recommend_best_package"], "llm_duration_seconds": 1.1443157196044922, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T10:55:22.152425Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "   \u2192 Tool executed: recommend_best_package", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Cuba et la HAVANE entre le 5 mai 2026 en pack vol et avion \n\nCO", "tool_name": "recommend_best_package", "tool_args": {"packages_info": "Package 1: $3276 (Vol+Lamparilla's Loft), Package 2: $3577 (Vol+Aesthetic Havana), Package 3: $4984 (Vol+Facing Angel Square)", "user_budget": "medium", "priorities": "value", "travel_style": "balanced"}, "tool_duration_seconds": 0.0010044574737548828, "result_length": 2938, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T10:55:23.859157Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "\u2705 Finished after 5 iteration(s)", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Cuba et la HAVANE entre le 5 mai 2026 en pack vol et avion \n\nCO", "iterations": 5, "total_duration_seconds": 39.06100034713745, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:00:36.075015Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "\ud83d\ude80 Initializing TravelAgent with gemini...", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:00:36.118008Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "\u2705 TravelAgent initialized with Gemini 2.0 Flash", "model": "gemini-2.0-flash-001", "model_provider": "gemini", "cost_per_search": "$0.0016", "tools_count": 11, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:01:00.640356Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "\ud83e\udd16 Analyzing request", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 cuba en Mai 2026\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n-", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:01:03.626952Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "Agent iteration 1", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 cuba en Mai 2026\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n-", "iteration": 1, "tools_used": ["get_destination_context"], "llm_duration_seconds": 2.9852614402770996, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:01:03.818352Z", "level": "INFO", "logger": "services.wikipedia_service", "module": "wikipedia_service", "function": "get_city_context", "line": 83, "message": "\u2705 Wikipedia context retrieved for Cuba", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:01:03.819758Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "   \u2192 Tool executed: get_destination_context", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 cuba en Mai 2026\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n-", "tool_name": "get_destination_context", "tool_args": {"city": "Cuba"}, "tool_duration_seconds": 0.19147253036499023, "result_length": 579, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:01:05.637552Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "Agent iteration 2", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 cuba en Mai 2026\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n-", "iteration": 2, "tools_used": ["search_flights", "search_hotels", "search_vacation_rentals"], "llm_duration_seconds": 1.8167600631713867, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:01:05.641633Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "__init__", "line": 77, "message": "\u2705 FlightSearchService initialized with Amadeus API", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:01:05.642821Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "_search_with_amadeus", "line": 163, "message": "\ud83d\udd0d Amadeus search: CDG \u2192 HAV on 2026-05-01", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:01:12.935793Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "_search_with_amadeus", "line": 188, "message": "\u2705 Amadeus: Found 5 real flight options", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:01:12.937540Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "   \u2192 Tool executed: search_flights", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 cuba en Mai 2026\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n-", "tool_name": "search_flights", "tool_args": {"departure_date": "2026-05-01", "return_date": "2026-05-08", "destination": "HAV", "origin": "CDG"}, "tool_duration_seconds": 7.299060821533203, "result_length": 501, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:01:12.944147Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "__init__", "line": 47, "message": "HotelSearchService initialized with providers: booking-com15, mock", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:01:12.945424Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_search_with_booking", "line": 78, "message": "Trying Booking.com15 for La Havane", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:01:12.946129Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 201, "message": "Trying Booking.com15 location search: 'La Havane'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:01:14.089641Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 227, "message": "\u2705 Using first result dest_id: 12227091 (type: hotel) for 'La Havane'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:01:15.744958Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_search_with_booking", "line": 177, "message": "\u2705 Booking.com15: Found 5 hotels", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:01:15.748109Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "   \u2192 Tool executed: search_hotels", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 cuba en Mai 2026\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n-", "tool_name": "search_hotels", "tool_args": {"guests": 2.0, "checkout_date": "2026-05-08", "destination": "La Havane", "checkin_date": "2026-05-01"}, "tool_duration_seconds": 2.8092970848083496, "result_length": 4, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:01:15.749735Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "__init__", "line": 66, "message": "VacationRentalService initialized with providers: serpapi, rapidapi, mock", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:01:15.750477Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "search_rentals", "line": 90, "message": "Trying SerpAPI for La Havane", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:01:16.053781Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "search_rentals", "line": 101, "message": "Trying RapidAPI Airbnb for La Havane", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:01:17.940707Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "search_rentals", "line": 104, "message": "\u2705 RapidAPI: Found 5 rentals", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:01:17.942174Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "   \u2192 Tool executed: search_vacation_rentals", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 cuba en Mai 2026\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n-", "tool_name": "search_vacation_rentals", "tool_args": {"checkin_date": "2026-05-01", "checkout_date": "2026-05-08", "destination": "La Havane", "guests": 2.0}, "tool_duration_seconds": 2.1929988861083984, "result_length": 903, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:01:19.788894Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "Agent iteration 3", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 cuba en Mai 2026\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n-", "iteration": 3, "tools_used": ["find_cultural_activities"], "llm_duration_seconds": 1.845313310623169, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:01:20.800057Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "   \u2192 Tool executed: find_cultural_activities", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 cuba en Mai 2026\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n-", "tool_name": "find_cultural_activities", "tool_args": {"preferences": "art,history", "city": "La Havane"}, "tool_duration_seconds": 1.0106172561645508, "result_length": 473, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:01:22.311539Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "Agent iteration 4", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 cuba en Mai 2026\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n-", "iteration": 4, "tools_used": ["recommend_restaurants"], "llm_duration_seconds": 1.5110173225402832, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:01:23.706969Z", "level": "INFO", "logger": "services.restaurant_service", "module": "restaurant_service", "function": "find_restaurants", "line": 90, "message": "\u2705 1 restaurants from Travel Advisor API", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:01:23.707628Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "   \u2192 Tool executed: recommend_restaurants", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 cuba en Mai 2026\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n-", "tool_name": "recommend_restaurants", "tool_args": {"budget": "$$", "city": "La Havane", "cuisine_types": "local"}, "tool_duration_seconds": 1.395707368850708, "result_length": 277, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:01:24.812178Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "Agent iteration 5", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 cuba en Mai 2026\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n-", "iteration": 5, "tools_used": ["create_visit_itinerary"], "llm_duration_seconds": 1.1039166450500488, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:01:27.118691Z", "level": "INFO", "logger": "services.restaurant_service", "module": "restaurant_service", "function": "find_restaurants", "line": 90, "message": "\u2705 5 restaurants from Travel Advisor API", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:01:27.119523Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "   \u2192 Tool executed: create_visit_itinerary", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 cuba en Mai 2026\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n-", "tool_name": "create_visit_itinerary", "tool_args": {"duration_days": 7.0, "city": "La Havane", "interests": "culture,food,attractions"}, "tool_duration_seconds": 2.306875467300415, "result_length": 3501, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:01:27.119936Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "\ud83d\udcca Generating final response...", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 cuba en Mai 2026\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n-", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:01:29.143645Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "\u2705 Request completed", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 cuba en Mai 2026\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n-", "max_iterations_reached": true, "total_duration_seconds": 28.50371265411377, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:07:47.868190Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "\ud83d\ude80 Initializing TravelAgent with gemini...", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:07:47.923282Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "\u2705 TravelAgent initialized with Gemini 2.0 Flash", "model": "gemini-2.0-flash-001", "model_provider": "gemini", "cost_per_search": "$0.0016", "tools_count": 11, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:09:02.008823Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "\ud83d\ude80 Initializing TravelAgent with gemini...", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:09:02.054877Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "\u2705 TravelAgent initialized with Gemini 2.0 Flash", "model": "gemini-2.0-flash-001", "model_provider": "gemini", "cost_per_search": "$0.0016", "tools_count": 11, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:09:26.004600Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "\ud83e\udd16 Analyzing request", "user_request": "DEMANDE UTILISATEUR:\nje veux  aller \u00e0 Rio au mois de Mai \n\nCONTEXTE DISPONIBLE (utilise si pertinent", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:09:29.123993Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "Agent iteration 1", "user_request": "DEMANDE UTILISATEUR:\nje veux  aller \u00e0 Rio au mois de Mai \n\nCONTEXTE DISPONIBLE (utilise si pertinent", "iteration": 1, "tools_used": ["get_destination_context"], "llm_duration_seconds": 3.1182310581207275, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:09:29.282463Z", "level": "INFO", "logger": "services.wikipedia_service", "module": "wikipedia_service", "function": "get_city_context", "line": 83, "message": "\u2705 Wikipedia context retrieved for Rio de Janeiro", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:09:29.283327Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "   \u2192 Tool executed: get_destination_context", "user_request": "DEMANDE UTILISATEUR:\nje veux  aller \u00e0 Rio au mois de Mai \n\nCONTEXTE DISPONIBLE (utilise si pertinent", "tool_name": "get_destination_context", "tool_args": {"city": "Rio de Janeiro"}, "tool_duration_seconds": 0.1585991382598877, "result_length": 607, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:09:31.053168Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "Agent iteration 2", "user_request": "DEMANDE UTILISATEUR:\nje veux  aller \u00e0 Rio au mois de Mai \n\nCONTEXTE DISPONIBLE (utilise si pertinent", "iteration": 2, "tools_used": ["search_flights", "search_hotels", "search_vacation_rentals"], "llm_duration_seconds": 1.7686684131622314, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:09:31.055146Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "__init__", "line": 77, "message": "\u2705 FlightSearchService initialized with Amadeus API", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:09:31.056321Z", "level": "ERROR", "logger": "tools.travel_tools", "module": "travel_tools", "function": "search_flights", "line": 46, "message": "Error in search_flights tool: Invalid destination airport code: Rio de Janeiro", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:09:31.056932Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "   \u2192 Tool executed: search_flights", "user_request": "DEMANDE UTILISATEUR:\nje veux  aller \u00e0 Rio au mois de Mai \n\nCONTEXTE DISPONIBLE (utilise si pertinent", "tool_name": "search_flights", "tool_args": {"departure_date": "2024-05-19", "destination": "Rio de Janeiro", "return_date": "2024-05-26", "origin": "CDG"}, "tool_duration_seconds": 0.003173351287841797, "result_length": 79, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:09:31.061594Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "__init__", "line": 47, "message": "HotelSearchService initialized with providers: booking-com15, mock", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:09:31.062050Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_search_with_booking", "line": 78, "message": "Trying Booking.com15 for Rio de Janeiro", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:09:31.063537Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 201, "message": "Trying Booking.com15 location search: 'Rio de Janeiro'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:09:32.199262Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 219, "message": "\u2705 Found Booking.com15 dest_id: -666610 (type: city) for 'Rio de Janeiro'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:09:47.404081Z", "level": "ERROR", "logger": "services.hotel_service", "module": "hotel_service", "function": "search", "line": 70, "message": "Booking.com API error: HTTPSConnectionPool(host='booking-com15.p.rapidapi.com', port=443): Read timed out. (read timeout=15)", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:09:47.405595Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "search", "line": 73, "message": "Using mock data for Rio de Janeiro", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:09:47.406320Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "   \u2192 Tool executed: search_hotels", "user_request": "DEMANDE UTILISATEUR:\nje veux  aller \u00e0 Rio au mois de Mai \n\nCONTEXTE DISPONIBLE (utilise si pertinent", "tool_name": "search_hotels", "tool_args": {"guests": 2.0, "destination": "Rio de Janeiro", "checkin_date": "2024-05-19", "checkout_date": "2024-05-26"}, "tool_duration_seconds": 16.348828315734863, "result_length": 4, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:09:47.408320Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "__init__", "line": 66, "message": "VacationRentalService initialized with providers: serpapi, rapidapi, mock", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:09:47.409228Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "search_rentals", "line": 90, "message": "Trying SerpAPI for Rio de Janeiro", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:09:47.980791Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "search_rentals", "line": 101, "message": "Trying RapidAPI Airbnb for Rio de Janeiro", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:09:48.189452Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "search_rentals", "line": 110, "message": "Using mock data for Rio de Janeiro", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:09:48.190546Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "   \u2192 Tool executed: search_vacation_rentals", "user_request": "DEMANDE UTILISATEUR:\nje veux  aller \u00e0 Rio au mois de Mai \n\nCONTEXTE DISPONIBLE (utilise si pertinent", "tool_name": "search_vacation_rentals", "tool_args": {"guests": 2.0, "destination": "Rio de Janeiro", "checkin_date": "2024-05-19", "checkout_date": "2024-05-26"}, "tool_duration_seconds": 0.7832117080688477, "result_length": 42, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:09:49.612124Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "Agent iteration 3", "user_request": "DEMANDE UTILISATEUR:\nje veux  aller \u00e0 Rio au mois de Mai \n\nCONTEXTE DISPONIBLE (utilise si pertinent", "iteration": 3, "tools_used": ["search_flights"], "llm_duration_seconds": 1.420633316040039, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:09:49.614485Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "_search_with_amadeus", "line": 163, "message": "\ud83d\udd0d Amadeus search: CDG \u2192 GIG on 2024-05-19", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:09:50.094470Z", "level": "ERROR", "logger": "services.flight_service", "module": "flight_service", "function": "_search_with_amadeus", "line": 192, "message": "Amadeus API error: [400]\n", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:09:50.095212Z", "level": "ERROR", "logger": "services.flight_service", "module": "flight_service", "function": "search_flights", "line": 122, "message": "Flight search failed: [400]\n", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:09:50.096347Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "search_flights", "line": 123, "message": "Falling back to mock data", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:09:50.097605Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "_get_mock_flights", "line": 277, "message": "Using mock data for CDG \u2192 GIG", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:09:50.099187Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "   \u2192 Tool executed: search_flights", "user_request": "DEMANDE UTILISATEUR:\nje veux  aller \u00e0 Rio au mois de Mai \n\nCONTEXTE DISPONIBLE (utilise si pertinent", "tool_name": "search_flights", "tool_args": {"departure_date": "2024-05-19", "destination": "GIG", "return_date": "2024-05-26", "origin": "CDG"}, "tool_duration_seconds": 0.48607659339904785, "result_length": 33, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:09:53.804557Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "Agent iteration 4", "user_request": "DEMANDE UTILISATEUR:\nje veux  aller \u00e0 Rio au mois de Mai \n\nCONTEXTE DISPONIBLE (utilise si pertinent", "iteration": 4, "tools_used": ["find_cultural_activities"], "llm_duration_seconds": 3.7045655250549316, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:09:55.176721Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "   \u2192 Tool executed: find_cultural_activities", "user_request": "DEMANDE UTILISATEUR:\nje veux  aller \u00e0 Rio au mois de Mai \n\nCONTEXTE DISPONIBLE (utilise si pertinent", "tool_name": "find_cultural_activities", "tool_args": {"preferences": "art,history", "city": "Rio de Janeiro"}, "tool_duration_seconds": 1.3711235523223877, "result_length": 53, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:09:57.222069Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "Agent iteration 5", "user_request": "DEMANDE UTILISATEUR:\nje veux  aller \u00e0 Rio au mois de Mai \n\nCONTEXTE DISPONIBLE (utilise si pertinent", "iteration": 5, "tools_used": ["recommend_restaurants"], "llm_duration_seconds": 2.044344663619995, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:09:59.477056Z", "level": "INFO", "logger": "services.restaurant_service", "module": "restaurant_service", "function": "find_restaurants", "line": 90, "message": "\u2705 4 restaurants from Travel Advisor API", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:09:59.477626Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "   \u2192 Tool executed: recommend_restaurants", "user_request": "DEMANDE UTILISATEUR:\nje veux  aller \u00e0 Rio au mois de Mai \n\nCONTEXTE DISPONIBLE (utilise si pertinent", "tool_name": "recommend_restaurants", "tool_args": {"city": "Rio de Janeiro", "budget": "$$", "cuisine_types": "local"}, "tool_duration_seconds": 2.2540993690490723, "result_length": 1323, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:09:59.478420Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "\ud83d\udcca Generating final response...", "user_request": "DEMANDE UTILISATEUR:\nje veux  aller \u00e0 Rio au mois de Mai \n\nCONTEXTE DISPONIBLE (utilise si pertinent", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:10:00.588337Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "\u2705 Request completed", "user_request": "DEMANDE UTILISATEUR:\nje veux  aller \u00e0 Rio au mois de Mai \n\nCONTEXTE DISPONIBLE (utilise si pertinent", "max_iterations_reached": true, "total_duration_seconds": 34.58396244049072, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:14:21.502323Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "\ud83d\ude80 Initializing TravelAgent with gemini...", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:14:21.543479Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "\u2705 TravelAgent initialized with Gemini 2.0 Flash", "model": "gemini-2.0-flash-001", "model_provider": "gemini", "cost_per_search": "$0.0016", "tools_count": 11, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:23:08.357106Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "\ud83d\ude80 Initializing TravelAgent with gemini...", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:23:08.404371Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "\u2705 TravelAgent initialized with Gemini 2.0 Flash", "model": "gemini-2.0-flash-001", "model_provider": "gemini", "cost_per_search": "$0.0016", "tools_count": 12, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:27:36.214730Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "\ud83e\udd16 Analyzing request", "user_request": "DEMANDE UTILISATEUR:\nje veux alller \u00e0 Marakech\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:27:39.205304Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "Agent iteration 1", "user_request": "DEMANDE UTILISATEUR:\nje veux alller \u00e0 Marakech\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil", "iteration": 1, "tools_used": ["get_destination_context"], "llm_duration_seconds": 2.9890496730804443, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:27:39.373299Z", "level": "INFO", "logger": "services.wikipedia_service", "module": "wikipedia_service", "function": "get_city_context", "line": 83, "message": "\u2705 Wikipedia context retrieved for Marrakech", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:27:39.374228Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "   \u2192 Tool executed: get_destination_context", "user_request": "DEMANDE UTILISATEUR:\nje veux alller \u00e0 Marakech\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil", "tool_name": "get_destination_context", "tool_args": {"city": "Marrakech"}, "tool_duration_seconds": 0.16781830787658691, "result_length": 497, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:27:40.010666Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "Agent iteration 2", "user_request": "DEMANDE UTILISATEUR:\nje veux alller \u00e0 Marakech\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil", "iteration": 2, "tools_used": ["get_airport_code"], "llm_duration_seconds": 0.6355226039886475, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:27:40.013006Z", "level": "INFO", "logger": "services.airport_service", "module": "airport_service", "function": "__init__", "line": 37, "message": "\u2705 AirportCodeService initialized with Amadeus API", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:27:40.571453Z", "level": "INFO", "logger": "services.airport_service", "module": "airport_service", "function": "get_airport_code", "line": 122, "message": "\u2705 Found airport code via fallback: Marrakech \u2192 RAK", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:27:40.572247Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "   \u2192 Tool executed: get_airport_code", "user_request": "DEMANDE UTILISATEUR:\nje veux alller \u00e0 Marakech\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil", "tool_name": "get_airport_code", "tool_args": {"city_name": "Marrakech"}, "tool_duration_seconds": 0.5608677864074707, "result_length": 47, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:27:41.410988Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "Agent iteration 3", "user_request": "DEMANDE UTILISATEUR:\nje veux alller \u00e0 Marakech\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil", "iteration": 3, "tools_used": ["search_flights"], "llm_duration_seconds": 0.8366663455963135, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:27:41.413435Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "__init__", "line": 77, "message": "\u2705 FlightSearchService initialized with Amadeus API", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:27:41.415178Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "_search_with_amadeus", "line": 163, "message": "\ud83d\udd0d Amadeus search: CDG \u2192 RAK on 2026-03-19", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:27:50.240667Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "_search_with_amadeus", "line": 188, "message": "\u2705 Amadeus: Found 5 real flight options", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:27:50.241480Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "   \u2192 Tool executed: search_flights", "user_request": "DEMANDE UTILISATEUR:\nje veux alller \u00e0 Marakech\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil", "tool_name": "search_flights", "tool_args": {"return_date": "2026-03-26", "departure_date": "2026-03-19", "destination": "RAK", "origin": "CDG"}, "tool_duration_seconds": 8.829640865325928, "result_length": 476, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:27:51.086051Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "Agent iteration 4", "user_request": "DEMANDE UTILISATEUR:\nje veux alller \u00e0 Marakech\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil", "iteration": 4, "tools_used": ["search_hotels"], "llm_duration_seconds": 0.8423793315887451, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:27:51.103095Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "__init__", "line": 48, "message": "HotelSearchService initialized with providers: booking-com15, mock", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:27:51.103978Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_search_with_booking", "line": 79, "message": "Trying Booking.com15 for Marrakech", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:27:51.105162Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 202, "message": "Trying Booking.com15 location search: 'Marrakech'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:27:57.145523Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 220, "message": "\u2705 Found Booking.com15 dest_id: -38833 (type: city) for 'Marrakech'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:27:58.954152Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_search_with_booking", "line": 178, "message": "\u2705 Booking.com15: Found 5 hotels", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:27:58.957228Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "   \u2192 Tool executed: search_hotels", "user_request": "DEMANDE UTILISATEUR:\nje veux alller \u00e0 Marakech\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil", "tool_name": "search_hotels", "tool_args": {"checkin_date": "2026-03-19", "guests": 2.0, "checkout_date": "2026-03-26", "destination": "Marrakech"}, "tool_duration_seconds": 7.870099067687988, "result_length": 4, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:27:59.880861Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "Agent iteration 5", "user_request": "DEMANDE UTILISATEUR:\nje veux alller \u00e0 Marakech\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil", "iteration": 5, "tools_used": ["search_vacation_rentals"], "llm_duration_seconds": 0.9227213859558105, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:27:59.883983Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "__init__", "line": 66, "message": "VacationRentalService initialized with providers: serpapi, rapidapi, mock", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:27:59.885476Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "search_rentals", "line": 90, "message": "Trying SerpAPI for Marrakech", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:28:00.468449Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "search_rentals", "line": 101, "message": "Trying RapidAPI Airbnb for Marrakech", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:28:01.997079Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "search_rentals", "line": 104, "message": "\u2705 RapidAPI: Found 5 rentals", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:28:01.998408Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "   \u2192 Tool executed: search_vacation_rentals", "user_request": "DEMANDE UTILISATEUR:\nje veux alller \u00e0 Marakech\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil", "tool_name": "search_vacation_rentals", "tool_args": {"checkin_date": "2026-03-19", "guests": 2.0, "checkout_date": "2026-03-26", "destination": "Marrakech"}, "tool_duration_seconds": 2.1165547370910645, "result_length": 1024, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:28:01.999558Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "\ud83d\udcca Generating final response...", "user_request": "DEMANDE UTILISATEUR:\nje veux alller \u00e0 Marakech\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:28:02.647660Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "\u2705 Request completed", "user_request": "DEMANDE UTILISATEUR:\nje veux alller \u00e0 Marakech\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil", "max_iterations_reached": true, "total_duration_seconds": 26.432937622070312, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:45:04.730040Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "\ud83e\udd16 Analyzing request", "user_request": "DEMANDE UTILISATEUR:\nosaka\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9p", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:45:06.531731Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "Agent iteration 1", "user_request": "DEMANDE UTILISATEUR:\nosaka\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9p", "iteration": 1, "tools_used": ["get_destination_context"], "llm_duration_seconds": 1.8004388809204102, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:45:07.037304Z", "level": "INFO", "logger": "services.wikipedia_service", "module": "wikipedia_service", "function": "get_city_context", "line": 83, "message": "\u2705 Wikipedia context retrieved for Osaka", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:45:07.038355Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "   \u2192 Tool executed: get_destination_context", "user_request": "DEMANDE UTILISATEUR:\nosaka\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9p", "tool_name": "get_destination_context", "tool_args": {"city": "Osaka"}, "tool_duration_seconds": 0.5054941177368164, "result_length": 580, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:45:07.693821Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "Agent iteration 2", "user_request": "DEMANDE UTILISATEUR:\nosaka\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9p", "iteration": 2, "tools_used": ["get_airport_code"], "llm_duration_seconds": 0.6541187763214111, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:45:07.957585Z", "level": "WARNING", "logger": "services.airport_service", "module": "airport_service", "function": "get_airport_code", "line": 131, "message": "\u274c Could not find airport code for: Osaka", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:45:07.958802Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "   \u2192 Tool executed: get_airport_code", "user_request": "DEMANDE UTILISATEUR:\nosaka\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9p", "tool_name": "get_airport_code", "tool_args": {"city_name": "Osaka"}, "tool_duration_seconds": 0.2639946937561035, "result_length": 93, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:45:08.704516Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "Agent iteration 3", "user_request": "DEMANDE UTILISATEUR:\nosaka\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9p", "iteration": 3, "tools_used": ["get_airport_code"], "llm_duration_seconds": 0.7441084384918213, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:45:09.008085Z", "level": "WARNING", "logger": "services.airport_service", "module": "airport_service", "function": "get_airport_code", "line": 131, "message": "\u274c Could not find airport code for: Osaka", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:45:09.009823Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "   \u2192 Tool executed: get_airport_code", "user_request": "DEMANDE UTILISATEUR:\nosaka\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9p", "tool_name": "get_airport_code", "tool_args": {"city_name": "Osaka"}, "tool_duration_seconds": 0.3035769462585449, "result_length": 93, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:45:09.772277Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "Agent iteration 4", "user_request": "DEMANDE UTILISATEUR:\nosaka\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9p", "iteration": 4, "tools_used": ["get_airport_code"], "llm_duration_seconds": 0.7605292797088623, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:45:09.945946Z", "level": "WARNING", "logger": "services.airport_service", "module": "airport_service", "function": "get_airport_code", "line": 131, "message": "\u274c Could not find airport code for: Osaka", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:45:09.946538Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "   \u2192 Tool executed: get_airport_code", "user_request": "DEMANDE UTILISATEUR:\nosaka\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9p", "tool_name": "get_airport_code", "tool_args": {"city_name": "Osaka"}, "tool_duration_seconds": 0.1736149787902832, "result_length": 93, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:45:10.787918Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "Agent iteration 5", "user_request": "DEMANDE UTILISATEUR:\nosaka\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9p", "iteration": 5, "tools_used": ["get_airport_code"], "llm_duration_seconds": 0.8402674198150635, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:45:10.962912Z", "level": "WARNING", "logger": "services.airport_service", "module": "airport_service", "function": "get_airport_code", "line": 131, "message": "\u274c Could not find airport code for: Osaka", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:45:10.963679Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "   \u2192 Tool executed: get_airport_code", "user_request": "DEMANDE UTILISATEUR:\nosaka\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9p", "tool_name": "get_airport_code", "tool_args": {"city_name": "Osaka"}, "tool_duration_seconds": 0.1750020980834961, "result_length": 93, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:45:10.964708Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "\ud83d\udcca Generating final response...", "user_request": "DEMANDE UTILISATEUR:\nosaka\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9p", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:45:11.788506Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "\u2705 Request completed", "user_request": "DEMANDE UTILISATEUR:\nosaka\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9p", "max_iterations_reached": true, "total_duration_seconds": 7.059133768081665, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:55:47.888630Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 209, "message": "\ud83d\ude80 Initializing TravelAgent with gemini...", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:55:47.932130Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 209, "message": "\u2705 TravelAgent initialized with Gemini 2.0 Flash", "model": "gemini-2.0-flash-001", "model_provider": "gemini", "cost_per_search": "$0.0016", "tools_count": 12, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:55:56.948837Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 209, "message": "\ud83e\udd16 Analyzing request", "user_request": "DEMANDE UTILISATEUR:\nosaka \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:56:00.336784Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 209, "message": "Agent iteration 1", "user_request": "DEMANDE UTILISATEUR:\nosaka \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9", "iteration": 1, "tools_used": ["get_destination_context"], "llm_duration_seconds": 3.3856966495513916, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:56:00.481451Z", "level": "INFO", "logger": "services.wikipedia_service", "module": "wikipedia_service", "function": "get_city_context", "line": 83, "message": "\u2705 Wikipedia context retrieved for Osaka", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:56:00.487274Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 209, "message": "   \u2192 Tool executed: get_destination_context", "user_request": "DEMANDE UTILISATEUR:\nosaka \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9", "tool_name": "get_destination_context", "tool_args": {"city": "Osaka"}, "tool_duration_seconds": 0.1481161117553711, "result_length": 580, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:56:01.172528Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 209, "message": "Agent iteration 2", "user_request": "DEMANDE UTILISATEUR:\nosaka \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9", "iteration": 2, "tools_used": ["get_airport_code"], "llm_duration_seconds": 0.6826634407043457, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:56:01.175763Z", "level": "INFO", "logger": "services.airport_service", "module": "airport_service", "function": "__init__", "line": 37, "message": "\u2705 AirportCodeService initialized with Amadeus API", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:56:01.694022Z", "level": "WARNING", "logger": "services.airport_service", "module": "airport_service", "function": "get_airport_code", "line": 131, "message": "\u274c Could not find airport code for: Osaka", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:56:01.697016Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 209, "message": "   \u2192 Tool executed: get_airport_code", "user_request": "DEMANDE UTILISATEUR:\nosaka \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9", "tool_name": "get_airport_code", "tool_args": {"city_name": "Osaka"}, "tool_duration_seconds": 0.5208330154418945, "result_length": 93, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:56:02.416036Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 209, "message": "Agent iteration 3", "user_request": "DEMANDE UTILISATEUR:\nosaka \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9", "iteration": 3, "tools_used": ["get_airport_code"], "llm_duration_seconds": 0.7173869609832764, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:56:02.703443Z", "level": "INFO", "logger": "services.airport_service", "module": "airport_service", "function": "get_airport_code", "line": 122, "message": "\u2705 Found airport code via fallback: Tokyo \u2192 NRT", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:56:02.704038Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 209, "message": "   \u2192 Tool executed: get_airport_code", "user_request": "DEMANDE UTILISATEUR:\nosaka \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9", "tool_name": "get_airport_code", "tool_args": {"city_name": "Tokyo"}, "tool_duration_seconds": 0.287555456161499, "result_length": 39, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:56:03.537795Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 209, "message": "Agent iteration 4", "user_request": "DEMANDE UTILISATEUR:\nosaka \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9", "iteration": 4, "tools_used": ["search_flights"], "llm_duration_seconds": 0.8332479000091553, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:56:03.539536Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "__init__", "line": 77, "message": "\u2705 FlightSearchService initialized with Amadeus API", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:56:03.541186Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "_search_with_amadeus", "line": 163, "message": "\ud83d\udd0d Amadeus search: CDG \u2192 NRT on 2026-03-19", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:56:13.645900Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "_search_with_amadeus", "line": 188, "message": "\u2705 Amadeus: Found 5 real flight options", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:56:13.646945Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 209, "message": "   \u2192 Tool executed: search_flights", "user_request": "DEMANDE UTILISATEUR:\nosaka \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9", "tool_name": "search_flights", "tool_args": {"destination": "NRT", "return_date": "2026-03-26", "departure_date": "2026-03-19", "origin": "CDG"}, "tool_duration_seconds": 10.108381986618042, "result_length": 494, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:56:14.531377Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 209, "message": "Agent iteration 5", "user_request": "DEMANDE UTILISATEUR:\nosaka \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9", "iteration": 5, "tools_used": ["search_hotels"], "llm_duration_seconds": 0.8835604190826416, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:56:14.537729Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "__init__", "line": 48, "message": "HotelSearchService initialized with providers: booking-com15, mock", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:56:14.538411Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_search_with_booking", "line": 79, "message": "Trying Booking.com15 for Osaka", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:56:14.538863Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 202, "message": "Trying Booking.com15 location search: 'Osaka'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:56:15.431394Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 220, "message": "\u2705 Found Booking.com15 dest_id: -240905 (type: city) for 'Osaka'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:56:17.335756Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_search_with_booking", "line": 178, "message": "\u2705 Booking.com15: Found 5 hotels", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:56:17.340164Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 209, "message": "   \u2192 Tool executed: search_hotels", "user_request": "DEMANDE UTILISATEUR:\nosaka \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9", "tool_name": "search_hotels", "tool_args": {"destination": "Osaka", "guests": 2.0, "checkin_date": "2026-03-19", "checkout_date": "2026-03-26"}, "tool_duration_seconds": 2.808075428009033, "result_length": 4, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:56:18.243892Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 209, "message": "Agent iteration 6", "user_request": "DEMANDE UTILISATEUR:\nosaka \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9", "iteration": 6, "tools_used": ["search_vacation_rentals"], "llm_duration_seconds": 0.9028046131134033, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:56:18.246505Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "__init__", "line": 66, "message": "VacationRentalService initialized with providers: serpapi, rapidapi, mock", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:56:18.248395Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "search_rentals", "line": 90, "message": "Trying SerpAPI for Osaka", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:56:18.561459Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "search_rentals", "line": 101, "message": "Trying RapidAPI Airbnb for Osaka", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:56:20.123010Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "search_rentals", "line": 104, "message": "\u2705 RapidAPI: Found 5 rentals", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:56:20.123670Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 209, "message": "   \u2192 Tool executed: search_vacation_rentals", "user_request": "DEMANDE UTILISATEUR:\nosaka \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9", "tool_name": "search_vacation_rentals", "tool_args": {"destination": "Osaka", "guests": 2.0, "checkin_date": "2026-03-19", "checkout_date": "2026-03-26"}, "tool_duration_seconds": 1.8790640830993652, "result_length": 969, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:56:23.625039Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 209, "message": "Agent iteration 7", "user_request": "DEMANDE UTILISATEUR:\nosaka \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9", "iteration": 7, "tools_used": ["find_cultural_activities"], "llm_duration_seconds": 3.500417709350586, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:56:25.390064Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 209, "message": "   \u2192 Tool executed: find_cultural_activities", "user_request": "DEMANDE UTILISATEUR:\nosaka \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9", "tool_name": "find_cultural_activities", "tool_args": {"preferences": "art,history", "city": "Osaka"}, "tool_duration_seconds": 1.7642273902893066, "result_length": 358, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:56:26.204048Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 209, "message": "Agent iteration 8", "user_request": "DEMANDE UTILISATEUR:\nosaka \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9", "iteration": 8, "tools_used": ["recommend_restaurants"], "llm_duration_seconds": 0.8130934238433838, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:56:28.701983Z", "level": "INFO", "logger": "services.restaurant_service", "module": "restaurant_service", "function": "find_restaurants", "line": 90, "message": "\u2705 2 restaurants from Travel Advisor API", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:56:28.702795Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 209, "message": "   \u2192 Tool executed: recommend_restaurants", "user_request": "DEMANDE UTILISATEUR:\nosaka \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9", "tool_name": "recommend_restaurants", "tool_args": {"cuisine_types": "local", "budget": "$$", "city": "Osaka"}, "tool_duration_seconds": 2.498047351837158, "result_length": 803, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:56:29.740262Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 209, "message": "Agent iteration 9", "user_request": "DEMANDE UTILISATEUR:\nosaka \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9", "iteration": 9, "tools_used": ["create_visit_itinerary"], "llm_duration_seconds": 1.036536693572998, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:56:33.410992Z", "level": "INFO", "logger": "services.restaurant_service", "module": "restaurant_service", "function": "find_restaurants", "line": 90, "message": "\u2705 7 restaurants from Travel Advisor API", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:56:33.411682Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 209, "message": "   \u2192 Tool executed: create_visit_itinerary", "user_request": "DEMANDE UTILISATEUR:\nosaka \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9", "tool_name": "create_visit_itinerary", "tool_args": {"city": "Osaka", "duration_days": 7.0, "interests": "culture,food,attractions"}, "tool_duration_seconds": 3.6707754135131836, "result_length": 3751, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:56:34.182057Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 209, "message": "Agent iteration 10", "user_request": "DEMANDE UTILISATEUR:\nosaka \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9", "iteration": 10, "tools_used": ["generate_travel_map"], "llm_duration_seconds": 0.76943039894104, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:56:52.673429Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 209, "message": "   \u2192 Tool executed: generate_travel_map", "user_request": "DEMANDE UTILISATEUR:\nosaka \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9", "tool_name": "generate_travel_map", "tool_args": {"city": "Osaka", "hotel_addresses": "Osaka"}, "tool_duration_seconds": 18.49070692062378, "result_length": 152, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:56:55.690498Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 209, "message": "Agent iteration 11", "user_request": "DEMANDE UTILISATEUR:\nosaka \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9", "iteration": 11, "tools_used": ["calculate_total_cost"], "llm_duration_seconds": 3.016385793685913, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:56:55.692628Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 209, "message": "   \u2192 Tool executed: calculate_total_cost", "user_request": "DEMANDE UTILISATEUR:\nosaka \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9", "tool_name": "calculate_total_cost", "tool_args": {"travelers": 2.0, "hotel_price": 2569.0, "flight_price": 973.3}, "tool_duration_seconds": 0.0011203289031982422, "result_length": 144, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:56:56.743123Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 209, "message": "Agent iteration 12", "user_request": "DEMANDE UTILISATEUR:\nosaka \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9", "iteration": 12, "tools_used": ["recommend_best_package"], "llm_duration_seconds": 1.0492947101593018, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:56:56.744910Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 209, "message": "   \u2192 Tool executed: recommend_best_package", "user_request": "DEMANDE UTILISATEUR:\nosaka \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9", "tool_name": "recommend_best_package", "tool_args": {"user_budget": "medium", "travel_style": "balanced", "packages_info": "Package 1: $4515.6 (Vol+Location)", "priorities": "value"}, "tool_duration_seconds": 0.0012595653533935547, "result_length": 2938, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:56:57.808474Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 209, "message": "\u2705 Finished after 13 iteration(s)", "user_request": "DEMANDE UTILISATEUR:\nosaka \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9", "iterations": 13, "total_duration_seconds": 60.85998177528381, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:01:12.498976Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "\ud83d\ude80 Initializing TravelAgent with gemini...", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:01:12.569279Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "\u2705 TravelAgent initialized with Gemini 2.0 Flash", "model": "gemini-2.0-flash-001", "model_provider": "gemini", "cost_per_search": "$0.0016", "tools_count": 12, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:02:41.992912Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "\ud83d\ude80 Initializing TravelAgent with gemini...", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:02:42.035748Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "\u2705 TravelAgent initialized with Gemini 2.0 Flash", "model": "gemini-2.0-flash-001", "model_provider": "gemini", "cost_per_search": "$0.0016", "tools_count": 12, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:03:24.102603Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "\ud83e\udd16 Analyzing request", "user_request": "DEMANDE UTILISATEUR:\nosaka\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9p", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:03:26.565952Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "Agent iteration 1", "user_request": "DEMANDE UTILISATEUR:\nosaka\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9p", "iteration": 1, "tools_used": ["get_destination_context"], "llm_duration_seconds": 2.4623169898986816, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:03:26.707031Z", "level": "INFO", "logger": "services.wikipedia_service", "module": "wikipedia_service", "function": "get_city_context", "line": 83, "message": "\u2705 Wikipedia context retrieved for Osaka", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:03:26.707646Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "   \u2192 Tool executed: get_destination_context", "user_request": "DEMANDE UTILISATEUR:\nosaka\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9p", "tool_name": "get_destination_context", "tool_args": {"city": "Osaka"}, "tool_duration_seconds": 0.14102721214294434, "result_length": 580, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:03:27.689442Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "Agent iteration 2", "user_request": "DEMANDE UTILISATEUR:\nosaka\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9p", "iteration": 2, "tools_used": ["get_airport_code"], "llm_duration_seconds": 0.981060266494751, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:03:27.691075Z", "level": "INFO", "logger": "services.airport_service", "module": "airport_service", "function": "__init__", "line": 37, "message": "\u2705 AirportCodeService initialized with Amadeus API", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:03:28.066005Z", "level": "INFO", "logger": "services.airport_service", "module": "airport_service", "function": "get_airport_code", "line": 123, "message": "\u2705 Found airport code via fallback: Osaka \u2192 KIX", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:03:28.066455Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "   \u2192 Tool executed: get_airport_code", "user_request": "DEMANDE UTILISATEUR:\nosaka\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9p", "tool_name": "get_airport_code", "tool_args": {"city_name": "Osaka"}, "tool_duration_seconds": 0.3766610622406006, "result_length": 39, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:03:28.865485Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "Agent iteration 3", "user_request": "DEMANDE UTILISATEUR:\nosaka\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9p", "iteration": 3, "tools_used": ["search_flights"], "llm_duration_seconds": 0.7985506057739258, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:03:28.868186Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "__init__", "line": 77, "message": "\u2705 FlightSearchService initialized with Amadeus API", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:03:28.869553Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "_search_with_amadeus", "line": 163, "message": "\ud83d\udd0d Amadeus search: CDG \u2192 KIX on 2026-03-19", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:03:38.236732Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "_search_with_amadeus", "line": 188, "message": "\u2705 Amadeus: Found 5 real flight options", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:03:38.244996Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "   \u2192 Tool executed: search_flights", "user_request": "DEMANDE UTILISATEUR:\nosaka\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9p", "tool_name": "search_flights", "tool_args": {"origin": "CDG", "destination": "KIX", "return_date": "2026-03-26", "departure_date": "2026-03-19"}, "tool_duration_seconds": 9.37712049484253, "result_length": 495, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:03:39.105499Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "Agent iteration 4", "user_request": "DEMANDE UTILISATEUR:\nosaka\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9p", "iteration": 4, "tools_used": ["search_hotels"], "llm_duration_seconds": 0.8594887256622314, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:03:39.110468Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "__init__", "line": 48, "message": "HotelSearchService initialized with providers: booking-com15, mock", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:03:39.110985Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_search_with_booking", "line": 79, "message": "Trying Booking.com15 for Osaka", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:03:39.112533Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 202, "message": "Trying Booking.com15 location search: 'Osaka'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:03:40.980540Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 220, "message": "\u2705 Found Booking.com15 dest_id: -240905 (type: city) for 'Osaka'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:03:42.809616Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_search_with_booking", "line": 178, "message": "\u2705 Booking.com15: Found 5 hotels", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:03:42.811992Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "   \u2192 Tool executed: search_hotels", "user_request": "DEMANDE UTILISATEUR:\nosaka\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9p", "tool_name": "search_hotels", "tool_args": {"checkout_date": "2026-03-26", "destination": "Osaka", "checkin_date": "2026-03-19", "guests": 2.0}, "tool_duration_seconds": 3.706021547317505, "result_length": 4, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:03:43.785048Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "Agent iteration 5", "user_request": "DEMANDE UTILISATEUR:\nosaka\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9p", "iteration": 5, "tools_used": ["search_vacation_rentals"], "llm_duration_seconds": 0.9725680351257324, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:03:43.786179Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "__init__", "line": 66, "message": "VacationRentalService initialized with providers: serpapi, rapidapi, mock", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:03:43.786459Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "search_rentals", "line": 90, "message": "Trying SerpAPI for Osaka", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:03:44.173443Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "search_rentals", "line": 101, "message": "Trying RapidAPI Airbnb for Osaka", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:03:45.711666Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "search_rentals", "line": 104, "message": "\u2705 RapidAPI: Found 5 rentals", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:03:45.712348Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "   \u2192 Tool executed: search_vacation_rentals", "user_request": "DEMANDE UTILISATEUR:\nosaka\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9p", "tool_name": "search_vacation_rentals", "tool_args": {"checkout_date": "2026-03-26", "checkin_date": "2026-03-19", "destination": "Osaka", "guests": 2.0}, "tool_duration_seconds": 1.9269671440124512, "result_length": 957, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:03:48.207131Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "Agent iteration 6", "user_request": "DEMANDE UTILISATEUR:\nosaka\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9p", "iteration": 6, "tools_used": ["find_cultural_activities"], "llm_duration_seconds": 2.4939346313476562, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:04:16.738298Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "   \u2192 Tool executed: find_cultural_activities", "user_request": "DEMANDE UTILISATEUR:\nosaka\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9p", "tool_name": "find_cultural_activities", "tool_args": {"city": "Osaka", "preferences": "art,history"}, "tool_duration_seconds": 28.52989172935486, "result_length": 44, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:04:17.503909Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "Agent iteration 7", "user_request": "DEMANDE UTILISATEUR:\nosaka\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9p", "iteration": 7, "tools_used": ["recommend_restaurants"], "llm_duration_seconds": 0.7650823593139648, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:04:19.767102Z", "level": "INFO", "logger": "services.restaurant_service", "module": "restaurant_service", "function": "find_restaurants", "line": 90, "message": "\u2705 2 restaurants from Travel Advisor API", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:04:19.767841Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "   \u2192 Tool executed: recommend_restaurants", "user_request": "DEMANDE UTILISATEUR:\nosaka\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9p", "tool_name": "recommend_restaurants", "tool_args": {"city": "Osaka", "budget": "$$", "cuisine_types": "local"}, "tool_duration_seconds": 2.263256072998047, "result_length": 803, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:04:20.492756Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "Agent iteration 8", "user_request": "DEMANDE UTILISATEUR:\nosaka\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9p", "iteration": 8, "tools_used": ["create_visit_itinerary"], "llm_duration_seconds": 0.7238626480102539, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:04:26.331307Z", "level": "INFO", "logger": "services.restaurant_service", "module": "restaurant_service", "function": "find_restaurants", "line": 90, "message": "\u2705 7 restaurants from Travel Advisor API", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:04:26.332604Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "   \u2192 Tool executed: create_visit_itinerary", "user_request": "DEMANDE UTILISATEUR:\nosaka\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9p", "tool_name": "create_visit_itinerary", "tool_args": {"city": "Osaka", "duration_days": 7.0, "interests": "culture,food,attractions"}, "tool_duration_seconds": 5.838968753814697, "result_length": 3751, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:04:27.295781Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "Agent iteration 9", "user_request": "DEMANDE UTILISATEUR:\nosaka\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9p", "iteration": 9, "tools_used": ["generate_travel_map"], "llm_duration_seconds": 0.9623217582702637, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:04:55.113857Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "   \u2192 Tool executed: generate_travel_map", "user_request": "DEMANDE UTILISATEUR:\nosaka\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9p", "tool_name": "generate_travel_map", "tool_args": {"city": "Osaka", "hotel_addresses": "FDS Azur/4min walk to Kujo Station/1LDK28.8\u33a1, SRNamba Shisaibashi2 min 6 min to station/3people"}, "tool_duration_seconds": 27.817286491394043, "result_length": 152, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:04:57.950214Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "Agent iteration 10", "user_request": "DEMANDE UTILISATEUR:\nosaka\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9p", "iteration": 10, "tools_used": ["calculate_total_cost"], "llm_duration_seconds": 2.8354392051696777, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:04:57.952248Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "   \u2192 Tool executed: calculate_total_cost", "user_request": "DEMANDE UTILISATEUR:\nosaka\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9p", "tool_name": "calculate_total_cost", "tool_args": {"hotel_price": 2569.0, "travelers": 2.0, "flight_price": 976.3}, "tool_duration_seconds": 0.0010378360748291016, "result_length": 144, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:04:58.873244Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "Agent iteration 11", "user_request": "DEMANDE UTILISATEUR:\nosaka\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9p", "iteration": 11, "tools_used": ["calculate_total_cost"], "llm_duration_seconds": 0.9202444553375244, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:04:58.874972Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "   \u2192 Tool executed: calculate_total_cost", "user_request": "DEMANDE UTILISATEUR:\nosaka\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9p", "tool_name": "calculate_total_cost", "tool_args": {"hotel_price": 3402.0, "travelers": 2.0, "flight_price": 976.3}, "tool_duration_seconds": 0.001093149185180664, "result_length": 144, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:04:59.889106Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "Agent iteration 12", "user_request": "DEMANDE UTILISATEUR:\nosaka\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9p", "iteration": 12, "tools_used": ["recommend_best_package"], "llm_duration_seconds": 1.0133323669433594, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:04:59.890419Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "   \u2192 Tool executed: recommend_best_package", "user_request": "DEMANDE UTILISATEUR:\nosaka\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9p", "tool_name": "recommend_best_package", "tool_args": {"travel_style": "balanced", "priorities": "value", "user_budget": "medium", "packages_info": "Package1: $4521.6 (vol+location), Package2: $5354.6 (vol+location)"}, "tool_duration_seconds": 0.0008459091186523438, "result_length": 2938, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:05:01.043764Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "\u2705 Finished after 13 iteration(s)", "user_request": "DEMANDE UTILISATEUR:\nosaka\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9p", "iterations": 13, "total_duration_seconds": 96.94104075431824, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:16:04.814653Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "\ud83d\ude80 Initializing TravelAgent with gemini...", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:16:04.872193Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "\u2705 TravelAgent initialized with Gemini 2.0 Flash", "model": "gemini-2.0-flash-001", "model_provider": "gemini", "cost_per_search": "$0.0016", "tools_count": 12, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:16:19.555366Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "\ud83e\udd16 Analyzing request", "user_request": "DEMANDE UTILISATEUR:\nosaka en septembre\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voy", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:16:22.701345Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "Agent iteration 1", "user_request": "DEMANDE UTILISATEUR:\nosaka en septembre\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voy", "iteration": 1, "tools_used": ["get_airport_code"], "llm_duration_seconds": 3.1440629959106445, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:16:22.705316Z", "level": "INFO", "logger": "services.airport_service", "module": "airport_service", "function": "__init__", "line": 37, "message": "\u2705 AirportCodeService initialized with Amadeus API", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:16:23.198070Z", "level": "INFO", "logger": "services.airport_service", "module": "airport_service", "function": "get_airport_code", "line": 123, "message": "\u2705 Found airport code via fallback: Osaka \u2192 KIX", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:16:23.199806Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "   \u2192 Tool executed: get_airport_code", "user_request": "DEMANDE UTILISATEUR:\nosaka en septembre\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voy", "tool_name": "get_airport_code", "tool_args": {"city_name": "Osaka"}, "tool_duration_seconds": 0.4967832565307617, "result_length": 39, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:16:24.659710Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "Agent iteration 2", "user_request": "DEMANDE UTILISATEUR:\nosaka en septembre\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voy", "iteration": 2, "tools_used": ["search_flights", "search_hotels", "search_vacation_rentals"], "llm_duration_seconds": 1.458949089050293, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:16:24.662770Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "__init__", "line": 77, "message": "\u2705 FlightSearchService initialized with Amadeus API", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:16:24.664191Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "_search_with_amadeus", "line": 163, "message": "\ud83d\udd0d Amadeus search: CDG \u2192 KIX on 2026-09-19", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:16:35.427296Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "_search_with_amadeus", "line": 188, "message": "\u2705 Amadeus: Found 5 real flight options", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:16:35.428763Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "   \u2192 Tool executed: search_flights", "user_request": "DEMANDE UTILISATEUR:\nosaka en septembre\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voy", "tool_name": "search_flights", "tool_args": {"origin": "CDG", "return_date": "2026-09-26", "destination": "KIX", "departure_date": "2026-09-19"}, "tool_duration_seconds": 10.768189430236816, "result_length": 495, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:16:35.433713Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "__init__", "line": 48, "message": "HotelSearchService initialized with providers: booking-com15, mock", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:16:35.434546Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_search_with_booking", "line": 79, "message": "Trying Booking.com15 for Osaka", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:16:35.435294Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 202, "message": "Trying Booking.com15 location search: 'Osaka'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:16:36.483167Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 220, "message": "\u2705 Found Booking.com15 dest_id: -240905 (type: city) for 'Osaka'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:16:39.865136Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_search_with_booking", "line": 178, "message": "\u2705 Booking.com15: Found 5 hotels", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:16:39.872679Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "   \u2192 Tool executed: search_hotels", "user_request": "DEMANDE UTILISATEUR:\nosaka en septembre\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voy", "tool_name": "search_hotels", "tool_args": {"checkin_date": "2026-09-19", "checkout_date": "2026-09-26", "guests": 2.0, "destination": "Osaka"}, "tool_duration_seconds": 4.44328236579895, "result_length": 4, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:16:39.876080Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "__init__", "line": 66, "message": "VacationRentalService initialized with providers: serpapi, rapidapi, mock", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:16:39.877732Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "search_rentals", "line": 90, "message": "Trying SerpAPI for Osaka", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:16:40.327599Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "search_rentals", "line": 101, "message": "Trying RapidAPI Airbnb for Osaka", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:16:42.054354Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "search_rentals", "line": 104, "message": "\u2705 RapidAPI: Found 5 rentals", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:16:42.055546Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "   \u2192 Tool executed: search_vacation_rentals", "user_request": "DEMANDE UTILISATEUR:\nosaka en septembre\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voy", "tool_name": "search_vacation_rentals", "tool_args": {"checkin_date": "2026-09-19", "checkout_date": "2026-09-26", "guests": 2.0, "destination": "Osaka"}, "tool_duration_seconds": 2.181626319885254, "result_length": 963, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:16:43.229601Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "Agent iteration 3", "user_request": "DEMANDE UTILISATEUR:\nosaka en septembre\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voy", "iteration": 3, "tools_used": ["find_cultural_activities", "recommend_restaurants", "create_visit_itinerary"], "llm_duration_seconds": 1.1728849411010742, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:16:45.375533Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "   \u2192 Tool executed: find_cultural_activities", "user_request": "DEMANDE UTILISATEUR:\nosaka en septembre\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voy", "tool_name": "find_cultural_activities", "tool_args": {"preferences": "art,history", "city": "Osaka"}, "tool_duration_seconds": 2.1451075077056885, "result_length": 358, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:16:47.412513Z", "level": "INFO", "logger": "services.restaurant_service", "module": "restaurant_service", "function": "find_restaurants", "line": 90, "message": "\u2705 2 restaurants from Travel Advisor API", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:16:47.413033Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "   \u2192 Tool executed: recommend_restaurants", "user_request": "DEMANDE UTILISATEUR:\nosaka en septembre\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voy", "tool_name": "recommend_restaurants", "tool_args": {"cuisine_types": "local", "city": "Osaka", "budget": "$$"}, "tool_duration_seconds": 2.0367913246154785, "result_length": 803, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:16:54.035825Z", "level": "INFO", "logger": "services.restaurant_service", "module": "restaurant_service", "function": "find_restaurants", "line": 90, "message": "\u2705 7 restaurants from Travel Advisor API", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:16:54.037185Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "   \u2192 Tool executed: create_visit_itinerary", "user_request": "DEMANDE UTILISATEUR:\nosaka en septembre\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voy", "tool_name": "create_visit_itinerary", "tool_args": {"interests": "culture,food,attractions", "city": "Osaka", "duration_days": 7.0}, "tool_duration_seconds": 6.623303651809692, "result_length": 3751, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:16:54.899254Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "Agent iteration 4", "user_request": "DEMANDE UTILISATEUR:\nosaka en septembre\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voy", "iteration": 4, "tools_used": ["generate_travel_map"], "llm_duration_seconds": 0.861426591873169, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:16:59.065442Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "   \u2192 Tool executed: generate_travel_map", "user_request": "DEMANDE UTILISATEUR:\nosaka en septembre\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voy", "tool_name": "generate_travel_map", "tool_args": {"city": "Osaka", "hotel_addresses": "Osaka"}, "tool_duration_seconds": 4.165746212005615, "result_length": 152, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:17:01.081253Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "\u2705 Finished after 5 iteration(s)", "user_request": "DEMANDE UTILISATEUR:\nosaka en septembre\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voy", "iterations": 5, "total_duration_seconds": 41.52588677406311, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:24:33.957005Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "\ud83d\ude80 Initializing TravelAgent with gemini...", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:24:34.009257Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "\u2705 TravelAgent initialized with Gemini 2.0 Flash", "model": "gemini-2.0-flash-001", "model_provider": "gemini", "cost_per_search": "$0.0016", "tools_count": 12, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:28:09.123144Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "\ud83d\ude80 Initializing TravelAgent with gemini...", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:28:09.174050Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "\u2705 TravelAgent initialized with Gemini 2.0 Flash", "model": "gemini-2.0-flash-001", "model_provider": "gemini", "cost_per_search": "$0.0016", "tools_count": 12, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:28:20.904915Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "\ud83e\udd16 Analyzing request", "user_request": "DEMANDE UTILISATEUR:\nhello\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9p", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:28:23.708734Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "\u2705 Finished after 1 iteration(s)", "user_request": "DEMANDE UTILISATEUR:\nhello\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9p", "iterations": 1, "total_duration_seconds": 2.804488182067871, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:28:40.524815Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "\ud83e\udd16 Analyzing request", "user_request": "DEMANDE UTILISATEUR:\nosaka mais en septembre\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: ", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:28:43.136183Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "\u2705 Finished after 1 iteration(s)", "user_request": "DEMANDE UTILISATEUR:\nosaka mais en septembre\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: ", "iterations": 1, "total_duration_seconds": 2.6114628314971924, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:29:26.067562Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "\ud83e\udd16 Analyzing request", "user_request": "DEMANDE UTILISATEUR:\nje pr\u00e9f\u00e8re aller \u00e0 Cuba au mois de mai \n\nCONTEXTE DISPONIBLE (utilise si pertin", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:29:28.762633Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "\u2705 Finished after 1 iteration(s)", "user_request": "DEMANDE UTILISATEUR:\nje pr\u00e9f\u00e8re aller \u00e0 Cuba au mois de mai \n\nCONTEXTE DISPONIBLE (utilise si pertin", "iterations": 1, "total_duration_seconds": 2.6950995922088623, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:30:10.283643Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "\ud83e\udd16 Analyzing request", "user_request": "DEMANDE UTILISATEUR:\nint\u00e9r\u00eat  art et histoire on veut \u00eatre \u00e0 la havane \n\nCONTEXTE DISPONIBLE (utilis", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:30:12.409838Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "\u2705 Finished after 1 iteration(s)", "user_request": "DEMANDE UTILISATEUR:\nint\u00e9r\u00eat  art et histoire on veut \u00eatre \u00e0 la havane \n\nCONTEXTE DISPONIBLE (utilis", "iterations": 1, "total_duration_seconds": 2.125953197479248, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:31:30.680550Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "\ud83e\udd16 Analyzing request", "user_request": "DEMANDE UTILISATEUR:\nen mai et je veux la havana et un budget de 2000 euros par personne\n\nCONTEXTE D", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:31:33.236354Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "\u2705 Finished after 1 iteration(s)", "user_request": "DEMANDE UTILISATEUR:\nen mai et je veux la havana et un budget de 2000 euros par personne\n\nCONTEXTE D", "iterations": 1, "total_duration_seconds": 2.5554747581481934, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:31:50.932476Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "\ud83e\udd16 Analyzing request", "user_request": "DEMANDE UTILISATEUR:\nlance la recherche \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 vo", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:31:53.153915Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "\u2705 Finished after 1 iteration(s)", "user_request": "DEMANDE UTILISATEUR:\nlance la recherche \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 vo", "iterations": 1, "total_duration_seconds": 2.222511053085327, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:35:48.561907Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "\ud83d\ude80 Initializing TravelAgent with gemini...", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:35:48.611254Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "\u2705 TravelAgent initialized with Gemini 2.0 Flash", "model": "gemini-2.0-flash-001", "model_provider": "gemini", "cost_per_search": "$0.0016", "tools_count": 12, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:36:03.520650Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "\ud83e\udd16 Analyzing request", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 CUBA au mois de mai \n\nCONTEXTE DISPONIBLE (utilise si pertinent", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:36:06.392286Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "Agent iteration 1", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 CUBA au mois de mai \n\nCONTEXTE DISPONIBLE (utilise si pertinent", "iteration": 1, "tools_used": ["get_airport_code"], "llm_duration_seconds": 2.8704185485839844, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:36:06.402606Z", "level": "INFO", "logger": "services.airport_service", "module": "airport_service", "function": "__init__", "line": 37, "message": "\u2705 AirportCodeService initialized with Amadeus API", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:36:06.962542Z", "level": "WARNING", "logger": "services.airport_service", "module": "airport_service", "function": "get_airport_code", "line": 132, "message": "\u274c Could not find airport code for: Cuba", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:36:06.963027Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "   \u2192 Tool executed: get_airport_code", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 CUBA au mois de mai \n\nCONTEXTE DISPONIBLE (utilise si pertinent", "tool_name": "get_airport_code", "tool_args": {"city_name": "Cuba"}, "tool_duration_seconds": 0.5664188861846924, "result_length": 92, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:36:07.913780Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "\u2705 Finished after 2 iteration(s)", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 CUBA au mois de mai \n\nCONTEXTE DISPONIBLE (utilise si pertinent", "iterations": 2, "total_duration_seconds": 4.394901752471924, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:36:35.160178Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "\ud83e\udd16 Analyzing request", "user_request": "DEMANDE UTILISATEUR:\nla havane \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s)", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:36:36.577321Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "Agent iteration 1", "user_request": "DEMANDE UTILISATEUR:\nla havane \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s)", "iteration": 1, "tools_used": ["get_airport_code"], "llm_duration_seconds": 1.4167335033416748, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:36:36.752311Z", "level": "INFO", "logger": "services.airport_service", "module": "airport_service", "function": "get_airport_code", "line": 123, "message": "\u2705 Found airport code via fallback: La Havane \u2192 HAV", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:36:36.752897Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "   \u2192 Tool executed: get_airport_code", "user_request": "DEMANDE UTILISATEUR:\nla havane \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s)", "tool_name": "get_airport_code", "tool_args": {"city_name": "La Havane"}, "tool_duration_seconds": 0.17505311965942383, "result_length": 47, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:36:37.749769Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "Agent iteration 2", "user_request": "DEMANDE UTILISATEUR:\nla havane \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s)", "iteration": 2, "tools_used": ["search_flights"], "llm_duration_seconds": 0.9962365627288818, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:36:37.752091Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "__init__", "line": 77, "message": "\u2705 FlightSearchService initialized with Amadeus API", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:36:37.753188Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "_search_with_amadeus", "line": 163, "message": "\ud83d\udd0d Amadeus search: CDG \u2192 HAV on 2026-03-19", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:42:43.098383Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "\ud83d\ude80 Initializing TravelAgent with gemini...", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:42:43.148719Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "\u2705 TravelAgent initialized with Gemini 2.0 Flash", "model": "gemini-2.0-flash-001", "model_provider": "gemini", "cost_per_search": "$0.0016", "tools_count": 12, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:43:10.006328Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "\ud83e\udd16 Analyzing request", "user_request": "DEMANDE UTILISATEUR:\ntokyo en avril\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageu", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:43:14.281003Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "Agent iteration 1", "user_request": "DEMANDE UTILISATEUR:\ntokyo en avril\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageu", "iteration": 1, "tools_used": ["get_destination_context", "get_airport_code", "search_flights", "search_hotels", "search_vacation_rentals", "find_cultural_activities", "recommend_restaurants", "create_visit_itinerary"], "llm_duration_seconds": 4.273479461669922, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:43:14.421556Z", "level": "INFO", "logger": "services.wikipedia_service", "module": "wikipedia_service", "function": "get_city_context", "line": 83, "message": "\u2705 Wikipedia context retrieved for Tokyo", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:43:14.422263Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "   \u2192 Tool executed: get_destination_context", "user_request": "DEMANDE UTILISATEUR:\ntokyo en avril\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageu", "tool_name": "get_destination_context", "tool_args": {"city": "Tokyo"}, "tool_duration_seconds": 0.14045238494873047, "result_length": 508, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:43:14.424339Z", "level": "INFO", "logger": "services.airport_service", "module": "airport_service", "function": "__init__", "line": 37, "message": "\u2705 AirportCodeService initialized with Amadeus API", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:43:14.835792Z", "level": "INFO", "logger": "services.airport_service", "module": "airport_service", "function": "get_airport_code", "line": 123, "message": "\u2705 Found airport code via fallback: Tokyo \u2192 NRT", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:43:14.836592Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "   \u2192 Tool executed: get_airport_code", "user_request": "DEMANDE UTILISATEUR:\ntokyo en avril\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageu", "tool_name": "get_airport_code", "tool_args": {"city_name": "Tokyo"}, "tool_duration_seconds": 0.41350674629211426, "result_length": 39, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:43:14.840735Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "__init__", "line": 77, "message": "\u2705 FlightSearchService initialized with Amadeus API", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:43:14.842855Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "_search_with_amadeus", "line": 163, "message": "\ud83d\udd0d Amadeus search: CDG \u2192 NRT on 2026-03-19", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:43:23.332386Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "_search_with_amadeus", "line": 188, "message": "\u2705 Amadeus: Found 5 real flight options", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:43:23.333206Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "   \u2192 Tool executed: search_flights", "user_request": "DEMANDE UTILISATEUR:\ntokyo en avril\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageu", "tool_name": "search_flights", "tool_args": {"departure_date": "2026-03-19", "destination": "NRT", "return_date": "2026-03-26", "origin": "CDG"}, "tool_duration_seconds": 8.495812177658081, "result_length": 494, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:43:23.339511Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "__init__", "line": 48, "message": "HotelSearchService initialized with providers: booking-com15, mock", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:43:23.340434Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_search_with_booking", "line": 79, "message": "Trying Booking.com15 for Tokyo", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:43:23.342237Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 202, "message": "Trying Booking.com15 location search: 'Tokyo'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:43:24.741933Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 220, "message": "\u2705 Found Booking.com15 dest_id: -246227 (type: city) for 'Tokyo'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:43:27.919161Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_search_with_booking", "line": 178, "message": "\u2705 Booking.com15: Found 5 hotels", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:43:27.923730Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "   \u2192 Tool executed: search_hotels", "user_request": "DEMANDE UTILISATEUR:\ntokyo en avril\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageu", "tool_name": "search_hotels", "tool_args": {"guests": 2.0, "destination": "Tokyo", "checkout_date": "2026-03-26", "checkin_date": "2026-03-19"}, "tool_duration_seconds": 4.589177370071411, "result_length": 4, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:43:27.926388Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "__init__", "line": 66, "message": "VacationRentalService initialized with providers: serpapi, rapidapi, mock", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:43:27.927320Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "search_rentals", "line": 90, "message": "Trying SerpAPI for Tokyo", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:43:28.447842Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "search_rentals", "line": 101, "message": "Trying RapidAPI Airbnb for Tokyo", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:43:31.152623Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "search_rentals", "line": 104, "message": "\u2705 RapidAPI: Found 5 rentals", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:43:31.153779Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "   \u2192 Tool executed: search_vacation_rentals", "user_request": "DEMANDE UTILISATEUR:\ntokyo en avril\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageu", "tool_name": "search_vacation_rentals", "tool_args": {"guests": 2.0, "destination": "Tokyo", "checkout_date": "2026-03-26", "checkin_date": "2026-03-19"}, "tool_duration_seconds": 3.229083776473999, "result_length": 1053, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:43:34.647325Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "   \u2192 Tool executed: find_cultural_activities", "user_request": "DEMANDE UTILISATEUR:\ntokyo en avril\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageu", "tool_name": "find_cultural_activities", "tool_args": {"city": "Tokyo", "preferences": "art,history"}, "tool_duration_seconds": 3.4924395084381104, "result_length": 261, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:43:36.828326Z", "level": "INFO", "logger": "services.restaurant_service", "module": "restaurant_service", "function": "find_restaurants", "line": 90, "message": "\u2705 2 restaurants from Travel Advisor API", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:43:36.828940Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "   \u2192 Tool executed: recommend_restaurants", "user_request": "DEMANDE UTILISATEUR:\ntokyo en avril\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageu", "tool_name": "recommend_restaurants", "tool_args": {"city": "Tokyo", "budget": "$$", "cuisine_types": "local"}, "tool_duration_seconds": 2.1806929111480713, "result_length": 590, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:43:42.658300Z", "level": "INFO", "logger": "services.restaurant_service", "module": "restaurant_service", "function": "find_restaurants", "line": 90, "message": "\u2705 6 restaurants from Travel Advisor API", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:43:42.659153Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "   \u2192 Tool executed: create_visit_itinerary", "user_request": "DEMANDE UTILISATEUR:\ntokyo en avril\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageu", "tool_name": "create_visit_itinerary", "tool_args": {"city": "Tokyo", "duration_days": 7.0, "interests": "culture,food,attractions"}, "tool_duration_seconds": 5.829313039779663, "result_length": 3500, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:43:48.653046Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "\u2705 Finished after 2 iteration(s)", "user_request": "DEMANDE UTILISATEUR:\ntokyo en avril\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageu", "iterations": 2, "total_duration_seconds": 38.647239446640015, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:05:21.834211Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "\ud83e\udd16 Analyzing request", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 osaka au mois de septembre\n\nCONTEXTE DISPONIBLE (utilise si per", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:05:21.858913Z", "level": "WARNING", "logger": "langchain_google_vertexai._retry", "module": "before_sleep", "function": "log_it", "line": 65, "message": "Retrying langchain_google_vertexai.chat_models._completion_with_retry.<locals>._completion_with_retry_inner in 4.0 seconds as it raised ServiceUnavailable: 503 recvmsg:Connection reset by peer.", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:05:27.807434Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "Agent iteration 1", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 osaka au mois de septembre\n\nCONTEXTE DISPONIBLE (utilise si per", "iteration": 1, "tools_used": ["get_destination_context"], "llm_duration_seconds": 5.969501256942749, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:05:28.039415Z", "level": "INFO", "logger": "services.wikipedia_service", "module": "wikipedia_service", "function": "get_city_context", "line": 83, "message": "\u2705 Wikipedia context retrieved for Osaka", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:05:28.039857Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "   \u2192 Tool executed: get_destination_context", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 osaka au mois de septembre\n\nCONTEXTE DISPONIBLE (utilise si per", "tool_name": "get_destination_context", "tool_args": {"city": "Osaka"}, "tool_duration_seconds": 0.2320270538330078, "result_length": 580, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:05:28.830829Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "Agent iteration 2", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 osaka au mois de septembre\n\nCONTEXTE DISPONIBLE (utilise si per", "iteration": 2, "tools_used": ["get_airport_code"], "llm_duration_seconds": 0.7902047634124756, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:05:28.999938Z", "level": "INFO", "logger": "services.airport_service", "module": "airport_service", "function": "get_airport_code", "line": 123, "message": "\u2705 Found airport code via fallback: Osaka \u2192 KIX", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:05:29.000992Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "   \u2192 Tool executed: get_airport_code", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 osaka au mois de septembre\n\nCONTEXTE DISPONIBLE (utilise si per", "tool_name": "get_airport_code", "tool_args": {"city_name": "Osaka"}, "tool_duration_seconds": 0.16917657852172852, "result_length": 39, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:05:29.961685Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "Agent iteration 3", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 osaka au mois de septembre\n\nCONTEXTE DISPONIBLE (utilise si per", "iteration": 3, "tools_used": ["search_flights"], "llm_duration_seconds": 0.9599258899688721, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:05:29.964214Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "_search_with_amadeus", "line": 163, "message": "\ud83d\udd0d Amadeus search: CDG \u2192 KIX on 2026-09-19", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:05:37.156776Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "_search_with_amadeus", "line": 188, "message": "\u2705 Amadeus: Found 5 real flight options", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:05:37.158220Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "   \u2192 Tool executed: search_flights", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 osaka au mois de septembre\n\nCONTEXTE DISPONIBLE (utilise si per", "tool_name": "search_flights", "tool_args": {"departure_date": "2026-09-19", "destination": "KIX", "return_date": "2026-09-26", "origin": "CDG"}, "tool_duration_seconds": 7.195379257202148, "result_length": 496, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:05:38.131647Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "Agent iteration 4", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 osaka au mois de septembre\n\nCONTEXTE DISPONIBLE (utilise si per", "iteration": 4, "tools_used": ["search_hotels"], "llm_duration_seconds": 0.9719269275665283, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:05:38.133464Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_search_with_booking", "line": 79, "message": "Trying Booking.com15 for Osaka", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:05:38.134122Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 202, "message": "Trying Booking.com15 location search: 'Osaka'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:05:39.162781Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 220, "message": "\u2705 Found Booking.com15 dest_id: -240905 (type: city) for 'Osaka'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:05:41.349376Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_search_with_booking", "line": 178, "message": "\u2705 Booking.com15: Found 5 hotels", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:05:41.353418Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "   \u2192 Tool executed: search_hotels", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 osaka au mois de septembre\n\nCONTEXTE DISPONIBLE (utilise si per", "tool_name": "search_hotels", "tool_args": {"guests": 2.0, "destination": "Osaka", "checkout_date": "2026-09-26", "checkin_date": "2026-09-19"}, "tool_duration_seconds": 3.220850706100464, "result_length": 4, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:05:42.819191Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "Agent iteration 5", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 osaka au mois de septembre\n\nCONTEXTE DISPONIBLE (utilise si per", "iteration": 5, "tools_used": ["search_vacation_rentals"], "llm_duration_seconds": 1.4648222923278809, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:05:42.821138Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "search_rentals", "line": 90, "message": "Trying SerpAPI for Osaka", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:05:43.136339Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "search_rentals", "line": 101, "message": "Trying RapidAPI Airbnb for Osaka", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:05:44.726656Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "search_rentals", "line": 104, "message": "\u2705 RapidAPI: Found 5 rentals", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:05:44.727854Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "   \u2192 Tool executed: search_vacation_rentals", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 osaka au mois de septembre\n\nCONTEXTE DISPONIBLE (utilise si per", "tool_name": "search_vacation_rentals", "tool_args": {"guests": 2.0, "destination": "Osaka", "checkout_date": "2026-09-26", "checkin_date": "2026-09-19"}, "tool_duration_seconds": 1.9077742099761963, "result_length": 962, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:05:45.588232Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "Agent iteration 6", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 osaka au mois de septembre\n\nCONTEXTE DISPONIBLE (utilise si per", "iteration": 6, "tools_used": ["find_cultural_activities"], "llm_duration_seconds": 0.859119176864624, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:05:50.351746Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "   \u2192 Tool executed: find_cultural_activities", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 osaka au mois de septembre\n\nCONTEXTE DISPONIBLE (utilise si per", "tool_name": "find_cultural_activities", "tool_args": {"city": "Osaka", "preferences": "art,history"}, "tool_duration_seconds": 4.762719392776489, "result_length": 358, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:05:51.203414Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "Agent iteration 7", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 osaka au mois de septembre\n\nCONTEXTE DISPONIBLE (utilise si per", "iteration": 7, "tools_used": ["recommend_restaurants"], "llm_duration_seconds": 0.8507256507873535, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:05:53.933183Z", "level": "INFO", "logger": "services.restaurant_service", "module": "restaurant_service", "function": "find_restaurants", "line": 90, "message": "\u2705 2 restaurants from Travel Advisor API", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:05:53.934313Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "   \u2192 Tool executed: recommend_restaurants", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 osaka au mois de septembre\n\nCONTEXTE DISPONIBLE (utilise si per", "tool_name": "recommend_restaurants", "tool_args": {"city": "Osaka", "budget": "$$", "cuisine_types": "local"}, "tool_duration_seconds": 2.7298777103424072, "result_length": 803, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:05:54.855696Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "Agent iteration 8", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 osaka au mois de septembre\n\nCONTEXTE DISPONIBLE (utilise si per", "iteration": 8, "tools_used": ["create_visit_itinerary"], "llm_duration_seconds": 0.9206395149230957, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:06:00.185737Z", "level": "INFO", "logger": "services.restaurant_service", "module": "restaurant_service", "function": "find_restaurants", "line": 90, "message": "\u2705 7 restaurants from Travel Advisor API", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:06:00.186581Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "   \u2192 Tool executed: create_visit_itinerary", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 osaka au mois de septembre\n\nCONTEXTE DISPONIBLE (utilise si per", "tool_name": "create_visit_itinerary", "tool_args": {"city": "Osaka", "duration_days": 7.0, "interests": "culture,food,attractions"}, "tool_duration_seconds": 5.330397605895996, "result_length": 3751, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:06:01.352219Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "Agent iteration 9", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 osaka au mois de septembre\n\nCONTEXTE DISPONIBLE (utilise si per", "iteration": 9, "tools_used": ["generate_travel_map"], "llm_duration_seconds": 1.164433479309082, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:06:21.890081Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "   \u2192 Tool executed: generate_travel_map", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 osaka au mois de septembre\n\nCONTEXTE DISPONIBLE (utilise si per", "tool_name": "generate_travel_map", "tool_args": {"city": "Osaka", "hotel_addresses": "Osaka"}, "tool_duration_seconds": 20.536962509155273, "result_length": 152, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:06:22.839574Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "Agent iteration 10", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 osaka au mois de septembre\n\nCONTEXTE DISPONIBLE (utilise si per", "iteration": 10, "tools_used": ["calculate_total_cost"], "llm_duration_seconds": 0.9487569332122803, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:06:22.841557Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "   \u2192 Tool executed: calculate_total_cost", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 osaka au mois de septembre\n\nCONTEXTE DISPONIBLE (utilise si per", "tool_name": "calculate_total_cost", "tool_args": {"flight_price": 990.4, "travelers": 2.0, "hotel_price": 2051.0}, "tool_duration_seconds": 0.0010979175567626953, "result_length": 144, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:06:27.188528Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "\u2705 Finished after 11 iteration(s)", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 osaka au mois de septembre\n\nCONTEXTE DISPONIBLE (utilise si per", "iterations": 11, "total_duration_seconds": 65.35450601577759, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:45:58.237578Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "\ud83e\udd16 Analyzing request", "user_request": "DEMANDE UTILISATEUR:\nnon mexico meme \u00e9poque de l'ann\u00e9e \n\nCONTEXTE DISPONIBLE (utilise si pertinent):", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:45:58.357704Z", "level": "ERROR", "logger": "grpc._plugin_wrapping", "module": "_plugin_wrapping", "function": "__call__", "line": 110, "message": "AuthMetadataPluginCallback \"<google.auth.transport.grpc.AuthMetadataPlugin object at 0x7cf10fd55ca0>\" raised exception!", "exc_info": "Traceback (most recent call last):\n  File \"/home/samy/projets/lab-toolchains/.venv/lib/python3.12/site-packages/urllib3/connectionpool.py\", line 787, in urlopen\n    response = self._make_request(\n               ^^^^^^^^^^^^^^^^^^^\n  File \"/home/samy/projets/lab-toolchains/.venv/lib/python3.12/site-packages/urllib3/connectionpool.py\", line 534, in _make_request\n    response = conn.getresponse()\n               ^^^^^^^^^^^^^^^^^^\n  File \"/home/samy/projets/lab-toolchains/.venv/lib/python3.12/site-packages/urllib3/connection.py\", line 571, in getresponse\n    httplib_response = super().getresponse()\n                       ^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/http/client.py\", line 1428, in getresponse\n    response.begin()\n  File \"/usr/lib/python3.12/http/client.py\", line 331, in begin\n    version, status, reason = self._read_status()\n                              ^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/http/client.py\", line 300, in _read_status\n    raise RemoteDisconnected(\"Remote end closed connection without\"\nhttp.client.RemoteDisconnected: Remote end closed connection without response\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/home/samy/projets/lab-toolchains/.venv/lib/python3.12/site-packages/requests/adapters.py\", line 644, in send\n    resp = conn.urlopen(\n           ^^^^^^^^^^^^^\n  File \"/home/samy/projets/lab-toolchains/.venv/lib/python3.12/site-packages/urllib3/connectionpool.py\", line 841, in urlopen\n    retries = retries.increment(\n              ^^^^^^^^^^^^^^^^^^\n  File \"/home/samy/projets/lab-toolchains/.venv/lib/python3.12/site-packages/urllib3/util/retry.py\", line 490, in increment\n    raise reraise(type(error), error, _stacktrace)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/samy/projets/lab-toolchains/.venv/lib/python3.12/site-packages/urllib3/util/util.py\", line 38, in reraise\n    raise value.with_traceback(tb)\n  File \"/home/samy/projets/lab-toolchains/.venv/lib/python3.12/site-packages/urllib3/connectionpool.py\", line 787, in urlopen\n    response = self._make_request(\n               ^^^^^^^^^^^^^^^^^^^\n  File \"/home/samy/projets/lab-toolchains/.venv/lib/python3.12/site-packages/urllib3/connectionpool.py\", line 534, in _make_request\n    response = conn.getresponse()\n               ^^^^^^^^^^^^^^^^^^\n  File \"/home/samy/projets/lab-toolchains/.venv/lib/python3.12/site-packages/urllib3/connection.py\", line 571, in getresponse\n    httplib_response = super().getresponse()\n                       ^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/http/client.py\", line 1428, in getresponse\n    response.begin()\n  File \"/usr/lib/python3.12/http/client.py\", line 331, in begin\n    version, status, reason = self._read_status()\n                              ^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/http/client.py\", line 300, in _read_status\n    raise RemoteDisconnected(\"Remote end closed connection without\"\nurllib3.exceptions.ProtocolError: ('Connection aborted.', RemoteDisconnected('Remote end closed connection without response'))\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/home/samy/projets/lab-toolchains/.venv/lib/python3.12/site-packages/google/auth/transport/requests.py\", line 188, in __call__\n    response = self.session.request(\n               ^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/samy/projets/lab-toolchains/.venv/lib/python3.12/site-packages/requests/sessions.py\", line 589, in request\n    resp = self.send(prep, **send_kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/samy/projets/lab-toolchains/.venv/lib/python3.12/site-packages/requests/sessions.py\", line 703, in send\n    r = adapter.send(request, **kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/samy/projets/lab-toolchains/.venv/lib/python3.12/site-packages/requests/adapters.py\", line 659, in send\n    raise ConnectionError(err, request=request)\nrequests.exceptions.ConnectionError: ('Connection aborted.', RemoteDisconnected('Remote end closed connection without response'))\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/home/samy/projets/lab-toolchains/.venv/lib/python3.12/site-packages/grpc/_plugin_wrapping.py\", line 106, in __call__\n    self._metadata_plugin(\n  File \"/home/samy/projets/lab-toolchains/.venv/lib/python3.12/site-packages/google/auth/transport/grpc.py\", line 93, in __call__\n    callback(self._get_authorization_headers(context), None)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/samy/projets/lab-toolchains/.venv/lib/python3.12/site-packages/google/auth/transport/grpc.py\", line 79, in _get_authorization_headers\n    self._credentials.before_request(\n  File \"/home/samy/projets/lab-toolchains/.venv/lib/python3.12/site-packages/google/auth/credentials.py\", line 228, in before_request\n    self._blocking_refresh(request)\n  File \"/home/samy/projets/lab-toolchains/.venv/lib/python3.12/site-packages/google/auth/credentials.py\", line 191, in _blocking_refresh\n    self.refresh(request)\n  File \"/home/samy/projets/lab-toolchains/.venv/lib/python3.12/site-packages/google/oauth2/credentials.py\", line 412, in refresh\n    ) = reauth.refresh_grant(\n        ^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/samy/projets/lab-toolchains/.venv/lib/python3.12/site-packages/google/oauth2/reauth.py\", line 337, in refresh_grant\n    ) = _client._token_endpoint_request_no_throw(\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/samy/projets/lab-toolchains/.venv/lib/python3.12/site-packages/google/oauth2/_client.py\", line 192, in _token_endpoint_request_no_throw\n    response = request(\n               ^^^^^^^^\n  File \"/home/samy/projets/lab-toolchains/.venv/lib/python3.12/site-packages/google/auth/transport/requests.py\", line 195, in __call__\n    raise new_exc from caught_exc\ngoogle.auth.exceptions.TransportError: ('Connection aborted.', RemoteDisconnected('Remote end closed connection without response'))", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:45:58.360031Z", "level": "WARNING", "logger": "langchain_google_vertexai._retry", "module": "before_sleep", "function": "log_it", "line": 65, "message": "Retrying langchain_google_vertexai.chat_models._completion_with_retry.<locals>._completion_with_retry_inner in 4.0 seconds as it raised ServiceUnavailable: 503 Getting metadata from plugin failed with error: ('Connection aborted.', RemoteDisconnected('Remote end closed connection without response')).", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:46:05.776621Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "\u2705 Finished after 1 iteration(s)", "user_request": "DEMANDE UTILISATEUR:\nnon mexico meme \u00e9poque de l'ann\u00e9e \n\nCONTEXTE DISPONIBLE (utilise si pertinent):", "iterations": 1, "total_duration_seconds": 7.542501926422119, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:48:42.581903Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "\ud83d\ude80 Initializing TravelAgent with gemini...", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:48:42.624141Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "\u2705 TravelAgent initialized with Gemini 2.0 Flash", "model": "gemini-2.0-flash-001", "model_provider": "gemini", "cost_per_search": "$0.0016", "tools_count": 12, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:49:00.834533Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "\ud83e\udd16 Analyzing request", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 osaka en septembre\n\nCONTEXTE DISPONIBLE (utilise si pertinent):", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:49:03.758842Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "Agent iteration 1", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 osaka en septembre\n\nCONTEXTE DISPONIBLE (utilise si pertinent):", "iteration": 1, "tools_used": ["get_airport_code"], "llm_duration_seconds": 2.923292636871338, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:49:03.762557Z", "level": "INFO", "logger": "services.airport_service", "module": "airport_service", "function": "__init__", "line": 37, "message": "\u2705 AirportCodeService initialized with Amadeus API", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:49:04.633740Z", "level": "INFO", "logger": "services.airport_service", "module": "airport_service", "function": "get_airport_code", "line": 123, "message": "\u2705 Found airport code via fallback: Osaka \u2192 KIX", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:49:04.634855Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "   \u2192 Tool executed: get_airport_code", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 osaka en septembre\n\nCONTEXTE DISPONIBLE (utilise si pertinent):", "tool_name": "get_airport_code", "tool_args": {"city_name": "Osaka"}, "tool_duration_seconds": 0.8749704360961914, "result_length": 39, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:49:05.624553Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "Agent iteration 2", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 osaka en septembre\n\nCONTEXTE DISPONIBLE (utilise si pertinent):", "iteration": 2, "tools_used": ["search_flights"], "llm_duration_seconds": 0.988936185836792, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:49:05.626316Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "__init__", "line": 77, "message": "\u2705 FlightSearchService initialized with Amadeus API", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:49:05.627091Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "_search_with_amadeus", "line": 163, "message": "\ud83d\udd0d Amadeus search: CDG \u2192 KIX on 2026-09-19", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:49:12.953644Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "_search_with_amadeus", "line": 188, "message": "\u2705 Amadeus: Found 5 real flight options", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:49:12.954627Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "   \u2192 Tool executed: search_flights", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 osaka en septembre\n\nCONTEXTE DISPONIBLE (utilise si pertinent):", "tool_name": "search_flights", "tool_args": {"departure_date": "2026-09-19", "return_date": "2026-09-26", "origin": "CDG", "destination": "KIX"}, "tool_duration_seconds": 7.3295629024505615, "result_length": 496, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:49:15.347715Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "Agent iteration 3", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 osaka en septembre\n\nCONTEXTE DISPONIBLE (utilise si pertinent):", "iteration": 3, "tools_used": ["search_hotels"], "llm_duration_seconds": 2.3905832767486572, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:49:15.354831Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "__init__", "line": 48, "message": "HotelSearchService initialized with providers: booking-com15, mock", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:49:15.355480Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_search_with_booking", "line": 79, "message": "Trying Booking.com15 for Osaka", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:49:15.356221Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 202, "message": "Trying Booking.com15 location search: 'Osaka'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:49:16.433232Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 220, "message": "\u2705 Found Booking.com15 dest_id: -240905 (type: city) for 'Osaka'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:49:18.528880Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_search_with_booking", "line": 178, "message": "\u2705 Booking.com15: Found 5 hotels", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:49:18.533559Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "   \u2192 Tool executed: search_hotels", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 osaka en septembre\n\nCONTEXTE DISPONIBLE (utilise si pertinent):", "tool_name": "search_hotels", "tool_args": {"checkin_date": "2026-09-19", "checkout_date": "2026-09-26", "guests": 2.0, "destination": "Osaka"}, "tool_duration_seconds": 3.1844394207000732, "result_length": 4, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:49:19.853985Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "Agent iteration 4", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 osaka en septembre\n\nCONTEXTE DISPONIBLE (utilise si pertinent):", "iteration": 4, "tools_used": ["search_vacation_rentals"], "llm_duration_seconds": 1.3195302486419678, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:49:19.856408Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "__init__", "line": 66, "message": "VacationRentalService initialized with providers: serpapi, rapidapi, mock", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:49:19.857164Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "search_rentals", "line": 90, "message": "Trying SerpAPI for Osaka", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:49:20.206123Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "search_rentals", "line": 101, "message": "Trying RapidAPI Airbnb for Osaka", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:49:21.557769Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "search_rentals", "line": 104, "message": "\u2705 RapidAPI: Found 5 rentals", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:49:21.559338Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "   \u2192 Tool executed: search_vacation_rentals", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 osaka en septembre\n\nCONTEXTE DISPONIBLE (utilise si pertinent):", "tool_name": "search_vacation_rentals", "tool_args": {"checkin_date": "2026-09-19", "checkout_date": "2026-09-26", "guests": 2.0, "destination": "Osaka"}, "tool_duration_seconds": 1.7047045230865479, "result_length": 963, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:49:23.189823Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "Agent iteration 5", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 osaka en septembre\n\nCONTEXTE DISPONIBLE (utilise si pertinent):", "iteration": 5, "tools_used": ["find_cultural_activities"], "llm_duration_seconds": 1.6292695999145508, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:49:25.825880Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "   \u2192 Tool executed: find_cultural_activities", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 osaka en septembre\n\nCONTEXTE DISPONIBLE (utilise si pertinent):", "tool_name": "find_cultural_activities", "tool_args": {"city": "Osaka", "preferences": "art,history"}, "tool_duration_seconds": 2.635280132293701, "result_length": 358, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:49:27.170774Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "Agent iteration 6", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 osaka en septembre\n\nCONTEXTE DISPONIBLE (utilise si pertinent):", "iteration": 6, "tools_used": ["recommend_restaurants"], "llm_duration_seconds": 1.3438448905944824, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:49:29.396862Z", "level": "INFO", "logger": "services.restaurant_service", "module": "restaurant_service", "function": "find_restaurants", "line": 90, "message": "\u2705 2 restaurants from Travel Advisor API", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:49:29.397354Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "   \u2192 Tool executed: recommend_restaurants", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 osaka en septembre\n\nCONTEXTE DISPONIBLE (utilise si pertinent):", "tool_name": "recommend_restaurants", "tool_args": {"city": "Osaka", "budget": "$$", "cuisine_types": "local"}, "tool_duration_seconds": 2.226072072982788, "result_length": 803, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:49:31.555629Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "Agent iteration 7", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 osaka en septembre\n\nCONTEXTE DISPONIBLE (utilise si pertinent):", "iteration": 7, "tools_used": ["create_visit_itinerary"], "llm_duration_seconds": 2.157651662826538, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:49:36.507327Z", "level": "INFO", "logger": "services.restaurant_service", "module": "restaurant_service", "function": "find_restaurants", "line": 90, "message": "\u2705 7 restaurants from Travel Advisor API", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:49:36.510735Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "   \u2192 Tool executed: create_visit_itinerary", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 osaka en septembre\n\nCONTEXTE DISPONIBLE (utilise si pertinent):", "tool_name": "create_visit_itinerary", "tool_args": {"city": "Osaka", "duration_days": 7.0, "interests": "culture,food,attractions"}, "tool_duration_seconds": 4.952750205993652, "result_length": 3751, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:49:41.409956Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "Agent iteration 8", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 osaka en septembre\n\nCONTEXTE DISPONIBLE (utilise si pertinent):", "iteration": 8, "tools_used": ["generate_travel_map"], "llm_duration_seconds": 4.898457288742065, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:49:49.613260Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "   \u2192 Tool executed: generate_travel_map", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 osaka en septembre\n\nCONTEXTE DISPONIBLE (utilise si pertinent):", "tool_name": "generate_travel_map", "tool_args": {"city": "Osaka", "hotel_addresses": "Osaka, \u620e603/A0703/15 min Shinsaibashi\u30fbDotonbori, Life House Andoji\uff5cOsaka Castle & Shinsaibashi 38\u33a1, 7 min Nippombashi\u00b7Dotonbori\uff5cWiFi \u00b7 Elevator Avail."}, "tool_duration_seconds": 8.202526330947876, "result_length": 152, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:49:51.396436Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "\u2705 Finished after 9 iteration(s)", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 osaka en septembre\n\nCONTEXTE DISPONIBLE (utilise si pertinent):", "iterations": 9, "total_duration_seconds": 50.56187415122986, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:51:10.956903Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "\ud83d\ude80 Initializing TravelAgent with gemini...", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:51:11.260822Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "\u2705 TravelAgent initialized with Gemini 2.0 Flash", "model": "gemini-2.0-flash-001", "model_provider": "gemini", "cost_per_search": "$0.0016", "tools_count": 12, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:51:25.988494Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "\ud83e\udd16 Analyzing request", "user_request": "DEMANDE UTILISATEUR:\nhello\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9p", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:51:28.611975Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "\u2705 Finished after 1 iteration(s)", "user_request": "DEMANDE UTILISATEUR:\nhello\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9p", "iterations": 1, "total_duration_seconds": 2.623357057571411, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:51:44.025596Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "\ud83e\udd16 Analyzing request", "user_request": "DEMANDE UTILISATEUR:\nque penses tu de S\u00e9ville\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil:", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:51:46.021718Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "\u2705 Finished after 1 iteration(s)", "user_request": "DEMANDE UTILISATEUR:\nque penses tu de S\u00e9ville\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil:", "iterations": 1, "total_duration_seconds": 1.9963040351867676, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:57:34.146187Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 224, "message": "\ud83d\ude80 Initializing TravelAgent with gemini...", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:57:34.221239Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 224, "message": "\u2705 TravelAgent initialized with Gemini 2.0 Flash", "model": "gemini-2.0-flash-001", "model_provider": "gemini", "cost_per_search": "$0.0016", "tools_count": 12, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:57:55.714124Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 224, "message": "\ud83e\udd16 Analyzing request", "user_request": "DEMANDE UTILISATEUR:\nhello\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9p", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:57:59.237767Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 224, "message": "Agent iteration 1", "user_request": "DEMANDE UTILISATEUR:\nhello\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9p", "iteration": 1, "tools_used": ["get_destination_context", "search_flights", "search_hotels", "search_vacation_rentals", "find_cultural_activities", "recommend_restaurants", "create_visit_itinerary"], "llm_duration_seconds": 3.522953987121582, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:57:59.372139Z", "level": "INFO", "logger": "services.wikipedia_service", "module": "wikipedia_service", "function": "get_city_context", "line": 83, "message": "\u2705 Wikipedia context retrieved for Paris", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:57:59.373032Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 224, "message": "   \u2192 Tool executed: get_destination_context", "user_request": "DEMANDE UTILISATEUR:\nhello\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9p", "tool_name": "get_destination_context", "tool_args": {"city": "Paris"}, "tool_duration_seconds": 0.13445043563842773, "result_length": 590, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:57:59.374889Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "__init__", "line": 77, "message": "\u2705 FlightSearchService initialized with Amadeus API", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:57:59.376020Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "_search_with_amadeus", "line": 163, "message": "\ud83d\udd0d Amadeus search: CDG \u2192 CDG on 2026-03-19", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:57:59.796311Z", "level": "ERROR", "logger": "services.flight_service", "module": "flight_service", "function": "_search_with_amadeus", "line": 192, "message": "Amadeus API error: [400]\n", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:57:59.797007Z", "level": "ERROR", "logger": "services.flight_service", "module": "flight_service", "function": "search_flights", "line": 122, "message": "Flight search failed: [400]\n", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:57:59.797719Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "search_flights", "line": 123, "message": "Falling back to mock data", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:57:59.799014Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "_get_mock_flights", "line": 277, "message": "Using mock data for CDG \u2192 CDG", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:57:59.799815Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 224, "message": "   \u2192 Tool executed: search_flights", "user_request": "DEMANDE UTILISATEUR:\nhello\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9p", "tool_name": "search_flights", "tool_args": {"departure_date": "2026-03-19", "return_date": "2026-03-26", "destination": "CDG", "origin": "CDG"}, "tool_duration_seconds": 0.4261000156402588, "result_length": 33, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:57:59.812926Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "__init__", "line": 48, "message": "HotelSearchService initialized with providers: booking-com15, mock", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:57:59.818301Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_search_with_booking", "line": 79, "message": "Trying Booking.com15 for Paris", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:57:59.819217Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 202, "message": "Trying Booking.com15 location search: 'Paris'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:58:00.828222Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 220, "message": "\u2705 Found Booking.com15 dest_id: -1456928 (type: city) for 'Paris'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:58:03.448450Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_search_with_booking", "line": 178, "message": "\u2705 Booking.com15: Found 5 hotels", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:58:03.451786Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 224, "message": "   \u2192 Tool executed: search_hotels", "user_request": "DEMANDE UTILISATEUR:\nhello\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9p", "tool_name": "search_hotels", "tool_args": {"checkout_date": "2026-03-26", "checkin_date": "2026-03-19", "guests": 2.0, "destination": "Paris"}, "tool_duration_seconds": 3.6509311199188232, "result_length": 4, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:58:03.453324Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "__init__", "line": 66, "message": "VacationRentalService initialized with providers: serpapi, rapidapi, mock", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:58:03.453616Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "search_rentals", "line": 90, "message": "Trying SerpAPI for Paris", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:58:04.249662Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "search_rentals", "line": 101, "message": "Trying RapidAPI Airbnb for Paris", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:58:05.692557Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "search_rentals", "line": 104, "message": "\u2705 RapidAPI: Found 5 rentals", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:58:05.693598Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 224, "message": "   \u2192 Tool executed: search_vacation_rentals", "user_request": "DEMANDE UTILISATEUR:\nhello\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9p", "tool_name": "search_vacation_rentals", "tool_args": {"checkout_date": "2026-03-26", "checkin_date": "2026-03-19", "guests": 2.0, "destination": "Paris"}, "tool_duration_seconds": 2.2409563064575195, "result_length": 887, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:58:12.111147Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 224, "message": "   \u2192 Tool executed: find_cultural_activities", "user_request": "DEMANDE UTILISATEUR:\nhello\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9p", "tool_name": "find_cultural_activities", "tool_args": {"preferences": "art,history", "city": "Paris"}, "tool_duration_seconds": 6.4162421226501465, "result_length": 222, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:58:14.458992Z", "level": "INFO", "logger": "services.restaurant_service", "module": "restaurant_service", "function": "find_restaurants", "line": 90, "message": "\u2705 3 restaurants from Travel Advisor API", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:58:14.459574Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 224, "message": "   \u2192 Tool executed: recommend_restaurants", "user_request": "DEMANDE UTILISATEUR:\nhello\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9p", "tool_name": "recommend_restaurants", "tool_args": {"cuisine_types": "local", "budget": "$$", "city": "Paris"}, "tool_duration_seconds": 2.3479766845703125, "result_length": 808, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:58:26.388054Z", "level": "INFO", "logger": "services.restaurant_service", "module": "restaurant_service", "function": "find_restaurants", "line": 90, "message": "\u2705 5 restaurants from Travel Advisor API", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:58:26.389053Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 224, "message": "   \u2192 Tool executed: create_visit_itinerary", "user_request": "DEMANDE UTILISATEUR:\nhello\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9p", "tool_name": "create_visit_itinerary", "tool_args": {"interests": "culture,food,attractions", "city": "Paris", "duration_days": 7.0}, "tool_duration_seconds": 11.928750991821289, "result_length": 3124, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:58:31.086786Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 224, "message": "\u2705 Finished after 2 iteration(s)", "user_request": "DEMANDE UTILISATEUR:\nhello\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9p", "iterations": 2, "total_duration_seconds": 35.37273097038269, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:04:46.480371Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 217, "message": "\ud83d\ude80 Initializing TravelAgent with gemini...", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:04:46.533270Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 217, "message": "\u2705 TravelAgent initialized with Gemini 2.0 Flash", "model": "gemini-2.0-flash-001", "model_provider": "gemini", "cost_per_search": "$0.0016", "tools_count": 12, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:05:07.003447Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 217, "message": "\ud83e\udd16 Analyzing request", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Osaka en mars \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- P", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:05:20.227877Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 217, "message": "Agent iteration 1", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Osaka en mars \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- P", "iteration": 1, "tools_used": ["search_flights"], "llm_duration_seconds": 13.223176956176758, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:05:20.231228Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "__init__", "line": 77, "message": "\u2705 FlightSearchService initialized with Amadeus API", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:05:20.233539Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "_search_with_amadeus", "line": 163, "message": "\ud83d\udd0d Amadeus search: CDG \u2192 KIX on 2026-03-19", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:05:29.247746Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "_search_with_amadeus", "line": 188, "message": "\u2705 Amadeus: Found 5 real flight options", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:05:29.250865Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 217, "message": "   \u2192 Tool executed: search_flights", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Osaka en mars \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- P", "tool_name": "search_flights", "tool_args": {"origin": "CDG", "return_date": "2026-03-26", "destination": "KIX", "departure_date": "2026-03-19"}, "tool_duration_seconds": 9.022083282470703, "result_length": 495, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:05:31.247681Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 217, "message": "Agent iteration 2", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Osaka en mars \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- P", "iteration": 2, "tools_used": ["search_hotels"], "llm_duration_seconds": 1.9959537982940674, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:05:31.252486Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "__init__", "line": 48, "message": "HotelSearchService initialized with providers: booking-com15, mock", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:05:31.252911Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_search_with_booking", "line": 79, "message": "Trying Booking.com15 for Osaka", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:05:31.253404Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 202, "message": "Trying Booking.com15 location search: 'Osaka'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:05:32.460659Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 220, "message": "\u2705 Found Booking.com15 dest_id: -240905 (type: city) for 'Osaka'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:05:35.627005Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_search_with_booking", "line": 178, "message": "\u2705 Booking.com15: Found 5 hotels", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:05:35.629416Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 217, "message": "   \u2192 Tool executed: search_hotels", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Osaka en mars \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- P", "tool_name": "search_hotels", "tool_args": {"checkin_date": "2026-03-19", "checkout_date": "2026-03-26", "destination": "Osaka", "guests": 2.0}, "tool_duration_seconds": 4.381052255630493, "result_length": 4, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:05:36.624240Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 217, "message": "Agent iteration 3", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Osaka en mars \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- P", "iteration": 3, "tools_used": ["search_vacation_rentals"], "llm_duration_seconds": 0.9940900802612305, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:05:36.626573Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "__init__", "line": 66, "message": "VacationRentalService initialized with providers: serpapi, rapidapi, mock", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:05:36.627030Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "search_rentals", "line": 90, "message": "Trying SerpAPI for Osaka", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:05:36.949470Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "search_rentals", "line": 101, "message": "Trying RapidAPI Airbnb for Osaka", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:05:38.556773Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "search_rentals", "line": 104, "message": "\u2705 RapidAPI: Found 5 rentals", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:05:38.557994Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 217, "message": "   \u2192 Tool executed: search_vacation_rentals", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Osaka en mars \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- P", "tool_name": "search_vacation_rentals", "tool_args": {"checkin_date": "2026-03-19", "checkout_date": "2026-03-26", "destination": "Osaka", "guests": 2.0}, "tool_duration_seconds": 1.9329142570495605, "result_length": 969, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:05:39.818349Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 217, "message": "Agent iteration 4", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Osaka en mars \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- P", "iteration": 4, "tools_used": ["find_cultural_activities"], "llm_duration_seconds": 1.2594075202941895, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:05:42.229257Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 217, "message": "   \u2192 Tool executed: find_cultural_activities", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Osaka en mars \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- P", "tool_name": "find_cultural_activities", "tool_args": {"city": "Osaka", "preferences": "art,history"}, "tool_duration_seconds": 2.4101388454437256, "result_length": 358, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:05:43.431797Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 217, "message": "Agent iteration 5", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Osaka en mars \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- P", "iteration": 5, "tools_used": ["recommend_restaurants"], "llm_duration_seconds": 1.201857328414917, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:05:45.636028Z", "level": "INFO", "logger": "services.restaurant_service", "module": "restaurant_service", "function": "find_restaurants", "line": 90, "message": "\u2705 2 restaurants from Travel Advisor API", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:05:45.636755Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 217, "message": "   \u2192 Tool executed: recommend_restaurants", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Osaka en mars \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- P", "tool_name": "recommend_restaurants", "tool_args": {"budget": "$$", "cuisine_types": "local", "city": "Osaka"}, "tool_duration_seconds": 2.2045693397521973, "result_length": 803, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:05:46.952766Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 217, "message": "Agent iteration 6", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Osaka en mars \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- P", "iteration": 6, "tools_used": ["create_visit_itinerary"], "llm_duration_seconds": 1.3153467178344727, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:06:14.615259Z", "level": "INFO", "logger": "services.restaurant_service", "module": "restaurant_service", "function": "find_restaurants", "line": 90, "message": "\u2705 7 restaurants from Travel Advisor API", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:06:14.616458Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 217, "message": "   \u2192 Tool executed: create_visit_itinerary", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Osaka en mars \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- P", "tool_name": "create_visit_itinerary", "tool_args": {"duration_days": 7.0, "city": "Osaka", "interests": "culture,food,attractions"}, "tool_duration_seconds": 27.659834623336792, "result_length": 2969, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:06:16.123853Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 217, "message": "Agent iteration 7", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Osaka en mars \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- P", "iteration": 7, "tools_used": ["generate_travel_map"], "llm_duration_seconds": 1.5068504810333252, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:06:33.049588Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 217, "message": "\ud83e\udd16 Analyzing request", "user_request": "DEMANDE UTILISATEUR:\nbonjour\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:06:34.053659Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 217, "message": "\u2705 Finished after 1 iteration(s)", "user_request": "DEMANDE UTILISATEUR:\nbonjour\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d", "iterations": 1, "total_duration_seconds": 1.0040085315704346, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:06:46.144526Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 217, "message": "\ud83e\udd16 Analyzing request", "user_request": "DEMANDE UTILISATEUR:\nje ne sais pas \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyage", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:06:47.473091Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 217, "message": "   \u2192 Tool executed: generate_travel_map", "user_request": "DEMANDE UTILISATEUR:\nje ne sais pas \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyage", "tool_name": "generate_travel_map", "tool_args": {"hotel_addresses": "Osaka", "city": "Osaka"}, "tool_duration_seconds": 31.34880518913269, "result_length": 151, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:06:48.457311Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 217, "message": "Agent iteration 1", "user_request": "DEMANDE UTILISATEUR:\nje ne sais pas \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyage", "iteration": 1, "tools_used": ["get_destination_context", "get_destination_context", "get_destination_context"], "llm_duration_seconds": 2.312116861343384, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:06:48.701258Z", "level": "INFO", "logger": "services.wikipedia_service", "module": "wikipedia_service", "function": "get_city_context", "line": 83, "message": "\u2705 Wikipedia context retrieved for Rome", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:06:48.701977Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 217, "message": "   \u2192 Tool executed: get_destination_context", "user_request": "DEMANDE UTILISATEUR:\nje ne sais pas \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyage", "tool_name": "get_destination_context", "tool_args": {"city": "Rome"}, "tool_duration_seconds": 0.243880033493042, "result_length": 588, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:06:48.975788Z", "level": "INFO", "logger": "services.wikipedia_service", "module": "wikipedia_service", "function": "get_city_context", "line": 83, "message": "\u2705 Wikipedia context retrieved for Kyoto", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:06:48.977151Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 217, "message": "   \u2192 Tool executed: get_destination_context", "user_request": "DEMANDE UTILISATEUR:\nje ne sais pas \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyage", "tool_name": "get_destination_context", "tool_args": {"city": "Kyoto"}, "tool_duration_seconds": 0.27348804473876953, "result_length": 581, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:06:49.123077Z", "level": "INFO", "logger": "services.wikipedia_service", "module": "wikipedia_service", "function": "get_city_context", "line": 83, "message": "\u2705 Wikipedia context retrieved for Marrakech", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:06:49.123501Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 217, "message": "   \u2192 Tool executed: get_destination_context", "user_request": "DEMANDE UTILISATEUR:\nje ne sais pas \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyage", "tool_name": "get_destination_context", "tool_args": {"city": "Marrakech"}, "tool_duration_seconds": 0.14569401741027832, "result_length": 497, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:06:49.329635Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 217, "message": "\u2705 Finished after 8 iteration(s)", "user_request": "DEMANDE UTILISATEUR:\nje ne sais pas \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyage", "iterations": 8, "total_duration_seconds": 102.32738208770752, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:06:50.778839Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 217, "message": "Agent iteration 2", "iteration": 2, "tools_used": ["get_airport_code", "get_airport_code", "get_airport_code"], "llm_duration_seconds": 1.6547229290008545, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:06:50.781456Z", "level": "INFO", "logger": "services.airport_service", "module": "airport_service", "function": "__init__", "line": 37, "message": "\u2705 AirportCodeService initialized with Amadeus API", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:06:51.151583Z", "level": "INFO", "logger": "services.airport_service", "module": "airport_service", "function": "get_airport_code", "line": 115, "message": "\u2705 Found airport code via Amadeus: Rome \u2192 ROM", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:06:51.152703Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 217, "message": "   \u2192 Tool executed: get_airport_code", "tool_name": "get_airport_code", "tool_args": {"city_name": "Rome"}, "tool_duration_seconds": 0.3728306293487549, "result_length": 27, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:06:51.426484Z", "level": "WARNING", "logger": "services.airport_service", "module": "airport_service", "function": "get_airport_code", "line": 132, "message": "\u274c Could not find airport code for: Kyoto", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:06:51.426857Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 217, "message": "   \u2192 Tool executed: get_airport_code", "tool_name": "get_airport_code", "tool_args": {"city_name": "Kyoto"}, "tool_duration_seconds": 0.27353906631469727, "result_length": 93, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:06:51.602414Z", "level": "INFO", "logger": "services.airport_service", "module": "airport_service", "function": "get_airport_code", "line": 123, "message": "\u2705 Found airport code via fallback: Marrakech \u2192 RAK", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:06:51.602996Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 217, "message": "   \u2192 Tool executed: get_airport_code", "tool_name": "get_airport_code", "tool_args": {"city_name": "Marrakech"}, "tool_duration_seconds": 0.17559123039245605, "result_length": 47, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:06:52.458914Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 217, "message": "Agent iteration 3", "iteration": 3, "tools_used": ["get_airport_code"], "llm_duration_seconds": 0.8544535636901855, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:06:52.723680Z", "level": "INFO", "logger": "services.airport_service", "module": "airport_service", "function": "get_airport_code", "line": 123, "message": "\u2705 Found airport code via fallback: Osaka \u2192 KIX", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:06:52.724698Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 217, "message": "   \u2192 Tool executed: get_airport_code", "tool_name": "get_airport_code", "tool_args": {"city_name": "Osaka"}, "tool_duration_seconds": 0.26431846618652344, "result_length": 39, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:06:54.491930Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 217, "message": "Agent iteration 4", "iteration": 4, "tools_used": ["search_flights", "search_flights", "search_flights"], "llm_duration_seconds": 1.766197681427002, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:06:54.495711Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "_search_with_amadeus", "line": 163, "message": "\ud83d\udd0d Amadeus search: CDG \u2192 ROM on 2026-03-19", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:07:03.044677Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "_search_with_amadeus", "line": 188, "message": "\u2705 Amadeus: Found 5 real flight options", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:07:03.045389Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 217, "message": "   \u2192 Tool executed: search_flights", "tool_name": "search_flights", "tool_args": {"origin": "CDG", "return_date": "2026-03-26", "destination": "ROM", "departure_date": "2026-03-19"}, "tool_duration_seconds": 8.552411317825317, "result_length": 460, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:07:03.046644Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "_search_with_amadeus", "line": 163, "message": "\ud83d\udd0d Amadeus search: CDG \u2192 KIX on 2026-03-19", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:07:07.870647Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "_search_with_amadeus", "line": 188, "message": "\u2705 Amadeus: Found 5 real flight options", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:07:07.871405Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 217, "message": "   \u2192 Tool executed: search_flights", "tool_name": "search_flights", "tool_args": {"origin": "CDG", "return_date": "2026-03-26", "destination": "KIX", "departure_date": "2026-03-19"}, "tool_duration_seconds": 4.825530290603638, "result_length": 495, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:07:07.874285Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "_search_with_amadeus", "line": 163, "message": "\ud83d\udd0d Amadeus search: CDG \u2192 RAK on 2026-03-19", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:07:11.160599Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "_search_with_amadeus", "line": 188, "message": "\u2705 Amadeus: Found 5 real flight options", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:07:11.161500Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 217, "message": "   \u2192 Tool executed: search_flights", "tool_name": "search_flights", "tool_args": {"origin": "CDG", "return_date": "2026-03-26", "destination": "RAK", "departure_date": "2026-03-19"}, "tool_duration_seconds": 3.2888271808624268, "result_length": 476, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:07:13.785170Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 217, "message": "Agent iteration 5", "iteration": 5, "tools_used": ["search_hotels", "search_vacation_rentals", "search_hotels", "search_vacation_rentals", "search_hotels", "search_vacation_rentals"], "llm_duration_seconds": 2.622708320617676, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:07:13.786965Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_search_with_booking", "line": 79, "message": "Trying Booking.com15 for Rome", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:07:13.788077Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 202, "message": "Trying Booking.com15 location search: 'Rome'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:07:15.185031Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 220, "message": "\u2705 Found Booking.com15 dest_id: -126693 (type: city) for 'Rome'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:07:17.852718Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_search_with_booking", "line": 178, "message": "\u2705 Booking.com15: Found 5 hotels", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:07:17.856761Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 217, "message": "   \u2192 Tool executed: search_hotels", "tool_name": "search_hotels", "tool_args": {"checkin_date": "2026-03-19", "checkout_date": "2026-03-26", "destination": "Rome", "guests": 2.0}, "tool_duration_seconds": 4.070496559143066, "result_length": 4, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:07:17.858775Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "search_rentals", "line": 90, "message": "Trying SerpAPI for Rome", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:07:18.214152Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "search_rentals", "line": 101, "message": "Trying RapidAPI Airbnb for Rome", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:07:19.651873Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "search_rentals", "line": 104, "message": "\u2705 RapidAPI: Found 5 rentals", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:07:19.652637Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 217, "message": "   \u2192 Tool executed: search_vacation_rentals", "tool_name": "search_vacation_rentals", "tool_args": {"checkin_date": "2026-03-19", "checkout_date": "2026-03-26", "destination": "Rome", "guests": 2.0}, "tool_duration_seconds": 1.7950668334960938, "result_length": 899, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:07:19.655078Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_search_with_booking", "line": 79, "message": "Trying Booking.com15 for Osaka", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:07:19.656067Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 202, "message": "Trying Booking.com15 location search: 'Osaka'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:07:20.869989Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 220, "message": "\u2705 Found Booking.com15 dest_id: -240905 (type: city) for 'Osaka'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:07:23.382440Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_search_with_booking", "line": 178, "message": "\u2705 Booking.com15: Found 5 hotels", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:07:23.385902Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 217, "message": "   \u2192 Tool executed: search_hotels", "tool_name": "search_hotels", "tool_args": {"checkin_date": "2026-03-19", "checkout_date": "2026-03-26", "destination": "Osaka", "guests": 2.0}, "tool_duration_seconds": 3.731910228729248, "result_length": 4, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:07:23.387736Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "search_rentals", "line": 90, "message": "Trying SerpAPI for Osaka", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:07:24.029766Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "search_rentals", "line": 101, "message": "Trying RapidAPI Airbnb for Osaka", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:07:25.619734Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "search_rentals", "line": 104, "message": "\u2705 RapidAPI: Found 5 rentals", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:07:25.620653Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 217, "message": "   \u2192 Tool executed: search_vacation_rentals", "tool_name": "search_vacation_rentals", "tool_args": {"checkin_date": "2026-03-19", "checkout_date": "2026-03-26", "destination": "Osaka", "guests": 2.0}, "tool_duration_seconds": 2.2337231636047363, "result_length": 969, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:07:25.622192Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_search_with_booking", "line": 79, "message": "Trying Booking.com15 for Marrakech", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:07:25.622677Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 202, "message": "Trying Booking.com15 location search: 'Marrakech'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:07:27.000083Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 220, "message": "\u2705 Found Booking.com15 dest_id: -38833 (type: city) for 'Marrakech'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:07:29.241489Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_search_with_booking", "line": 178, "message": "\u2705 Booking.com15: Found 5 hotels", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:07:29.243636Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 217, "message": "   \u2192 Tool executed: search_hotels", "tool_name": "search_hotels", "tool_args": {"checkin_date": "2026-03-19", "checkout_date": "2026-03-26", "destination": "Marrakech", "guests": 2.0}, "tool_duration_seconds": 3.6221954822540283, "result_length": 4, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:07:29.244547Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "search_rentals", "line": 90, "message": "Trying SerpAPI for Marrakech", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:07:29.420329Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "search_rentals", "line": 101, "message": "Trying RapidAPI Airbnb for Marrakech", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:07:30.996571Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "search_rentals", "line": 104, "message": "\u2705 RapidAPI: Found 5 rentals", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:07:30.997330Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 217, "message": "   \u2192 Tool executed: search_vacation_rentals", "tool_name": "search_vacation_rentals", "tool_args": {"checkin_date": "2026-03-19", "checkout_date": "2026-03-26", "destination": "Marrakech", "guests": 2.0}, "tool_duration_seconds": 1.7530925273895264, "result_length": 1002, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:07:35.491554Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 217, "message": "Agent iteration 6", "iteration": 6, "tools_used": ["find_cultural_activities", "find_cultural_activities", "find_cultural_activities"], "llm_duration_seconds": 4.49305534362793, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:07:38.158359Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 217, "message": "   \u2192 Tool executed: find_cultural_activities", "tool_name": "find_cultural_activities", "tool_args": {"city": "Rome", "preferences": "art,history"}, "tool_duration_seconds": 2.666041612625122, "result_length": 442, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:07:40.251381Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 217, "message": "   \u2192 Tool executed: find_cultural_activities", "tool_name": "find_cultural_activities", "tool_args": {"city": "Osaka", "preferences": "art,history"}, "tool_duration_seconds": 2.0924599170684814, "result_length": 358, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:07:43.496626Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 217, "message": "   \u2192 Tool executed: find_cultural_activities", "tool_name": "find_cultural_activities", "tool_args": {"city": "Marrakech", "preferences": "art,history"}, "tool_duration_seconds": 3.2444565296173096, "result_length": 871, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:07:44.866273Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 217, "message": "Agent iteration 7", "iteration": 7, "tools_used": ["recommend_restaurants", "recommend_restaurants", "recommend_restaurants"], "llm_duration_seconds": 1.3687047958374023, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:07:46.492359Z", "level": "INFO", "logger": "services.restaurant_service", "module": "restaurant_service", "function": "find_restaurants", "line": 90, "message": "\u2705 2 restaurants from Travel Advisor API", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:07:46.492796Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 217, "message": "   \u2192 Tool executed: recommend_restaurants", "tool_name": "recommend_restaurants", "tool_args": {"budget": "$$", "cuisine_types": "local", "city": "Rome"}, "tool_duration_seconds": 1.6260695457458496, "result_length": 696, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:07:49.017047Z", "level": "INFO", "logger": "services.restaurant_service", "module": "restaurant_service", "function": "find_restaurants", "line": 90, "message": "\u2705 2 restaurants from Travel Advisor API", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:07:49.017565Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 217, "message": "   \u2192 Tool executed: recommend_restaurants", "tool_name": "recommend_restaurants", "tool_args": {"budget": "$$", "cuisine_types": "local", "city": "Osaka"}, "tool_duration_seconds": 2.5242297649383545, "result_length": 803, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:07:52.480681Z", "level": "WARNING", "logger": "services.restaurant_service", "module": "restaurant_service", "function": "find_restaurants", "line": 94, "message": "Travel Advisor failed, trying Foursquare Places API...", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:08:02.972407Z", "level": "ERROR", "logger": "services.restaurant_service", "module": "restaurant_service", "function": "_try_foursquare_api", "line": 340, "message": "Foursquare API error: HTTPSConnectionPool(host='api.foursquare.com', port=443): Read timed out.", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:08:02.972789Z", "level": "WARNING", "logger": "services.restaurant_service", "module": "restaurant_service", "function": "find_restaurants", "line": 102, "message": "Yelp failed, trying Overpass API...", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:08:05.218946Z", "level": "INFO", "logger": "services.restaurant_service", "module": "restaurant_service", "function": "find_restaurants", "line": 106, "message": "\u2705 8 restaurants from Overpass API", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:08:05.220519Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 217, "message": "   \u2192 Tool executed: recommend_restaurants", "tool_name": "recommend_restaurants", "tool_args": {"budget": "$$", "cuisine_types": "local", "city": "Marrakech"}, "tool_duration_seconds": 16.20150327682495, "result_length": 1717, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:08:06.665782Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 217, "message": "Agent iteration 8", "iteration": 8, "tools_used": ["create_visit_itinerary", "create_visit_itinerary", "create_visit_itinerary"], "llm_duration_seconds": 1.4442999362945557, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:08:12.679761Z", "level": "INFO", "logger": "services.restaurant_service", "module": "restaurant_service", "function": "find_restaurants", "line": 90, "message": "\u2705 2 restaurants from Travel Advisor API", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:08:12.680324Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 217, "message": "   \u2192 Tool executed: create_visit_itinerary", "tool_name": "create_visit_itinerary", "tool_args": {"city": "Rome", "duration_days": 7.0, "interests": "culture,food,attractions"}, "tool_duration_seconds": 6.01386570930481, "result_length": 2737, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:08:43.045761Z", "level": "INFO", "logger": "services.restaurant_service", "module": "restaurant_service", "function": "find_restaurants", "line": 90, "message": "\u2705 7 restaurants from Travel Advisor API", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:08:43.046826Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 217, "message": "   \u2192 Tool executed: create_visit_itinerary", "tool_name": "create_visit_itinerary", "tool_args": {"city": "Osaka", "duration_days": 7.0, "interests": "culture,food,attractions"}, "tool_duration_seconds": 30.365590572357178, "result_length": 2969, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:08:45.950527Z", "level": "WARNING", "logger": "services.restaurant_service", "module": "restaurant_service", "function": "find_restaurants", "line": 94, "message": "Travel Advisor failed, trying Foursquare Places API...", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:08:46.361152Z", "level": "ERROR", "logger": "services.restaurant_service", "module": "restaurant_service", "function": "_try_foursquare_api", "line": 340, "message": "Foursquare API error: 401 Client Error: Unauthorized for url: https://api.foursquare.com/v3/places/search?ll=31.6258257%2C-7.9891608&radius=3000&categories=13065&limit=14&fields=name%2Clocation%2Crating%2Cprice%2Cphotos%2Ctel%2Cwebsite%2Chours%2Cdistance%2Ccategories", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:08:46.363674Z", "level": "WARNING", "logger": "services.restaurant_service", "module": "restaurant_service", "function": "find_restaurants", "line": 102, "message": "Yelp failed, trying Overpass API...", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:08:50.546408Z", "level": "INFO", "logger": "services.restaurant_service", "module": "restaurant_service", "function": "find_restaurants", "line": 106, "message": "\u2705 14 restaurants from Overpass API", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:08:50.548135Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 217, "message": "   \u2192 Tool executed: create_visit_itinerary", "tool_name": "create_visit_itinerary", "tool_args": {"duration_days": 7.0, "city": "Marrakech", "interests": "culture,food,attractions"}, "tool_duration_seconds": 7.499847173690796, "result_length": 3171, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:08:51.655073Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 217, "message": "Agent iteration 9", "iteration": 9, "tools_used": ["generate_travel_map", "generate_travel_map", "generate_travel_map"], "llm_duration_seconds": 1.1057345867156982, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:09:16.695942Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 217, "message": "   \u2192 Tool executed: generate_travel_map", "tool_name": "generate_travel_map", "tool_args": {"hotel_addresses": "Rome", "city": "Rome"}, "tool_duration_seconds": 25.040435075759888, "result_length": 151, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:09:22.580771Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 217, "message": "   \u2192 Tool executed: generate_travel_map", "tool_name": "generate_travel_map", "tool_args": {"hotel_addresses": "Osaka", "city": "Osaka"}, "tool_duration_seconds": 5.884193420410156, "result_length": 152, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:09:29.841688Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 217, "message": "   \u2192 Tool executed: generate_travel_map", "tool_name": "generate_travel_map", "tool_args": {"hotel_addresses": "Marrakech", "city": "Marrakech"}, "tool_duration_seconds": 7.260473728179932, "result_length": 152, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:09:31.258645Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 217, "message": "Agent iteration 10", "iteration": 10, "tools_used": ["calculate_total_cost", "calculate_total_cost", "calculate_total_cost"], "llm_duration_seconds": 1.4164891242980957, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:09:31.259995Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 217, "message": "   \u2192 Tool executed: calculate_total_cost", "tool_name": "calculate_total_cost", "tool_args": {"flight_price": 178.7, "travelers": 2.0, "hotel_price": 5887.0}, "tool_duration_seconds": 0.0008206367492675781, "result_length": 143, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:09:31.261706Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 217, "message": "   \u2192 Tool executed: calculate_total_cost", "tool_name": "calculate_total_cost", "tool_args": {"flight_price": 902.5, "travelers": 2.0, "hotel_price": 2569.0}, "tool_duration_seconds": 0.0009109973907470703, "result_length": 144, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:09:31.263399Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 217, "message": "   \u2192 Tool executed: calculate_total_cost", "tool_name": "calculate_total_cost", "tool_args": {"flight_price": 245.5, "travelers": 2.0, "hotel_price": 3080.0}, "tool_duration_seconds": 0.0007603168487548828, "result_length": 143, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:09:33.049488Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 217, "message": "Agent iteration 11", "iteration": 11, "tools_used": ["recommend_best_package"], "llm_duration_seconds": 1.7853832244873047, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:09:33.051294Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 217, "message": "   \u2192 Tool executed: recommend_best_package", "tool_name": "recommend_best_package", "tool_args": {"packages_info": "Package1: $6244.4 (vol+location), Package2: $4374 (vol+location), Package3: $3571 (vol+location)", "user_budget": "medium", "priorities": "value", "travel_style": "balanced"}, "tool_duration_seconds": 0.0010488033294677734, "result_length": 2938, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:09:35.059201Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 217, "message": "\u2705 Finished after 12 iteration(s)", "iterations": 12, "total_duration_seconds": 168.91465401649475, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:13:04.674308Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 217, "message": "\ud83d\ude80 Initializing TravelAgent with gemini...", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:13:04.735395Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 217, "message": "\u2705 TravelAgent initialized with Gemini 2.0 Flash", "model": "gemini-2.0-flash-001", "model_provider": "gemini", "cost_per_search": "$0.0016", "tools_count": 12, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:15:30.464328Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 217, "message": "\ud83d\ude80 Initializing TravelAgent with claude...", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:15:30.514594Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 217, "message": "\u2705 TravelAgent initialized with Claude Sonnet 4", "model": "claude-sonnet-4-20250514", "model_provider": "claude", "cost_per_search": "$0.069", "tools_count": 12, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:19:37.999286Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 217, "message": "\ud83d\ude80 Initializing TravelAgent with claude...", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:19:38.064721Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 217, "message": "\u2705 TravelAgent initialized with Claude Sonnet 4", "model": "claude-sonnet-4-20250514", "model_provider": "claude", "cost_per_search": "$0.069", "tools_count": 12, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:21:35.688827Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 217, "message": "\ud83d\ude80 Initializing TravelAgent with claude...", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:21:35.773060Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 217, "message": "\u2705 TravelAgent initialized with Claude Sonnet 4", "model": "claude-sonnet-4-20250514", "model_provider": "claude", "cost_per_search": "$0.069", "tools_count": 12, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:26:26.665875Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 217, "message": "\ud83d\ude80 Initializing TravelAgent with claude...", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:26:26.711534Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 217, "message": "\u2705 TravelAgent initialized with Claude Sonnet 4", "model": "claude-sonnet-4-20250514", "model_provider": "claude", "cost_per_search": "$0.069", "tools_count": 12, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:28:32.464808Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 217, "message": "\ud83d\ude80 Initializing TravelAgent with claude...", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:28:32.540953Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 217, "message": "\u2705 TravelAgent initialized with Claude Sonnet 4", "model": "claude-sonnet-4-20250514", "model_provider": "claude", "cost_per_search": "$0.069", "tools_count": 12, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:32:00.973453Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 217, "message": "\ud83d\ude80 Initializing TravelAgent with claude...", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:32:01.019319Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 217, "message": "\u2705 TravelAgent initialized with Claude Sonnet 4", "model": "claude-sonnet-4-20250514", "model_provider": "claude", "cost_per_search": "$0.069", "tools_count": 12, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:33:34.255337Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 217, "message": "\ud83d\ude80 Initializing TravelAgent with claude...", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:33:34.307118Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 217, "message": "\u2705 TravelAgent initialized with Claude Sonnet 4", "model": "claude-sonnet-4-20250514", "model_provider": "claude", "cost_per_search": "$0.069", "tools_count": 12, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:33:57.057822Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 217, "message": "\ud83e\udd16 Analyzing request", "user_request": "DEMANDE UTILISATEUR:\nhello\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9p", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:34:06.138313Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 217, "message": "\u2705 Finished after 1 iteration(s)", "user_request": "DEMANDE UTILISATEUR:\nhello\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9p", "iterations": 1, "total_duration_seconds": 9.080845355987549, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:34:46.611793Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 217, "message": "\ud83e\udd16 Analyzing request", "user_request": "DEMANDE UTILISATEUR:\nculture asiatique en printemps\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- P", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:34:50.790801Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 217, "message": "Agent iteration 1", "user_request": "DEMANDE UTILISATEUR:\nculture asiatique en printemps\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- P", "iteration": 1, "tools_used": ["get_destination_context"], "llm_duration_seconds": 4.177952766418457, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:36:00.842938Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "\ud83d\ude80 Initializing TravelAgent with claude...", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:36:00.890361Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "\u2705 TravelAgent initialized with Claude Sonnet 4", "model": "claude-sonnet-4-20250514", "model_provider": "claude", "cost_per_search": "$0.069", "tools_count": 12, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:36:14.415685Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "\ud83e\udd16 Analyzing request", "user_request": "DEMANDE UTILISATEUR:\nhello\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9p", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:36:23.645863Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "\u2705 Finished after 1 iteration(s)", "user_request": "DEMANDE UTILISATEUR:\nhello\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9p", "iterations": 1, "total_duration_seconds": 9.230399131774902, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:36:35.054566Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "\ud83e\udd16 Analyzing request", "user_request": "DEMANDE UTILISATEUR:\naide moi \u00e0 trouver un voyage en Asie \n\nCONTEXTE DISPONIBLE (utilise si pertinen", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:36:47.248937Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "\u2705 Finished after 1 iteration(s)", "user_request": "DEMANDE UTILISATEUR:\naide moi \u00e0 trouver un voyage en Asie \n\nCONTEXTE DISPONIBLE (utilise si pertinen", "iterations": 1, "total_duration_seconds": 12.194268226623535, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:37:26.582419Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "\ud83e\udd16 Analyzing request", "user_request": "DEMANDE UTILISATEUR:\nla culture traditionnelle \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profi", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:37:37.646480Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "\u2705 Finished after 1 iteration(s)", "user_request": "DEMANDE UTILISATEUR:\nla culture traditionnelle \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profi", "iterations": 1, "total_duration_seconds": 11.063889741897583, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:38:37.376735Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "\ud83e\udd16 Analyzing request", "user_request": "DEMANDE UTILISATEUR:\nArchitecture sacr\u00e9e et monuments historiques en asie \n\nCONTEXTE DISPONIBLE (uti", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:38:47.385013Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "Agent iteration 1", "user_request": "DEMANDE UTILISATEUR:\nArchitecture sacr\u00e9e et monuments historiques en asie \n\nCONTEXTE DISPONIBLE (uti", "iteration": 1, "tools_used": ["get_destination_context", "get_destination_context", "get_destination_context", "get_destination_context"], "llm_duration_seconds": 10.006470918655396, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:40:43.389902Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "\ud83d\ude80 Initializing TravelAgent with gemini...", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:40:43.672621Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "\u2705 TravelAgent initialized with Gemini 2.0 Flash", "model": "gemini-2.0-flash-001", "model_provider": "gemini", "cost_per_search": "$0.0016", "tools_count": 12, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:41:00.710489Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "\ud83e\udd16 Analyzing request", "user_request": "DEMANDE UTILISATEUR:\nhello\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9p", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:41:14.547728Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "\u2705 Finished after 1 iteration(s)", "user_request": "DEMANDE UTILISATEUR:\nhello\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9p", "iterations": 1, "total_duration_seconds": 13.837887048721313, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:42:24.916367Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "\ud83e\udd16 Analyzing request", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 OSAKA \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:42:26.606171Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "Agent iteration 1", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 OSAKA \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2", "iteration": 1, "tools_used": ["get_airport_code"], "llm_duration_seconds": 1.6889796257019043, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:42:26.608368Z", "level": "INFO", "logger": "services.airport_service", "module": "airport_service", "function": "__init__", "line": 37, "message": "\u2705 AirportCodeService initialized with Amadeus API", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:42:27.546468Z", "level": "INFO", "logger": "services.airport_service", "module": "airport_service", "function": "get_airport_code", "line": 123, "message": "\u2705 Found airport code via fallback: Osaka \u2192 KIX", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:42:27.546815Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "   \u2192 Tool executed: get_airport_code", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 OSAKA \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2", "tool_name": "get_airport_code", "tool_args": {"city_name": "Osaka"}, "tool_duration_seconds": 0.9402515888214111, "result_length": 39, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:42:28.704884Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "Agent iteration 2", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 OSAKA \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2", "iteration": 2, "tools_used": ["search_flights"], "llm_duration_seconds": 1.157073736190796, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:42:28.708035Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "__init__", "line": 77, "message": "\u2705 FlightSearchService initialized with Amadeus API", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:42:28.710381Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "_search_with_amadeus", "line": 163, "message": "\ud83d\udd0d Amadeus search: CDG \u2192 KIX on 2026-03-19", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:42:34.245517Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "_search_with_amadeus", "line": 188, "message": "\u2705 Amadeus: Found 5 real flight options", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:42:34.247395Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "   \u2192 Tool executed: search_flights", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 OSAKA \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2", "tool_name": "search_flights", "tool_args": {"origin": "CDG", "destination": "KIX", "return_date": "2026-03-26", "departure_date": "2026-03-19"}, "tool_duration_seconds": 5.540906667709351, "result_length": 495, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:42:36.161859Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "Agent iteration 3", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 OSAKA \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2", "iteration": 3, "tools_used": ["search_hotels"], "llm_duration_seconds": 1.9136683940887451, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:42:36.167727Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "__init__", "line": 48, "message": "HotelSearchService initialized with providers: booking-com15, mock", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:42:36.168866Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_search_with_booking", "line": 79, "message": "Trying Booking.com15 for Osaka", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:42:36.169999Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 202, "message": "Trying Booking.com15 location search: 'Osaka'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:42:37.850707Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 220, "message": "\u2705 Found Booking.com15 dest_id: -240905 (type: city) for 'Osaka'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:42:38.002114Z", "level": "WARNING", "logger": "services.hotel_service", "module": "hotel_service", "function": "_search_with_booking", "line": 112, "message": "Booking.com15 search failed: 429 - {\"message\":\"You have exceeded the MONTHLY quota for requests on your current plan, BASIC. Upgrade your plan at https:\\/\\/rapidapi.com\\/DataCrawler\\/api\\/booking-com15\"}", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:42:38.005842Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "search", "line": 74, "message": "Using mock data for Osaka", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:42:38.006909Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "   \u2192 Tool executed: search_hotels", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 OSAKA \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2", "tool_name": "search_hotels", "tool_args": {"guests": 2.0, "checkin_date": "2026-03-19", "destination": "Osaka", "checkout_date": "2026-03-26"}, "tool_duration_seconds": 1.8444862365722656, "result_length": 4, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:42:39.056960Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "Agent iteration 4", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 OSAKA \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2", "iteration": 4, "tools_used": ["search_vacation_rentals"], "llm_duration_seconds": 1.0492606163024902, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:42:39.058000Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "__init__", "line": 66, "message": "VacationRentalService initialized with providers: serpapi, rapidapi, mock", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:42:39.058602Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "search_rentals", "line": 90, "message": "Trying SerpAPI for Osaka", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:42:39.367622Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "search_rentals", "line": 101, "message": "Trying RapidAPI Airbnb for Osaka", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:42:41.535600Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "search_rentals", "line": 104, "message": "\u2705 RapidAPI: Found 5 rentals", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:42:41.536326Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "   \u2192 Tool executed: search_vacation_rentals", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 OSAKA \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2", "tool_name": "search_vacation_rentals", "tool_args": {"guests": 2.0, "checkin_date": "2026-03-19", "destination": "Osaka", "checkout_date": "2026-03-26"}, "tool_duration_seconds": 2.4787380695343018, "result_length": 969, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:42:43.057583Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "Agent iteration 5", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 OSAKA \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2", "iteration": 5, "tools_used": ["find_cultural_activities"], "llm_duration_seconds": 1.5172157287597656, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:42:46.058512Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "   \u2192 Tool executed: find_cultural_activities", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 OSAKA \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2", "tool_name": "find_cultural_activities", "tool_args": {"preferences": "art,history", "city": "Osaka"}, "tool_duration_seconds": 3.0002622604370117, "result_length": 358, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:42:47.666252Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "Agent iteration 6", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 OSAKA \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2", "iteration": 6, "tools_used": ["recommend_restaurants"], "llm_duration_seconds": 1.6068384647369385, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:42:52.743473Z", "level": "INFO", "logger": "services.restaurant_service", "module": "restaurant_service", "function": "find_restaurants", "line": 90, "message": "\u2705 2 restaurants from Travel Advisor API", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:42:52.744174Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "   \u2192 Tool executed: recommend_restaurants", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 OSAKA \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2", "tool_name": "recommend_restaurants", "tool_args": {"budget": "$$", "cuisine_types": "local", "city": "Osaka"}, "tool_duration_seconds": 5.077176570892334, "result_length": 803, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:42:54.418343Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "Agent iteration 7", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 OSAKA \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2", "iteration": 7, "tools_used": ["create_visit_itinerary"], "llm_duration_seconds": 1.6733028888702393, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:42:58.071878Z", "level": "INFO", "logger": "services.restaurant_service", "module": "restaurant_service", "function": "find_restaurants", "line": 90, "message": "\u2705 7 restaurants from Travel Advisor API", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:42:58.072785Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "   \u2192 Tool executed: create_visit_itinerary", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 OSAKA \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2", "tool_name": "create_visit_itinerary", "tool_args": {"city": "Osaka", "duration_days": 7.0, "interests": "culture,food,attractions"}, "tool_duration_seconds": 3.6538751125335693, "result_length": 3751, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:43:00.764714Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "Agent iteration 8", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 OSAKA \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2", "iteration": 8, "tools_used": ["generate_travel_map"], "llm_duration_seconds": 2.6910178661346436, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:43:13.199715Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "   \u2192 Tool executed: generate_travel_map", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 OSAKA \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2", "tool_name": "generate_travel_map", "tool_args": {"city": "Osaka", "hotel_addresses": "FDS Azur/4min walk to Kujo Station/1LDK28.8\u33a1,SRNamba Shisaibashi2 min 6 min to station/3people,FDS Panache/Namba, 2 stations away in 5 minutes"}, "tool_duration_seconds": 12.43449854850769, "result_length": 152, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:43:14.330438Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "Agent iteration 9", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 OSAKA \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2", "iteration": 9, "tools_used": ["calculate_total_cost"], "llm_duration_seconds": 1.1301310062408447, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:43:14.332847Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "   \u2192 Tool executed: calculate_total_cost", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 OSAKA \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2", "tool_name": "calculate_total_cost", "tool_args": {"travelers": 2.0, "hotel_price": 2569.0, "flight_price": 976.0}, "tool_duration_seconds": 0.0015125274658203125, "result_length": 144, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:43:15.575398Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "\u2705 Finished after 10 iteration(s)", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 OSAKA \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2", "iterations": 10, "total_duration_seconds": 50.659135580062866, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:44:03.030589Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "\ud83e\udd16 Analyzing request", "user_request": "DEMANDE UTILISATEUR:\nhello\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9p", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:44:04.460453Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "\u2705 Finished after 1 iteration(s)", "user_request": "DEMANDE UTILISATEUR:\nhello\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9p", "iterations": 1, "total_duration_seconds": 1.430161714553833, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:44:18.759922Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "\ud83e\udd16 Analyzing request", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Vence en mai \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Pr", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:44:20.222595Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "Agent iteration 1", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Vence en mai \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Pr", "iteration": 1, "tools_used": ["get_destination_context"], "llm_duration_seconds": 1.4619686603546143, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:44:20.437723Z", "level": "INFO", "logger": "services.wikipedia_service", "module": "wikipedia_service", "function": "get_city_context", "line": 83, "message": "\u2705 Wikipedia context retrieved for Vence", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:44:20.438150Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "   \u2192 Tool executed: get_destination_context", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Vence en mai \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Pr", "tool_name": "get_destination_context", "tool_args": {"city": "Vence"}, "tool_duration_seconds": 0.21521949768066406, "result_length": 337, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:44:21.342001Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "Agent iteration 2", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Vence en mai \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Pr", "iteration": 2, "tools_used": ["get_airport_code"], "llm_duration_seconds": 0.9031593799591064, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:44:22.700380Z", "level": "INFO", "logger": "services.airport_service", "module": "airport_service", "function": "get_airport_code", "line": 115, "message": "\u2705 Found airport code via Amadeus: Paris \u2192 PAR", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:44:22.700889Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "   \u2192 Tool executed: get_airport_code", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Vence en mai \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Pr", "tool_name": "get_airport_code", "tool_args": {"city_name": "Paris"}, "tool_duration_seconds": 1.358393907546997, "result_length": 30, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:44:23.545342Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "Agent iteration 3", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Vence en mai \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Pr", "iteration": 3, "tools_used": ["get_airport_code"], "llm_duration_seconds": 0.8438072204589844, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:44:23.886002Z", "level": "INFO", "logger": "services.airport_service", "module": "airport_service", "function": "get_airport_code", "line": 115, "message": "\u2705 Found airport code via Amadeus: Nice \u2192 NCE", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:44:23.886464Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "   \u2192 Tool executed: get_airport_code", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Vence en mai \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Pr", "tool_name": "get_airport_code", "tool_args": {"city_name": "Nice"}, "tool_duration_seconds": 0.3406789302825928, "result_length": 35, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:44:25.654742Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "Agent iteration 4", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Vence en mai \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Pr", "iteration": 4, "tools_used": ["search_flights"], "llm_duration_seconds": 1.7674081325531006, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:44:25.657634Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "_search_with_amadeus", "line": 163, "message": "\ud83d\udd0d Amadeus search: CDG \u2192 NCE on 2026-05-19", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:44:27.613152Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "_search_with_amadeus", "line": 188, "message": "\u2705 Amadeus: Found 5 real flight options", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:44:27.614618Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "   \u2192 Tool executed: search_flights", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Vence en mai \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Pr", "tool_name": "search_flights", "tool_args": {"origin": "CDG", "destination": "NCE", "return_date": "2026-05-26", "departure_date": "2026-05-19"}, "tool_duration_seconds": 1.9586763381958008, "result_length": 465, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:44:28.637571Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "Agent iteration 5", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Vence en mai \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Pr", "iteration": 5, "tools_used": ["search_hotels"], "llm_duration_seconds": 1.0218548774719238, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:44:28.638645Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_search_with_booking", "line": 79, "message": "Trying Booking.com15 for Vence", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:44:28.639237Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 202, "message": "Trying Booking.com15 location search: 'Vence'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:44:29.079594Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 202, "message": "Trying Booking.com15 location search: 'Vence'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:44:29.269148Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 202, "message": "Trying Booking.com15 location search: 'Vence'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:44:29.421478Z", "level": "WARNING", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 231, "message": "No destination ID found for any variation of 'Vence'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:44:29.423832Z", "level": "WARNING", "logger": "services.hotel_service", "module": "hotel_service", "function": "_search_with_booking", "line": 84, "message": "Could not find destination ID for Vence", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:44:29.424294Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "search", "line": 74, "message": "Using mock data for Vence", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:44:29.425290Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "   \u2192 Tool executed: search_hotels", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Vence en mai \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Pr", "tool_name": "search_hotels", "tool_args": {"guests": 2.0, "checkin_date": "2026-05-19", "destination": "Vence", "checkout_date": "2026-05-26"}, "tool_duration_seconds": 0.7869439125061035, "result_length": 4, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:44:30.455383Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "Agent iteration 6", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Vence en mai \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Pr", "iteration": 6, "tools_used": ["search_vacation_rentals"], "llm_duration_seconds": 1.0295770168304443, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:44:30.456681Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "search_rentals", "line": 90, "message": "Trying SerpAPI for Vence", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:44:30.691047Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "search_rentals", "line": 101, "message": "Trying RapidAPI Airbnb for Vence", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:44:32.571326Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "search_rentals", "line": 104, "message": "\u2705 RapidAPI: Found 5 rentals", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:44:32.573329Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "   \u2192 Tool executed: search_vacation_rentals", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Vence en mai \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Pr", "tool_name": "search_vacation_rentals", "tool_args": {"guests": 2.0, "checkin_date": "2026-05-19", "destination": "Vence", "checkout_date": "2026-05-26"}, "tool_duration_seconds": 2.11674427986145, "result_length": 959, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:44:33.394029Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "Agent iteration 7", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Vence en mai \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Pr", "iteration": 7, "tools_used": ["find_cultural_activities"], "llm_duration_seconds": 0.8197860717773438, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:44:34.793071Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "   \u2192 Tool executed: find_cultural_activities", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Vence en mai \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Pr", "tool_name": "find_cultural_activities", "tool_args": {"preferences": "art,history", "city": "Vence"}, "tool_duration_seconds": 1.3982067108154297, "result_length": 1297, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:44:35.567614Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "Agent iteration 8", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Vence en mai \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Pr", "iteration": 8, "tools_used": ["recommend_restaurants"], "llm_duration_seconds": 0.7734875679016113, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:44:37.708853Z", "level": "INFO", "logger": "services.restaurant_service", "module": "restaurant_service", "function": "find_restaurants", "line": 90, "message": "\u2705 3 restaurants from Travel Advisor API", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:44:37.709333Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "   \u2192 Tool executed: recommend_restaurants", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Vence en mai \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Pr", "tool_name": "recommend_restaurants", "tool_args": {"budget": "$$", "cuisine_types": "local", "city": "Vence"}, "tool_duration_seconds": 2.141206979751587, "result_length": 762, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:44:38.705340Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "Agent iteration 9", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Vence en mai \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Pr", "iteration": 9, "tools_used": ["create_visit_itinerary"], "llm_duration_seconds": 0.9952027797698975, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:44:41.971118Z", "level": "INFO", "logger": "services.restaurant_service", "module": "restaurant_service", "function": "find_restaurants", "line": 90, "message": "\u2705 7 restaurants from Travel Advisor API", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:44:41.972398Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "   \u2192 Tool executed: create_visit_itinerary", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Vence en mai \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Pr", "tool_name": "create_visit_itinerary", "tool_args": {"city": "Vence", "duration_days": 7.0, "interests": "culture,food,attractions"}, "tool_duration_seconds": 3.266313076019287, "result_length": 3459, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:44:42.986272Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "Agent iteration 10", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Vence en mai \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Pr", "iteration": 10, "tools_used": ["generate_travel_map"], "llm_duration_seconds": 1.0049254894256592, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:44:51.216835Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "   \u2192 Tool executed: generate_travel_map", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Vence en mai \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Pr", "tool_name": "generate_travel_map", "tool_args": {"city": "Vence", "hotel_addresses": "Guest House with Sea View and Pool, Very nice Apartment - Pool - Air Conditioning - Garden - Parking, Nice apartment near Vence center"}, "tool_duration_seconds": 8.229868173599243, "result_length": 152, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:44:55.301924Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "Agent iteration 11", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Vence en mai \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Pr", "iteration": 11, "tools_used": ["calculate_total_cost"], "llm_duration_seconds": 4.077547550201416, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:44:55.304073Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "   \u2192 Tool executed: calculate_total_cost", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Vence en mai \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Pr", "tool_name": "calculate_total_cost", "tool_args": {"travelers": 2.0, "hotel_price": 4060.0, "flight_price": 376.9}, "tool_duration_seconds": 0.0009200572967529297, "result_length": 143, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:44:56.272551Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "Agent iteration 12", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Vence en mai \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Pr", "iteration": 12, "tools_used": ["calculate_total_cost"], "llm_duration_seconds": 0.9675014019012451, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:44:56.274159Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "   \u2192 Tool executed: calculate_total_cost", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Vence en mai \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Pr", "tool_name": "calculate_total_cost", "tool_args": {"travelers": 2.0, "hotel_price": 6069.0, "flight_price": 376.9}, "tool_duration_seconds": 0.0010013580322265625, "result_length": 143, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:44:57.589067Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "Agent iteration 13", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Vence en mai \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Pr", "iteration": 13, "tools_used": ["recommend_best_package"], "llm_duration_seconds": 1.3139286041259766, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:44:57.591745Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "   \u2192 Tool executed: recommend_best_package", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Vence en mai \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Pr", "tool_name": "recommend_best_package", "tool_args": {"user_budget": "medium", "priorities": "value", "packages_info": "Package1: $4813.8 (vol+location), Package2: $4813.8 (vol+hotel), Package3: $6822.8 (vol+location)", "travel_style": "balanced"}, "tool_duration_seconds": 0.0016906261444091797, "result_length": 2938, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:44:58.663303Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "\u2705 Finished after 14 iteration(s)", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Vence en mai \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Pr", "iterations": 14, "total_duration_seconds": 39.90463161468506, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:50:47.983682Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "\ud83d\ude80 Initializing TravelAgent with gemini...", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:50:48.027291Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "\u2705 TravelAgent initialized with Gemini 2.0 Flash", "model": "gemini-2.0-flash-001", "model_provider": "gemini", "cost_per_search": "$0.0016", "tools_count": 12, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:51:28.221297Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "\ud83e\udd16 Analyzing request", "user_request": "DEMANDE UTILISATEUR:\nhello\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9p", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:51:31.389288Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "\u2705 Finished after 1 iteration(s)", "user_request": "DEMANDE UTILISATEUR:\nhello\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9p", "iterations": 1, "total_duration_seconds": 3.1677393913269043, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:51:49.854365Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "\ud83e\udd16 Analyzing request", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Munich \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: ", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:51:52.520061Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "Agent iteration 1", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Munich \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: ", "iteration": 1, "tools_used": ["get_destination_context", "get_airport_code", "search_flights", "search_hotels", "search_vacation_rentals", "find_cultural_activities", "recommend_restaurants"], "llm_duration_seconds": 2.6650357246398926, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:51:52.813744Z", "level": "INFO", "logger": "services.wikipedia_service", "module": "wikipedia_service", "function": "get_city_context", "line": 83, "message": "\u2705 Wikipedia context retrieved for Munich", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:51:52.814736Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "   \u2192 Tool executed: get_destination_context", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Munich \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: ", "tool_name": "get_destination_context", "tool_args": {"city": "Munich"}, "tool_duration_seconds": 0.293729305267334, "result_length": 558, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:51:52.817665Z", "level": "INFO", "logger": "services.airport_service", "module": "airport_service", "function": "__init__", "line": 37, "message": "\u2705 AirportCodeService initialized with Amadeus API", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:51:53.271252Z", "level": "INFO", "logger": "services.airport_service", "module": "airport_service", "function": "get_airport_code", "line": 115, "message": "\u2705 Found airport code via Amadeus: Munich \u2192 MUC", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:51:53.271723Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "   \u2192 Tool executed: get_airport_code", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Munich \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: ", "tool_name": "get_airport_code", "tool_args": {"city_name": "Munich"}, "tool_duration_seconds": 0.45621609687805176, "result_length": 47, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:51:53.274687Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "__init__", "line": 77, "message": "\u2705 FlightSearchService initialized with Amadeus API", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:51:53.275482Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "_search_with_amadeus", "line": 163, "message": "\ud83d\udd0d Amadeus search: CDG \u2192 MUC on 2026-03-19", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:51:58.416240Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "_search_with_amadeus", "line": 188, "message": "\u2705 Amadeus: Found 5 real flight options", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:51:58.425738Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "   \u2192 Tool executed: search_flights", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Munich \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: ", "tool_name": "search_flights", "tool_args": {"departure_date": "2026-03-19", "destination": "MUC", "return_date": "2026-03-26", "origin": "CDG"}, "tool_duration_seconds": 5.147104263305664, "result_length": 465, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:51:58.461663Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "__init__", "line": 48, "message": "HotelSearchService initialized with providers: booking-com15, mock", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:51:58.462438Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_search_with_booking", "line": 79, "message": "Trying Booking.com15 for Munich", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:51:58.469491Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 202, "message": "Trying Booking.com15 location search: 'Munich'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:51:58.759290Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 202, "message": "Trying Booking.com15 location search: 'Munich'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:51:59.409368Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 202, "message": "Trying Booking.com15 location search: 'Munich'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:51:59.552871Z", "level": "WARNING", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 231, "message": "No destination ID found for any variation of 'Munich'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:51:59.557768Z", "level": "WARNING", "logger": "services.hotel_service", "module": "hotel_service", "function": "_search_with_booking", "line": 84, "message": "Could not find destination ID for Munich", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:51:59.558814Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "search", "line": 74, "message": "Using mock data for Munich", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:51:59.559641Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "   \u2192 Tool executed: search_hotels", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Munich \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: ", "tool_name": "search_hotels", "tool_args": {"checkout_date": "2026-03-26", "checkin_date": "2026-03-19", "guests": 2.0, "destination": "Munich"}, "tool_duration_seconds": 1.1300244331359863, "result_length": 4, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:51:59.561626Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "__init__", "line": 66, "message": "VacationRentalService initialized with providers: serpapi, rapidapi, mock", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:51:59.562197Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "search_rentals", "line": 90, "message": "Trying SerpAPI for Munich", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:51:59.954571Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "search_rentals", "line": 101, "message": "Trying RapidAPI Airbnb for Munich", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:52:01.766053Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "search_rentals", "line": 104, "message": "\u2705 RapidAPI: Found 5 rentals", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:52:01.766813Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "   \u2192 Tool executed: search_vacation_rentals", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Munich \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: ", "tool_name": "search_vacation_rentals", "tool_args": {"checkout_date": "2026-03-26", "checkin_date": "2026-03-19", "guests": 2.0, "destination": "Munich"}, "tool_duration_seconds": 2.206385850906372, "result_length": 895, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:52:04.946845Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "   \u2192 Tool executed: find_cultural_activities", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Munich \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: ", "tool_name": "find_cultural_activities", "tool_args": {"preferences": "art,history", "city": "Munich"}, "tool_duration_seconds": 3.179354190826416, "result_length": 609, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:52:06.684342Z", "level": "INFO", "logger": "services.restaurant_service", "module": "restaurant_service", "function": "find_restaurants", "line": 90, "message": "\u2705 4 restaurants from Travel Advisor API", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:52:06.685092Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "   \u2192 Tool executed: recommend_restaurants", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Munich \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: ", "tool_name": "recommend_restaurants", "tool_args": {"cuisine_types": "local", "budget": "$$", "city": "Munich"}, "tool_duration_seconds": 1.7374813556671143, "result_length": 1287, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:52:10.062341Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "Agent iteration 2", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Munich \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: ", "iteration": 2, "tools_used": ["create_visit_itinerary", "generate_travel_map"], "llm_duration_seconds": 3.376627206802368, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:52:14.026093Z", "level": "INFO", "logger": "services.restaurant_service", "module": "restaurant_service", "function": "find_restaurants", "line": 90, "message": "\u2705 6 restaurants from Travel Advisor API", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:52:14.026917Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "   \u2192 Tool executed: create_visit_itinerary", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Munich \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: ", "tool_name": "create_visit_itinerary", "tool_args": {"interests": "culture,food,attractions", "duration_days": 7.0, "city": "Munich"}, "tool_duration_seconds": 3.964045524597168, "result_length": 3591, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:52:21.897393Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "   \u2192 Tool executed: generate_travel_map", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Munich \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: ", "tool_name": "generate_travel_map", "tool_args": {"city": "Munich", "hotel_addresses": "Munich"}, "tool_duration_seconds": 7.869770050048828, "result_length": 152, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:52:26.432445Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "\u2705 Finished after 3 iteration(s)", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Munich \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: ", "iterations": 3, "total_duration_seconds": 36.57828974723816, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:55:26.834126Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "\ud83e\udd16 Analyzing request", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 cuba au mois de mai \n\nCONTEXTE DISPONIBLE (utilise si pertinent", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:55:28.789606Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "Agent iteration 1", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 cuba au mois de mai \n\nCONTEXTE DISPONIBLE (utilise si pertinent", "iteration": 1, "tools_used": ["get_destination_context"], "llm_duration_seconds": 1.9543142318725586, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:55:28.906741Z", "level": "INFO", "logger": "services.wikipedia_service", "module": "wikipedia_service", "function": "get_city_context", "line": 83, "message": "\u2705 Wikipedia context retrieved for Cuba", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:55:28.907672Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "   \u2192 Tool executed: get_destination_context", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 cuba au mois de mai \n\nCONTEXTE DISPONIBLE (utilise si pertinent", "tool_name": "get_destination_context", "tool_args": {"city": "Cuba"}, "tool_duration_seconds": 0.11720108985900879, "result_length": 579, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:55:30.196048Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "\u2705 Finished after 2 iteration(s)", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 cuba au mois de mai \n\nCONTEXTE DISPONIBLE (utilise si pertinent", "iterations": 2, "total_duration_seconds": 3.3653690814971924, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:55:57.500213Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "\ud83e\udd16 Analyzing request", "user_request": "DEMANDE UTILISATEUR:\nles dates c'est le mois de mai 2026 \n\nCONTEXTE DISPONIBLE (utilise si pertinent", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:55:59.053503Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "\u2705 Finished after 1 iteration(s)", "user_request": "DEMANDE UTILISATEUR:\nles dates c'est le mois de mai 2026 \n\nCONTEXTE DISPONIBLE (utilise si pertinent", "iterations": 1, "total_duration_seconds": 1.5551323890686035, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:56:27.686907Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "\ud83e\udd16 Analyzing request", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Cuba le mois de mai 2026 \n\nCONTEXTE DISPONIBLE (utilise si pert", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:56:29.253378Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "Agent iteration 1", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Cuba le mois de mai 2026 \n\nCONTEXTE DISPONIBLE (utilise si pert", "iteration": 1, "tools_used": ["get_airport_code", "get_destination_context"], "llm_duration_seconds": 1.56447434425354, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:56:29.567696Z", "level": "INFO", "logger": "services.airport_service", "module": "airport_service", "function": "get_airport_code", "line": 123, "message": "\u2705 Found airport code via fallback: La Havane \u2192 HAV", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:56:29.568395Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "   \u2192 Tool executed: get_airport_code", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Cuba le mois de mai 2026 \n\nCONTEXTE DISPONIBLE (utilise si pert", "tool_name": "get_airport_code", "tool_args": {"city_name": "La Havane"}, "tool_duration_seconds": 0.31439638137817383, "result_length": 47, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:56:29.943812Z", "level": "INFO", "logger": "services.wikipedia_service", "module": "wikipedia_service", "function": "get_city_context", "line": 83, "message": "\u2705 Wikipedia context retrieved for La Havane", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:56:29.945248Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "   \u2192 Tool executed: get_destination_context", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Cuba le mois de mai 2026 \n\nCONTEXTE DISPONIBLE (utilise si pert", "tool_name": "get_destination_context", "tool_args": {"city": "La Havane"}, "tool_duration_seconds": 0.3755340576171875, "result_length": 561, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:56:31.615856Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "Agent iteration 2", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Cuba le mois de mai 2026 \n\nCONTEXTE DISPONIBLE (utilise si pert", "iteration": 2, "tools_used": ["search_flights", "search_hotels", "search_vacation_rentals"], "llm_duration_seconds": 1.6695489883422852, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:56:31.618430Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "_search_with_amadeus", "line": 163, "message": "\ud83d\udd0d Amadeus search: CDG \u2192 HAV on 2026-05-01", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:56:38.869666Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "_search_with_amadeus", "line": 188, "message": "\u2705 Amadeus: Found 5 real flight options", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:56:38.870343Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "   \u2192 Tool executed: search_flights", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Cuba le mois de mai 2026 \n\nCONTEXTE DISPONIBLE (utilise si pert", "tool_name": "search_flights", "tool_args": {"departure_date": "2026-05-01", "destination": "HAV", "return_date": "2026-05-08", "origin": "CDG"}, "tool_duration_seconds": 7.253758192062378, "result_length": 501, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:56:38.871937Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_search_with_booking", "line": 79, "message": "Trying Booking.com15 for La Havane", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:56:38.872715Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 202, "message": "Trying Booking.com15 location search: 'La Havane'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:56:39.042764Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 202, "message": "Trying Booking.com15 location search: 'La Havane'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:56:39.201168Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 202, "message": "Trying Booking.com15 location search: 'La Havane'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:56:39.373253Z", "level": "WARNING", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 231, "message": "No destination ID found for any variation of 'La Havane'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:56:39.375941Z", "level": "WARNING", "logger": "services.hotel_service", "module": "hotel_service", "function": "_search_with_booking", "line": 84, "message": "Could not find destination ID for La Havane", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:56:39.376566Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "search", "line": 74, "message": "Using mock data for La Havane", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:56:39.377282Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "   \u2192 Tool executed: search_hotels", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Cuba le mois de mai 2026 \n\nCONTEXTE DISPONIBLE (utilise si pert", "tool_name": "search_hotels", "tool_args": {"checkout_date": "2026-05-08", "checkin_date": "2026-05-01", "guests": 2.0, "destination": "La Havane"}, "tool_duration_seconds": 0.5063893795013428, "result_length": 4, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:56:39.379591Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "search_rentals", "line": 90, "message": "Trying SerpAPI for La Havane", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:56:39.573082Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "search_rentals", "line": 101, "message": "Trying RapidAPI Airbnb for La Havane", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:56:41.141681Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "search_rentals", "line": 104, "message": "\u2705 RapidAPI: Found 5 rentals", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:56:41.142889Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "   \u2192 Tool executed: search_vacation_rentals", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Cuba le mois de mai 2026 \n\nCONTEXTE DISPONIBLE (utilise si pert", "tool_name": "search_vacation_rentals", "tool_args": {"checkout_date": "2026-05-08", "guests": 2.0, "checkin_date": "2026-05-01", "destination": "La Havane"}, "tool_duration_seconds": 1.7641699314117432, "result_length": 903, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:56:42.409373Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "Agent iteration 3", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Cuba le mois de mai 2026 \n\nCONTEXTE DISPONIBLE (utilise si pert", "iteration": 3, "tools_used": ["find_cultural_activities", "recommend_restaurants", "create_visit_itinerary"], "llm_duration_seconds": 1.2655065059661865, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:56:43.402752Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "   \u2192 Tool executed: find_cultural_activities", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Cuba le mois de mai 2026 \n\nCONTEXTE DISPONIBLE (utilise si pert", "tool_name": "find_cultural_activities", "tool_args": {"preferences": "art,history", "city": "La Havane"}, "tool_duration_seconds": 0.9929296970367432, "result_length": 473, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:56:45.057182Z", "level": "INFO", "logger": "services.restaurant_service", "module": "restaurant_service", "function": "find_restaurants", "line": 90, "message": "\u2705 1 restaurants from Travel Advisor API", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:56:45.058383Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "   \u2192 Tool executed: recommend_restaurants", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Cuba le mois de mai 2026 \n\nCONTEXTE DISPONIBLE (utilise si pert", "tool_name": "recommend_restaurants", "tool_args": {"budget": "$$", "cuisine_types": "local", "city": "La Havane"}, "tool_duration_seconds": 1.6546754837036133, "result_length": 277, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:56:47.977310Z", "level": "INFO", "logger": "services.restaurant_service", "module": "restaurant_service", "function": "find_restaurants", "line": 90, "message": "\u2705 5 restaurants from Travel Advisor API", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:56:47.978722Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "   \u2192 Tool executed: create_visit_itinerary", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Cuba le mois de mai 2026 \n\nCONTEXTE DISPONIBLE (utilise si pert", "tool_name": "create_visit_itinerary", "tool_args": {"interests": "culture,food,attractions", "city": "La Havane", "duration_days": 7.0}, "tool_duration_seconds": 2.9185869693756104, "result_length": 3501, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:56:49.115274Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "Agent iteration 4", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Cuba le mois de mai 2026 \n\nCONTEXTE DISPONIBLE (utilise si pert", "iteration": 4, "tools_used": ["generate_travel_map"], "llm_duration_seconds": 1.1350324153900146, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:56:56.356515Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "   \u2192 Tool executed: generate_travel_map", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Cuba le mois de mai 2026 \n\nCONTEXTE DISPONIBLE (utilise si pert", "tool_name": "generate_travel_map", "tool_args": {"city": "La Havane", "hotel_addresses": "B&W Chacon, Havana Penthouse with Terraces & Panoramic Views, Lamparilla's Loft"}, "tool_duration_seconds": 7.240619897842407, "result_length": 152, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:56:57.989528Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "Agent iteration 5", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Cuba le mois de mai 2026 \n\nCONTEXTE DISPONIBLE (utilise si pert", "iteration": 5, "tools_used": ["calculate_total_cost", "calculate_total_cost", "calculate_total_cost"], "llm_duration_seconds": 1.63193941116333, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:56:57.991874Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "   \u2192 Tool executed: calculate_total_cost", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Cuba le mois de mai 2026 \n\nCONTEXTE DISPONIBLE (utilise si pert", "tool_name": "calculate_total_cost", "tool_args": {"travelers": 2.0, "flight_price": 1494.6, "hotel_price": 1344.0}, "tool_duration_seconds": 0.0016748905181884766, "result_length": 145, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:56:57.994903Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "   \u2192 Tool executed: calculate_total_cost", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Cuba le mois de mai 2026 \n\nCONTEXTE DISPONIBLE (utilise si pert", "tool_name": "calculate_total_cost", "tool_args": {"flight_price": 1494.6, "travelers": 2.0, "hotel_price": 2051.0}, "tool_duration_seconds": 0.0013325214385986328, "result_length": 145, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:56:57.997173Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "   \u2192 Tool executed: calculate_total_cost", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Cuba le mois de mai 2026 \n\nCONTEXTE DISPONIBLE (utilise si pert", "tool_name": "calculate_total_cost", "tool_args": {"travelers": 2.0, "hotel_price": 3094.0, "flight_price": 1494.6}, "tool_duration_seconds": 0.0013484954833984375, "result_length": 145, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:56:59.293440Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "Agent iteration 6", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Cuba le mois de mai 2026 \n\nCONTEXTE DISPONIBLE (utilise si pert", "iteration": 6, "tools_used": ["recommend_best_package"], "llm_duration_seconds": 1.295130968093872, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:56:59.295908Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "   \u2192 Tool executed: recommend_best_package", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Cuba le mois de mai 2026 \n\nCONTEXTE DISPONIBLE (utilise si pert", "tool_name": "recommend_best_package", "tool_args": {"user_budget": "medium", "travel_style": "balanced", "priorities": "value", "packages_info": "Package1: $4333.2 (vol+location), Package2: $5040.2 (vol+location), Package3: $6083.2 (vol+location)"}, "tool_duration_seconds": 0.0016820430755615234, "result_length": 2938, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:57:04.728559Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "\u2705 Finished after 7 iteration(s)", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Cuba le mois de mai 2026 \n\nCONTEXTE DISPONIBLE (utilise si pert", "iterations": 7, "total_duration_seconds": 37.0439727306366, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T15:03:25.555181Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "\ud83e\udd16 Analyzing request", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Londres \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil:", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T15:03:32.164909Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "\u2705 Finished after 1 iteration(s)", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Londres \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil:", "iterations": 1, "total_duration_seconds": 6.609335422515869, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T15:06:21.537255Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "\ud83e\udd16 Analyzing request", "user_request": "DEMANDE UTILISATEUR:\nfais moi une balladade \u00e0 Berlin pour octobre 2026\n\nCONTEXTE DISPONIBLE (utilise", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T15:06:23.837756Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "\u2705 Finished after 1 iteration(s)", "user_request": "DEMANDE UTILISATEUR:\nfais moi une balladade \u00e0 Berlin pour octobre 2026\n\nCONTEXTE DISPONIBLE (utilise", "iterations": 1, "total_duration_seconds": 2.3006832599639893, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T15:07:07.603403Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "\ud83e\udd16 Analyzing request", "user_request": "DEMANDE UTILISATEUR:\nflexible et je ne sais pa spour la location\n\nCONTEXTE DISPONIBLE (utilise si pe", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T15:07:09.158214Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "\u2705 Finished after 1 iteration(s)", "user_request": "DEMANDE UTILISATEUR:\nflexible et je ne sais pa spour la location\n\nCONTEXTE DISPONIBLE (utilise si pe", "iterations": 1, "total_duration_seconds": 1.5549139976501465, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T15:13:47.385242Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "\ud83e\udd16 Analyzing request", "user_request": "DEMANDE UTILISATEUR:\nhello\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9p", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T15:13:49.488528Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "\u2705 Finished after 1 iteration(s)", "user_request": "DEMANDE UTILISATEUR:\nhello\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9p", "iterations": 1, "total_duration_seconds": 2.103468418121338, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T15:13:56.465552Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "\ud83e\udd16 Analyzing request", "user_request": "DEMANDE UTILISATEUR:\ncomment vas tu?\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyage", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T15:13:58.168739Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "\u2705 Finished after 1 iteration(s)", "user_request": "DEMANDE UTILISATEUR:\ncomment vas tu?\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyage", "iterations": 1, "total_duration_seconds": 1.7031497955322266, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T15:14:08.752976Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "\ud83e\udd16 Analyzing request", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 londre\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T15:14:14.514167Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "\u2705 Finished after 1 iteration(s)", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 londre\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2", "iterations": 1, "total_duration_seconds": 5.761435270309448, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T15:32:34.467469Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "\ud83e\udd16 Analyzing request", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 perpignan \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profi", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T15:32:36.699965Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "Agent iteration 1", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 perpignan \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profi", "iteration": 1, "tools_used": ["get_airport_code"], "llm_duration_seconds": 2.231558084487915, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T15:32:37.053764Z", "level": "INFO", "logger": "services.airport_service", "module": "airport_service", "function": "get_airport_code", "line": 115, "message": "\u2705 Found airport code via Amadeus: Perpignan \u2192 PGF", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T15:32:37.054223Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "   \u2192 Tool executed: get_airport_code", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 perpignan \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profi", "tool_name": "get_airport_code", "tool_args": {"city_name": "Perpignan"}, "tool_duration_seconds": 0.3537266254425049, "result_length": 39, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T15:32:38.056217Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "Agent iteration 2", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 perpignan \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profi", "iteration": 2, "tools_used": ["search_flights"], "llm_duration_seconds": 1.0014235973358154, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T15:32:38.057606Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "_search_with_amadeus", "line": 163, "message": "\ud83d\udd0d Amadeus search: CDG \u2192 PGF on 2026-03-19", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T15:32:38.673063Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "_search_with_amadeus", "line": 188, "message": "\u2705 Amadeus: Found 0 real flight options", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T15:32:38.673981Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "   \u2192 Tool executed: search_flights", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 perpignan \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profi", "tool_name": "search_flights", "tool_args": {"departure_date": "2026-03-19", "origin": "CDG", "return_date": "2026-03-26", "destination": "PGF"}, "tool_duration_seconds": 0.6170291900634766, "result_length": 33, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T15:32:39.969574Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "Agent iteration 3", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 perpignan \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profi", "iteration": 3, "tools_used": ["search_flights"], "llm_duration_seconds": 1.2947063446044922, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T15:32:39.972035Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "_search_with_amadeus", "line": 163, "message": "\ud83d\udd0d Amadeus search: ORY \u2192 PGF on 2026-03-19", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T15:32:40.333060Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "_search_with_amadeus", "line": 188, "message": "\u2705 Amadeus: Found 0 real flight options", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T15:32:40.333444Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "   \u2192 Tool executed: search_flights", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 perpignan \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profi", "tool_name": "search_flights", "tool_args": {"departure_date": "2026-03-19", "origin": "ORY", "return_date": "2026-03-26", "destination": "PGF"}, "tool_duration_seconds": 0.3634071350097656, "result_length": 33, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T15:32:41.982386Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "Agent iteration 4", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 perpignan \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profi", "iteration": 4, "tools_used": ["search_hotels"], "llm_duration_seconds": 1.6484911441802979, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T15:32:41.991179Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "__init__", "line": 48, "message": "HotelSearchService initialized with providers: booking-com15, mock", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T15:32:41.992270Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_search_with_booking", "line": 79, "message": "Trying Booking.com15 for Perpignan", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T15:32:41.992999Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 202, "message": "Trying Booking.com15 location search: 'Perpignan'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T15:32:42.194536Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 202, "message": "Trying Booking.com15 location search: 'Perpignan'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T15:32:42.329658Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 202, "message": "Trying Booking.com15 location search: 'Perpignan'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T15:32:42.503289Z", "level": "WARNING", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 231, "message": "No destination ID found for any variation of 'Perpignan'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T15:32:42.508447Z", "level": "WARNING", "logger": "services.hotel_service", "module": "hotel_service", "function": "_search_with_booking", "line": 84, "message": "Could not find destination ID for Perpignan", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T15:32:42.509157Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "search", "line": 74, "message": "Using mock data for Perpignan", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T15:32:42.510289Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "   \u2192 Tool executed: search_hotels", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 perpignan \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profi", "tool_name": "search_hotels", "tool_args": {"checkout_date": "2026-03-26", "checkin_date": "2026-03-19", "guests": 2.0, "destination": "Perpignan"}, "tool_duration_seconds": 0.5272657871246338, "result_length": 4, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T15:32:43.565983Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "Agent iteration 5", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 perpignan \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profi", "iteration": 5, "tools_used": ["search_vacation_rentals"], "llm_duration_seconds": 1.0549259185791016, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T15:32:43.570646Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "search_rentals", "line": 90, "message": "Trying SerpAPI for Perpignan", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T15:32:44.083405Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "search_rentals", "line": 101, "message": "Trying RapidAPI Airbnb for Perpignan", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T15:32:45.672300Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "search_rentals", "line": 104, "message": "\u2705 RapidAPI: Found 5 rentals", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T15:32:45.673329Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "   \u2192 Tool executed: search_vacation_rentals", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 perpignan \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profi", "tool_name": "search_vacation_rentals", "tool_args": {"checkout_date": "2026-03-26", "guests": 2.0, "checkin_date": "2026-03-19", "destination": "Perpignan"}, "tool_duration_seconds": 2.103184938430786, "result_length": 1064, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T15:32:48.506922Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "Agent iteration 6", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 perpignan \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profi", "iteration": 6, "tools_used": ["find_cultural_activities"], "llm_duration_seconds": 2.8324365615844727, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T15:33:09.846295Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "   \u2192 Tool executed: find_cultural_activities", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 perpignan \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profi", "tool_name": "find_cultural_activities", "tool_args": {"preferences": "art,history", "city": "Perpignan"}, "tool_duration_seconds": 21.338610887527466, "result_length": 181, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T15:33:11.027460Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "Agent iteration 7", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 perpignan \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profi", "iteration": 7, "tools_used": ["recommend_restaurants"], "llm_duration_seconds": 1.180323839187622, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T15:33:16.342204Z", "level": "INFO", "logger": "services.restaurant_service", "module": "restaurant_service", "function": "find_restaurants", "line": 90, "message": "\u2705 6 restaurants from Travel Advisor API", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T15:33:16.343205Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "   \u2192 Tool executed: recommend_restaurants", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 perpignan \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profi", "tool_name": "recommend_restaurants", "tool_args": {"budget": "$$", "cuisine_types": "local", "city": "Perpignan"}, "tool_duration_seconds": 5.314857721328735, "result_length": 1689, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T15:33:17.973365Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "Agent iteration 8", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 perpignan \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profi", "iteration": 8, "tools_used": ["create_visit_itinerary"], "llm_duration_seconds": 1.6289589405059814, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T15:33:22.219199Z", "level": "INFO", "logger": "services.restaurant_service", "module": "restaurant_service", "function": "find_restaurants", "line": 90, "message": "\u2705 8 restaurants from Travel Advisor API", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T15:33:22.219993Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "   \u2192 Tool executed: create_visit_itinerary", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 perpignan \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profi", "tool_name": "create_visit_itinerary", "tool_args": {"interests": "culture,food,attractions", "city": "Perpignan", "duration_days": 7.0}, "tool_duration_seconds": 4.24611234664917, "result_length": 3511, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T15:33:25.844553Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "Agent iteration 9", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 perpignan \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profi", "iteration": 9, "tools_used": ["generate_travel_map"], "llm_duration_seconds": 3.6234183311462402, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T15:33:31.737074Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "   \u2192 Tool executed: generate_travel_map", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 perpignan \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profi", "tool_name": "generate_travel_map", "tool_args": {"city": "Perpignan", "hotel_addresses": "Perpignan"}, "tool_duration_seconds": 5.891742944717407, "result_length": 152, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T15:33:34.458316Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "\u2705 Finished after 10 iteration(s)", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 perpignan \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profi", "iterations": 10, "total_duration_seconds": 59.99337434768677, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T15:35:26.058127Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "\ud83e\udd16 Analyzing request", "user_request": "DEMANDE UTILISATEUR:\nbonjour\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T15:35:27.634031Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "\u2705 Finished after 1 iteration(s)", "user_request": "DEMANDE UTILISATEUR:\nbonjour\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d", "iterations": 1, "total_duration_seconds": 1.5766301155090332, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T15:35:43.752006Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "\ud83e\udd16 Analyzing request", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 New york \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T15:35:51.593004Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "Agent iteration 1", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 New york \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil", "iteration": 1, "tools_used": ["get_destination_context", "search_flights", "search_hotels", "search_vacation_rentals", "find_cultural_activities", "recommend_restaurants", "create_visit_itinerary", "generate_travel_map", "calculate_total_cost"], "llm_duration_seconds": 7.8399083614349365, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T15:35:56.724636Z", "level": "ERROR", "logger": "services.wikipedia_service", "module": "wikipedia_service", "function": "_get_wikipedia_summary", "line": 110, "message": "Wikipedia API error for New York: HTTPSConnectionPool(host='fr.wikipedia.org', port=443): Read timed out. (read timeout=5)", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T15:35:56.725372Z", "level": "WARNING", "logger": "services.wikipedia_service", "module": "wikipedia_service", "function": "get_city_context", "line": 70, "message": "No Wikipedia summary for New York", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T15:35:57.023444Z", "level": "INFO", "logger": "services.wikipedia_service", "module": "wikipedia_service", "function": "get_city_context", "line": 83, "message": "\u2705 Wikipedia context retrieved for New York", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T15:35:57.024183Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "   \u2192 Tool executed: get_destination_context", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 New york \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil", "tool_name": "get_destination_context", "tool_args": {"city": "New York"}, "tool_duration_seconds": 5.430475473403931, "result_length": 345, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T15:35:57.026924Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "_search_with_amadeus", "line": 163, "message": "\ud83d\udd0d Amadeus search: CDG \u2192 JFK on 2026-03-19", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T15:36:04.809246Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "_search_with_amadeus", "line": 188, "message": "\u2705 Amadeus: Found 5 real flight options", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T15:36:04.810145Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "   \u2192 Tool executed: search_flights", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 New york \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil", "tool_name": "search_flights", "tool_args": {"departure_date": "2026-03-19", "origin": "CDG", "return_date": "2026-03-26", "destination": "JFK"}, "tool_duration_seconds": 7.784614086151123, "result_length": 470, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T15:36:04.812056Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_search_with_booking", "line": 79, "message": "Trying Booking.com15 for New York", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T15:36:04.812854Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 202, "message": "Trying Booking.com15 location search: 'New York'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T15:36:04.998637Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 202, "message": "Trying Booking.com15 location search: 'New York'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T15:36:05.144749Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 202, "message": "Trying Booking.com15 location search: 'New York'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T15:36:05.541490Z", "level": "WARNING", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 231, "message": "No destination ID found for any variation of 'New York'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T15:36:05.544642Z", "level": "WARNING", "logger": "services.hotel_service", "module": "hotel_service", "function": "_search_with_booking", "line": 84, "message": "Could not find destination ID for New York", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T15:36:05.545829Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "search", "line": 74, "message": "Using mock data for New York", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T15:36:05.546664Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "   \u2192 Tool executed: search_hotels", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 New york \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil", "tool_name": "search_hotels", "tool_args": {"checkout_date": "2026-03-26", "guests": 2.0, "checkin_date": "2026-03-19", "destination": "New York"}, "tool_duration_seconds": 0.735682487487793, "result_length": 4, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T15:36:05.548501Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "search_rentals", "line": 90, "message": "Trying SerpAPI for New York", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T15:36:05.788048Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "search_rentals", "line": 101, "message": "Trying RapidAPI Airbnb for New York", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T15:36:07.549570Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "search_rentals", "line": 104, "message": "\u2705 RapidAPI: Found 5 rentals", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T15:36:07.550264Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "   \u2192 Tool executed: search_vacation_rentals", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 New york \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil", "tool_name": "search_vacation_rentals", "tool_args": {"checkout_date": "2026-03-26", "checkin_date": "2026-03-19", "guests": 2.0, "destination": "New York"}, "tool_duration_seconds": 2.0028960704803467, "result_length": 943, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T15:36:29.564245Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "   \u2192 Tool executed: find_cultural_activities", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 New york \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil", "tool_name": "find_cultural_activities", "tool_args": {"preferences": "art,history", "city": "New York"}, "tool_duration_seconds": 22.013118982315063, "result_length": 782, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T15:36:31.639787Z", "level": "INFO", "logger": "services.restaurant_service", "module": "restaurant_service", "function": "find_restaurants", "line": 90, "message": "\u2705 1 restaurants from Travel Advisor API", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T15:36:31.640187Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "   \u2192 Tool executed: recommend_restaurants", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 New york \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil", "tool_name": "recommend_restaurants", "tool_args": {"cuisine_types": "local", "budget": "$$", "city": "New York"}, "tool_duration_seconds": 2.075443983078003, "result_length": 373, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T15:36:56.455182Z", "level": "INFO", "logger": "services.restaurant_service", "module": "restaurant_service", "function": "find_restaurants", "line": 90, "message": "\u2705 5 restaurants from Travel Advisor API", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T15:36:56.456056Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "   \u2192 Tool executed: create_visit_itinerary", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 New york \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil", "tool_name": "create_visit_itinerary", "tool_args": {"interests": "culture,food,attractions", "duration_days": 7.0, "city": "New York"}, "tool_duration_seconds": 24.81478476524353, "result_length": 3039, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T15:37:07.750991Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "   \u2192 Tool executed: generate_travel_map", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 New york \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil", "tool_name": "generate_travel_map", "tool_args": {"city": "New York", "hotel_addresses": "The Knickerbocker, The Library Hotel"}, "tool_duration_seconds": 11.293921709060669, "result_length": 152, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T15:37:07.753774Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "   \u2192 Tool executed: calculate_total_cost", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 New york \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil", "tool_name": "calculate_total_cost", "tool_args": {"travelers": 2.0, "hotel_price": 2100.0, "flight_price": 650.0}, "tool_duration_seconds": 0.0010356903076171875, "result_length": 144, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T15:37:08.958436Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "Agent iteration 2", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 New york \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil", "iteration": 2, "tools_used": ["recommend_best_package"], "llm_duration_seconds": 1.2037968635559082, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T15:37:08.960037Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "   \u2192 Tool executed: recommend_best_package", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 New york \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil", "tool_name": "recommend_best_package", "tool_args": {"user_budget": "medium", "travel_style": "balanced", "priorities": "value", "packages_info": "Package \u00c9CONOMIQUE: 3500\u20ac, Package STANDARD: 4500\u20ac, Package PREMIUM: 5800\u20ac"}, "tool_duration_seconds": 0.0010497570037841797, "result_length": 2938, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T15:37:10.084255Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "\u2705 Finished after 3 iteration(s)", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 New york \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil", "iterations": 3, "total_duration_seconds": 86.33335137367249, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:36:09.736957Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\ude80 Initializing TravelAgent with gemini...", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:36:09.798148Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\u2705 TravelAgent initialized with Gemini 2.0 Flash", "model": "gemini-2.0-flash-001", "model_provider": "gemini", "cost_per_search": "$0.0016", "tools_count": 12, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:36:25.419708Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83e\udd16 Analyzing request", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Bercelone\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:36:28.183526Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "Agent iteration 1", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Bercelone\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil", "iteration": 1, "tools_used": ["get_airport_code", "get_destination_context"], "llm_duration_seconds": 2.7630531787872314, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:36:28.185845Z", "level": "INFO", "logger": "services.airport_service", "module": "airport_service", "function": "__init__", "line": 37, "message": "\u2705 AirportCodeService initialized with Amadeus API", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:36:28.588625Z", "level": "INFO", "logger": "services.airport_service", "module": "airport_service", "function": "get_airport_code", "line": 115, "message": "\u2705 Found airport code via Amadeus: Barcelona \u2192 BCN", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:36:28.589690Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "   \u2192 Tool executed: get_airport_code", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Bercelone\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil", "tool_name": "get_airport_code", "tool_args": {"city_name": "Barcelona"}, "tool_duration_seconds": 0.405322790145874, "result_length": 55, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:36:28.946086Z", "level": "INFO", "logger": "services.wikipedia_service", "module": "wikipedia_service", "function": "get_city_context", "line": 83, "message": "\u2705 Wikipedia context retrieved for Barcelona", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:36:28.947609Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "   \u2192 Tool executed: get_destination_context", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Bercelone\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil", "tool_name": "get_destination_context", "tool_args": {"city": "Barcelona"}, "tool_duration_seconds": 0.35681867599487305, "result_length": 286, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:36:30.780259Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "Agent iteration 2", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Bercelone\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil", "iteration": 2, "tools_used": ["search_flights", "search_hotels", "search_vacation_rentals"], "llm_duration_seconds": 1.8311715126037598, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:36:30.785074Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "__init__", "line": 77, "message": "\u2705 FlightSearchService initialized with Amadeus API", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:36:30.786989Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "_search_with_amadeus", "line": 163, "message": "\ud83d\udd0d Amadeus search: CDG \u2192 BCN on 2026-03-19", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:36:35.793688Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "_search_with_amadeus", "line": 188, "message": "\u2705 Amadeus: Found 5 real flight options", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:36:35.794824Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "   \u2192 Tool executed: search_flights", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Bercelone\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil", "tool_name": "search_flights", "tool_args": {"departure_date": "2026-03-19", "destination": "BCN", "return_date": "2026-03-26", "origin": "CDG"}, "tool_duration_seconds": 5.013307094573975, "result_length": 465, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:36:35.799376Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "__init__", "line": 48, "message": "HotelSearchService initialized with providers: booking-com15, mock", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:36:35.800668Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_search_with_booking", "line": 79, "message": "Trying Booking.com15 for Barcelona", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:36:35.801930Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 202, "message": "Trying Booking.com15 location search: 'Barcelona'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:36:35.975445Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 202, "message": "Trying Booking.com15 location search: 'Barcelona'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:36:36.186853Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 202, "message": "Trying Booking.com15 location search: 'Barcelona'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:36:36.353754Z", "level": "WARNING", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 231, "message": "No destination ID found for any variation of 'Barcelona'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:36:36.356380Z", "level": "WARNING", "logger": "services.hotel_service", "module": "hotel_service", "function": "_search_with_booking", "line": 84, "message": "Could not find destination ID for Barcelona", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:36:36.357735Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "search", "line": 74, "message": "Using mock data for Barcelona", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:36:36.358998Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "   \u2192 Tool executed: search_hotels", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Bercelone\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil", "tool_name": "search_hotels", "tool_args": {"destination": "Barcelona", "guests": 2.0, "checkout_date": "2026-03-26", "checkin_date": "2026-03-19"}, "tool_duration_seconds": 0.5627613067626953, "result_length": 4, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:36:36.360964Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "__init__", "line": 66, "message": "VacationRentalService initialized with providers: serpapi, rapidapi, mock", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:36:36.362123Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "search_rentals", "line": 90, "message": "Trying SerpAPI for Barcelona", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:36:36.747690Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "search_rentals", "line": 101, "message": "Trying RapidAPI Airbnb for Barcelona", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:36:38.348453Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "search_rentals", "line": 104, "message": "\u2705 RapidAPI: Found 5 rentals", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:36:38.349145Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "   \u2192 Tool executed: search_vacation_rentals", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Bercelone\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil", "tool_name": "search_vacation_rentals", "tool_args": {"checkout_date": "2026-03-26", "destination": "Barcelona", "guests": 2.0, "checkin_date": "2026-03-19"}, "tool_duration_seconds": 1.989288091659546, "result_length": 916, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:36:39.461741Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "Agent iteration 3", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Bercelone\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil", "iteration": 3, "tools_used": ["find_cultural_activities", "recommend_restaurants"], "llm_duration_seconds": 1.1113886833190918, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:36:43.153377Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "   \u2192 Tool executed: find_cultural_activities", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Bercelone\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil", "tool_name": "find_cultural_activities", "tool_args": {"preferences": "art,history", "city": "Barcelona"}, "tool_duration_seconds": 3.6886610984802246, "result_length": 48, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:36:45.280070Z", "level": "INFO", "logger": "services.restaurant_service", "module": "restaurant_service", "function": "find_restaurants", "line": 90, "message": "\u2705 4 restaurants from Travel Advisor API", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:36:45.280709Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "   \u2192 Tool executed: recommend_restaurants", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Bercelone\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil", "tool_name": "recommend_restaurants", "tool_args": {"budget": "$$", "cuisine_types": "local", "city": "Barcelona"}, "tool_duration_seconds": 2.1265435218811035, "result_length": 1302, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:36:47.188667Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "Agent iteration 4", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Bercelone\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil", "iteration": 4, "tools_used": ["create_visit_itinerary", "generate_travel_map"], "llm_duration_seconds": 1.9069643020629883, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:37:13.517285Z", "level": "INFO", "logger": "services.restaurant_service", "module": "restaurant_service", "function": "find_restaurants", "line": 90, "message": "\u2705 6 restaurants from Travel Advisor API", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:37:13.518231Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "   \u2192 Tool executed: create_visit_itinerary", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Bercelone\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil", "tool_name": "create_visit_itinerary", "tool_args": {"duration_days": 7.0, "interests": "art,history", "city": "Barcelona"}, "tool_duration_seconds": 26.328656435012817, "result_length": 2275, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:37:18.774729Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "   \u2192 Tool executed: generate_travel_map", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Bercelone\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil", "tool_name": "generate_travel_map", "tool_args": {"hotel_addresses": "Barcelona", "city": "Barcelona"}, "tool_duration_seconds": 5.25562858581543, "result_length": 152, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:37:19.768671Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "Agent iteration 5", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Bercelone\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil", "iteration": 5, "tools_used": ["calculate_total_cost"], "llm_duration_seconds": 0.9929461479187012, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:37:19.770954Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "   \u2192 Tool executed: calculate_total_cost", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Bercelone\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil", "tool_name": "calculate_total_cost", "tool_args": {"flight_price": 195.0, "hotel_price": 3416.0, "travelers": 2.0}, "tool_duration_seconds": 0.0014996528625488281, "result_length": 143, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:37:20.649355Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "Agent iteration 6", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Bercelone\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil", "iteration": 6, "tools_used": ["recommend_best_package"], "llm_duration_seconds": 0.877495288848877, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:37:20.651821Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "   \u2192 Tool executed: recommend_best_package", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Bercelone\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil", "tool_name": "recommend_best_package", "tool_args": {"user_budget": "medium", "packages_info": "Flight+Rental: $3806", "travel_style": "balanced"}, "tool_duration_seconds": 0.0014324188232421875, "result_length": 2938, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:37:23.116381Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\u2705 Finished after 7 iteration(s)", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Bercelone\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil", "iterations": 7, "total_duration_seconds": 57.6971161365509, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:41:10.796630Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83e\udd16 Analyzing request", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 rome\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 v", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:41:11.773738Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "Agent iteration 1", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 rome\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 v", "iteration": 1, "tools_used": ["get_airport_code", "get_destination_context"], "llm_duration_seconds": 0.9756011962890625, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:41:11.959149Z", "level": "INFO", "logger": "services.airport_service", "module": "airport_service", "function": "get_airport_code", "line": 115, "message": "\u2705 Found airport code via Amadeus: Rome \u2192 ROM", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:41:11.959596Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "   \u2192 Tool executed: get_airport_code", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 rome\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 v", "tool_name": "get_airport_code", "tool_args": {"city_name": "Rome"}, "tool_duration_seconds": 0.18528127670288086, "result_length": 27, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:41:12.082335Z", "level": "INFO", "logger": "services.wikipedia_service", "module": "wikipedia_service", "function": "get_city_context", "line": 83, "message": "\u2705 Wikipedia context retrieved for Rome", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:41:12.082988Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "   \u2192 Tool executed: get_destination_context", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 rome\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 v", "tool_name": "get_destination_context", "tool_args": {"city": "Rome"}, "tool_duration_seconds": 0.12267231941223145, "result_length": 588, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:41:13.564773Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "Agent iteration 2", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 rome\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 v", "iteration": 2, "tools_used": ["search_flights", "search_hotels", "search_vacation_rentals"], "llm_duration_seconds": 1.4812464714050293, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:41:13.566624Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "_search_with_amadeus", "line": 163, "message": "\ud83d\udd0d Amadeus search: CDG \u2192 ROM on 2026-03-19", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:41:16.720103Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "_search_with_amadeus", "line": 188, "message": "\u2705 Amadeus: Found 5 real flight options", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:41:16.721429Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "   \u2192 Tool executed: search_flights", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 rome\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 v", "tool_name": "search_flights", "tool_args": {"departure_date": "2026-03-19", "destination": "ROM", "return_date": "2026-03-26", "origin": "CDG"}, "tool_duration_seconds": 3.155853509902954, "result_length": 460, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:41:16.729253Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "__init__", "line": 48, "message": "HotelSearchService initialized with providers: booking-com15, mock", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:41:16.730728Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_search_with_booking", "line": 79, "message": "Trying Booking.com15 for Rome", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:41:16.731550Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 202, "message": "Trying Booking.com15 location search: 'Rome'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:41:16.960546Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 202, "message": "Trying Booking.com15 location search: 'Rome'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:41:17.103165Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 202, "message": "Trying Booking.com15 location search: 'Rome'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:41:17.244227Z", "level": "WARNING", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 231, "message": "No destination ID found for any variation of 'Rome'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:41:17.248372Z", "level": "WARNING", "logger": "services.hotel_service", "module": "hotel_service", "function": "_search_with_booking", "line": 84, "message": "Could not find destination ID for Rome", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:41:17.249680Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "search", "line": 74, "message": "Using mock data for Rome", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:41:17.251334Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "   \u2192 Tool executed: search_hotels", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 rome\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 v", "tool_name": "search_hotels", "tool_args": {"checkout_date": "2026-03-26", "guests": 2.0, "destination": "Rome", "checkin_date": "2026-03-19"}, "tool_duration_seconds": 0.5291662216186523, "result_length": 4, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:41:17.252899Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "search_rentals", "line": 90, "message": "Trying SerpAPI for Rome", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:41:17.485492Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "search_rentals", "line": 101, "message": "Trying RapidAPI Airbnb for Rome", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:41:19.211050Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "search_rentals", "line": 104, "message": "\u2705 RapidAPI: Found 5 rentals", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:41:19.211650Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "   \u2192 Tool executed: search_vacation_rentals", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 rome\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 v", "tool_name": "search_vacation_rentals", "tool_args": {"destination": "Rome", "guests": 2.0, "checkout_date": "2026-03-26", "checkin_date": "2026-03-19"}, "tool_duration_seconds": 1.9595720767974854, "result_length": 903, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:41:20.062480Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "Agent iteration 3", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 rome\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 v", "iteration": 3, "tools_used": ["find_cultural_activities", "recommend_restaurants"], "llm_duration_seconds": 0.8499410152435303, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:41:26.584400Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "   \u2192 Tool executed: find_cultural_activities", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 rome\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 v", "tool_name": "find_cultural_activities", "tool_args": {"preferences": "art,history", "city": "Rome"}, "tool_duration_seconds": 6.5214385986328125, "result_length": 442, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:41:28.589947Z", "level": "INFO", "logger": "services.restaurant_service", "module": "restaurant_service", "function": "find_restaurants", "line": 90, "message": "\u2705 2 restaurants from Travel Advisor API", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:41:28.590554Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "   \u2192 Tool executed: recommend_restaurants", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 rome\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 v", "tool_name": "recommend_restaurants", "tool_args": {"budget": "$$", "cuisine_types": "local", "city": "Rome"}, "tool_duration_seconds": 2.0056045055389404, "result_length": 695, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:41:29.906432Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "Agent iteration 4", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 rome\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 v", "iteration": 4, "tools_used": ["create_visit_itinerary", "generate_travel_map"], "llm_duration_seconds": 1.3146770000457764, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:41:33.578805Z", "level": "INFO", "logger": "services.restaurant_service", "module": "restaurant_service", "function": "find_restaurants", "line": 90, "message": "\u2705 2 restaurants from Travel Advisor API", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:41:33.580882Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "   \u2192 Tool executed: create_visit_itinerary", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 rome\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 v", "tool_name": "create_visit_itinerary", "tool_args": {"duration_days": 7.0, "interests": "culture,food,attractions", "city": "Rome"}, "tool_duration_seconds": 3.6723504066467285, "result_length": 2737, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:41:42.994084Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "   \u2192 Tool executed: generate_travel_map", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 rome\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 v", "tool_name": "generate_travel_map", "tool_args": {"hotel_addresses": "Grand Tour - ENTIRE CONDO, Grandma Maria's House - Metro C, Teano stop, Your Roman Holidays - ENTIRE RENTAL UNIT", "city": "Rome"}, "tool_duration_seconds": 9.4114351272583, "result_length": 152, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:41:44.202691Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "Agent iteration 5", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 rome\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 v", "iteration": 5, "tools_used": ["calculate_total_cost", "recommend_best_package"], "llm_duration_seconds": 1.2076373100280762, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:41:44.205057Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "   \u2192 Tool executed: calculate_total_cost", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 rome\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 v", "tool_name": "calculate_total_cost", "tool_args": {"flight_price": 178.7, "hotel_price": 5887.0, "travelers": 2.0}, "tool_duration_seconds": 0.0013546943664550781, "result_length": 143, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:41:44.206665Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "   \u2192 Tool executed: recommend_best_package", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 rome\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 v", "tool_name": "recommend_best_package", "tool_args": {"user_budget": "medium", "packages_info": "Flight+Rental: $6244.4", "travel_style": "balanced"}, "tool_duration_seconds": 0.0008990764617919922, "result_length": 2938, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:41:49.162451Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\u2705 Finished after 6 iteration(s)", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 rome\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 v", "iterations": 6, "total_duration_seconds": 38.36634683609009, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:44:22.417805Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\ude80 Initializing TravelAgent with gemini...", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:44:22.461750Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\u2705 TravelAgent initialized with Gemini 2.0 Flash", "model": "gemini-2.0-flash-001", "model_provider": "gemini", "cost_per_search": "$0.0016", "tools_count": 12, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:44:38.682388Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83e\udd16 Analyzing request", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Rome\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 v", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:44:43.388991Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "Agent iteration 1", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Rome\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 v", "iteration": 1, "tools_used": ["get_airport_code", "get_destination_context", "search_flights", "search_hotels", "search_vacation_rentals"], "llm_duration_seconds": 4.705183982849121, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:44:43.392337Z", "level": "INFO", "logger": "services.airport_service", "module": "airport_service", "function": "__init__", "line": 37, "message": "\u2705 AirportCodeService initialized with Amadeus API", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:44:43.897043Z", "level": "INFO", "logger": "services.airport_service", "module": "airport_service", "function": "get_airport_code", "line": 115, "message": "\u2705 Found airport code via Amadeus: Rome \u2192 ROM", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:44:43.897556Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "   \u2192 Tool executed: get_airport_code", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Rome\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 v", "tool_name": "get_airport_code", "tool_args": {"city_name": "Rome"}, "tool_duration_seconds": 0.5080471038818359, "result_length": 27, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:44:44.019281Z", "level": "INFO", "logger": "services.wikipedia_service", "module": "wikipedia_service", "function": "get_city_context", "line": 83, "message": "\u2705 Wikipedia context retrieved for Rome", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:44:44.019700Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "   \u2192 Tool executed: get_destination_context", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Rome\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 v", "tool_name": "get_destination_context", "tool_args": {"city": "Rome"}, "tool_duration_seconds": 0.12133288383483887, "result_length": 588, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:44:44.021501Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "__init__", "line": 77, "message": "\u2705 FlightSearchService initialized with Amadeus API", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:44:44.022684Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "_search_with_amadeus", "line": 163, "message": "\ud83d\udd0d Amadeus search: CDG \u2192 FCO on 2026-03-19", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:44:47.058331Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "_search_with_amadeus", "line": 188, "message": "\u2705 Amadeus: Found 5 real flight options", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:44:47.059731Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "   \u2192 Tool executed: search_flights", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Rome\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 v", "tool_name": "search_flights", "tool_args": {"travelers": 2.0, "destination": "FCO", "return_date": "2026-03-26", "departure_date": "2026-03-19", "origin": "CDG"}, "tool_duration_seconds": 3.0388681888580322, "result_length": 460, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:44:47.063917Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "__init__", "line": 48, "message": "HotelSearchService initialized with providers: booking-com15, mock", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:44:47.064997Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_search_with_booking", "line": 79, "message": "Trying Booking.com15 for Rome", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:44:47.065807Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 202, "message": "Trying Booking.com15 location search: 'Rome'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:44:48.559214Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 202, "message": "Trying Booking.com15 location search: 'Rome'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:44:48.859527Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 202, "message": "Trying Booking.com15 location search: 'Rome'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:44:49.238828Z", "level": "WARNING", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 231, "message": "No destination ID found for any variation of 'Rome'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:44:49.243567Z", "level": "WARNING", "logger": "services.hotel_service", "module": "hotel_service", "function": "_search_with_booking", "line": 84, "message": "Could not find destination ID for Rome", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:44:49.244497Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "search", "line": 74, "message": "Using mock data for Rome", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:44:49.245683Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "   \u2192 Tool executed: search_hotels", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Rome\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 v", "tool_name": "search_hotels", "tool_args": {"guests": 2.0, "destination": "Rome", "checkin_date": "2026-03-19", "checkout_date": "2026-03-26"}, "tool_duration_seconds": 2.1849491596221924, "result_length": 4, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:44:49.247209Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "__init__", "line": 66, "message": "VacationRentalService initialized with providers: serpapi, rapidapi, mock", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:44:49.247543Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "search_rentals", "line": 90, "message": "Trying SerpAPI for Rome", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:44:49.531107Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "search_rentals", "line": 101, "message": "Trying RapidAPI Airbnb for Rome", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:44:51.029361Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "search_rentals", "line": 104, "message": "\u2705 RapidAPI: Found 5 rentals", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:44:51.030140Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "   \u2192 Tool executed: search_vacation_rentals", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Rome\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 v", "tool_name": "search_vacation_rentals", "tool_args": {"checkin_date": "2026-03-19", "destination": "Rome", "guests": 2.0, "checkout_date": "2026-03-26"}, "tool_duration_seconds": 1.7833552360534668, "result_length": 903, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:44:52.289193Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "Agent iteration 2", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Rome\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 v", "iteration": 2, "tools_used": ["find_cultural_activities", "recommend_restaurants"], "llm_duration_seconds": 1.2584559917449951, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:44:55.101102Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "   \u2192 Tool executed: find_cultural_activities", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Rome\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 v", "tool_name": "find_cultural_activities", "tool_args": {"preferences": "art,history", "city": "Rome"}, "tool_duration_seconds": 2.811016321182251, "result_length": 442, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:44:56.674694Z", "level": "INFO", "logger": "services.restaurant_service", "module": "restaurant_service", "function": "find_restaurants", "line": 90, "message": "\u2705 2 restaurants from Travel Advisor API", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:44:56.675279Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "   \u2192 Tool executed: recommend_restaurants", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Rome\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 v", "tool_name": "recommend_restaurants", "tool_args": {"budget": "$$", "cuisine_types": "local", "city": "Rome"}, "tool_duration_seconds": 1.5737156867980957, "result_length": 695, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:45:04.102655Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "Agent iteration 3", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Rome\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 v", "iteration": 3, "tools_used": ["calculate_total_cost", "recommend_best_package"], "llm_duration_seconds": 7.4266393184661865, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:45:04.103753Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "   \u2192 Tool executed: calculate_total_cost", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Rome\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 v", "tool_name": "calculate_total_cost", "tool_args": {"flight_price": 178.7, "hotel_price": 5887.0, "travelers": 2.0}, "tool_duration_seconds": 0.0007588863372802734, "result_length": 143, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:45:04.104747Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "   \u2192 Tool executed: recommend_best_package", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Rome\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 v", "tool_name": "recommend_best_package", "tool_args": {"user_budget": "medium", "packages_info": "Flight+Rental: $6244.4", "travel_style": "balanced"}, "tool_duration_seconds": 0.00061798095703125, "result_length": 2938, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:45:07.821526Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\u2705 Finished after 4 iteration(s)", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Rome\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 v", "iterations": 4, "total_duration_seconds": 29.139747381210327, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:46:27.328666Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\ude80 Initializing TravelAgent with gemini...", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:46:27.378057Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\u2705 TravelAgent initialized with Gemini 2.0 Flash", "model": "gemini-2.0-flash-001", "model_provider": "gemini", "cost_per_search": "$0.0016", "tools_count": 12, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:46:50.081724Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83e\udd16 Analyzing request", "user_request": "DEMANDE UTILISATEUR:\nrome en novembre\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyag", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:47:05.211971Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "Agent iteration 1", "user_request": "DEMANDE UTILISATEUR:\nrome en novembre\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyag", "iteration": 1, "tools_used": ["get_airport_code", "get_destination_context", "search_flights", "search_hotels", "search_vacation_rentals"], "llm_duration_seconds": 15.129223823547363, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:47:05.215032Z", "level": "INFO", "logger": "services.airport_service", "module": "airport_service", "function": "__init__", "line": 37, "message": "\u2705 AirportCodeService initialized with Amadeus API", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:47:05.752165Z", "level": "INFO", "logger": "services.airport_service", "module": "airport_service", "function": "get_airport_code", "line": 115, "message": "\u2705 Found airport code via Amadeus: Rome \u2192 ROM", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:47:05.753447Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "   \u2192 Tool executed: get_airport_code", "user_request": "DEMANDE UTILISATEUR:\nrome en novembre\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyag", "tool_name": "get_airport_code", "tool_args": {"city_name": "Rome"}, "tool_duration_seconds": 0.5408718585968018, "result_length": 27, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:47:05.876161Z", "level": "INFO", "logger": "services.wikipedia_service", "module": "wikipedia_service", "function": "get_city_context", "line": 83, "message": "\u2705 Wikipedia context retrieved for Rome", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:47:05.877053Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "   \u2192 Tool executed: get_destination_context", "user_request": "DEMANDE UTILISATEUR:\nrome en novembre\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyag", "tool_name": "get_destination_context", "tool_args": {"city": "Rome"}, "tool_duration_seconds": 0.12279081344604492, "result_length": 588, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:47:05.879496Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "__init__", "line": 77, "message": "\u2705 FlightSearchService initialized with Amadeus API", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:47:05.880880Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "_search_with_amadeus", "line": 163, "message": "\ud83d\udd0d Amadeus search: CDG \u2192 FCO on 2024-11-19", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:47:06.515533Z", "level": "ERROR", "logger": "services.flight_service", "module": "flight_service", "function": "_search_with_amadeus", "line": 192, "message": "Amadeus API error: [400]\n", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:47:06.516040Z", "level": "ERROR", "logger": "services.flight_service", "module": "flight_service", "function": "search_flights", "line": 122, "message": "Flight search failed: [400]\n", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:47:06.516541Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "search_flights", "line": 123, "message": "Falling back to mock data", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:47:06.517228Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "_get_mock_flights", "line": 277, "message": "Using mock data for CDG \u2192 FCO", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:47:06.518097Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "   \u2192 Tool executed: search_flights", "user_request": "DEMANDE UTILISATEUR:\nrome en novembre\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyag", "tool_name": "search_flights", "tool_args": {"return_date": "2024-11-26", "travelers": 2.0, "departure_date": "2024-11-19", "origin": "CDG", "destination": "FCO"}, "tool_duration_seconds": 0.640031099319458, "result_length": 33, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:47:06.522787Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "__init__", "line": 48, "message": "HotelSearchService initialized with providers: booking-com15, mock", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:47:06.523901Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_search_with_booking", "line": 79, "message": "Trying Booking.com15 for Rome", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:47:06.524285Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 202, "message": "Trying Booking.com15 location search: 'Rome'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:47:06.901083Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 202, "message": "Trying Booking.com15 location search: 'Rome'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:47:07.054707Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 202, "message": "Trying Booking.com15 location search: 'Rome'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:47:07.226739Z", "level": "WARNING", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 231, "message": "No destination ID found for any variation of 'Rome'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:47:07.232792Z", "level": "WARNING", "logger": "services.hotel_service", "module": "hotel_service", "function": "_search_with_booking", "line": 84, "message": "Could not find destination ID for Rome", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:47:07.233483Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "search", "line": 74, "message": "Using mock data for Rome", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:47:07.236723Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "   \u2192 Tool executed: search_hotels", "user_request": "DEMANDE UTILISATEUR:\nrome en novembre\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyag", "tool_name": "search_hotels", "tool_args": {"checkin_date": "2024-11-19", "guests": 2.0, "destination": "Rome", "checkout_date": "2024-11-26"}, "tool_duration_seconds": 0.715674638748169, "result_length": 4, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:47:07.238884Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "__init__", "line": 66, "message": "VacationRentalService initialized with providers: serpapi, rapidapi, mock", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:47:07.240165Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "search_rentals", "line": 90, "message": "Trying SerpAPI for Rome", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:47:07.468085Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "search_rentals", "line": 101, "message": "Trying RapidAPI Airbnb for Rome", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:47:07.730234Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "search_rentals", "line": 110, "message": "Using mock data for Rome", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:47:07.730844Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "   \u2192 Tool executed: search_vacation_rentals", "user_request": "DEMANDE UTILISATEUR:\nrome en novembre\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyag", "tool_name": "search_vacation_rentals", "tool_args": {"checkin_date": "2024-11-19", "guests": 2.0, "destination": "Rome", "checkout_date": "2024-11-26"}, "tool_duration_seconds": 0.49358153343200684, "result_length": 32, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:47:09.235192Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "Agent iteration 2", "user_request": "DEMANDE UTILISATEUR:\nrome en novembre\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyag", "iteration": 2, "tools_used": ["find_cultural_activities", "recommend_restaurants"], "llm_duration_seconds": 1.5037317276000977, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:47:11.864546Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "   \u2192 Tool executed: find_cultural_activities", "user_request": "DEMANDE UTILISATEUR:\nrome en novembre\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyag", "tool_name": "find_cultural_activities", "tool_args": {"preferences": "art,history", "city": "Rome"}, "tool_duration_seconds": 2.6286652088165283, "result_length": 442, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:47:13.866482Z", "level": "INFO", "logger": "services.restaurant_service", "module": "restaurant_service", "function": "find_restaurants", "line": 90, "message": "\u2705 2 restaurants from Travel Advisor API", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:47:13.867495Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "   \u2192 Tool executed: recommend_restaurants", "user_request": "DEMANDE UTILISATEUR:\nrome en novembre\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyag", "tool_name": "recommend_restaurants", "tool_args": {"budget": "$$", "cuisine_types": "local", "city": "Rome"}, "tool_duration_seconds": 2.0018951892852783, "result_length": 695, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:47:20.732731Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "Agent iteration 3", "user_request": "DEMANDE UTILISATEUR:\nrome en novembre\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyag", "iteration": 3, "tools_used": ["calculate_total_cost", "recommend_best_package"], "llm_duration_seconds": 6.86441707611084, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:47:20.734874Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "   \u2192 Tool executed: calculate_total_cost", "user_request": "DEMANDE UTILISATEUR:\nrome en novembre\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyag", "tool_name": "calculate_total_cost", "tool_args": {"travelers": 2.0, "flight_price": 200.0, "hotel_price": 700.0}, "tool_duration_seconds": 0.001317739486694336, "result_length": 141, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:47:20.736757Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "   \u2192 Tool executed: recommend_best_package", "user_request": "DEMANDE UTILISATEUR:\nrome en novembre\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyag", "tool_name": "recommend_best_package", "tool_args": {"packages_info": "Flight+Hotel: $1100", "user_budget": "medium", "travel_style": "balanced"}, "tool_duration_seconds": 0.0007984638214111328, "result_length": 2938, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:47:25.840352Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\u2705 Finished after 4 iteration(s)", "user_request": "DEMANDE UTILISATEUR:\nrome en novembre\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyag", "iterations": 4, "total_duration_seconds": 35.75859546661377, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:51:42.570942Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\ude80 Initializing TravelAgent with gemini...", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:51:42.622516Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\u2705 TravelAgent initialized with Gemini 2.0 Flash", "model": "gemini-2.0-flash-001", "model_provider": "gemini", "cost_per_search": "$0.0016", "tools_count": 12, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:52:12.112203Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83e\udd16 Analyzing request", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 rome \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 ", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:52:16.066832Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "Agent iteration 1", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 rome \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 ", "iteration": 1, "tools_used": ["get_airport_code", "get_destination_context", "search_flights", "search_hotels", "search_vacation_rentals"], "llm_duration_seconds": 3.9527859687805176, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:52:16.071436Z", "level": "INFO", "logger": "services.airport_service", "module": "airport_service", "function": "__init__", "line": 37, "message": "\u2705 AirportCodeService initialized with Amadeus API", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:52:16.528392Z", "level": "INFO", "logger": "services.airport_service", "module": "airport_service", "function": "get_airport_code", "line": 115, "message": "\u2705 Found airport code via Amadeus: Rome \u2192 ROM", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:52:16.529303Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "   \u2192 Tool executed: get_airport_code", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 rome \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 ", "tool_name": "get_airport_code", "tool_args": {"city_name": "Rome"}, "tool_duration_seconds": 0.46123409271240234, "result_length": 27, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:52:16.685211Z", "level": "INFO", "logger": "services.wikipedia_service", "module": "wikipedia_service", "function": "get_city_context", "line": 83, "message": "\u2705 Wikipedia context retrieved for Rome", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:52:16.685746Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "   \u2192 Tool executed: get_destination_context", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 rome \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 ", "tool_name": "get_destination_context", "tool_args": {"city": "Rome"}, "tool_duration_seconds": 0.15541458129882812, "result_length": 588, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:52:16.687982Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "__init__", "line": 77, "message": "\u2705 FlightSearchService initialized with Amadeus API", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:52:16.689437Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "_search_with_amadeus", "line": 163, "message": "\ud83d\udd0d Amadeus search: CDG \u2192 FCO on 2026-03-19", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:52:20.415259Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "_search_with_amadeus", "line": 188, "message": "\u2705 Amadeus: Found 5 real flight options", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:52:20.419100Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "   \u2192 Tool executed: search_flights", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 rome \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 ", "tool_name": "search_flights", "tool_args": {"return_date": "2026-03-26", "destination": "FCO", "departure_date": "2026-03-19", "origin": "CDG"}, "tool_duration_seconds": 3.7323291301727295, "result_length": 460, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:52:20.428046Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "__init__", "line": 48, "message": "HotelSearchService initialized with providers: booking-com15, mock", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:52:20.429169Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_search_with_booking", "line": 79, "message": "Trying Booking.com15 for Rome", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:52:20.429734Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 202, "message": "Trying Booking.com15 location search: 'Rome'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:52:20.656548Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 202, "message": "Trying Booking.com15 location search: 'Rome'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:52:20.824230Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 202, "message": "Trying Booking.com15 location search: 'Rome'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:52:21.033776Z", "level": "WARNING", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 231, "message": "No destination ID found for any variation of 'Rome'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:52:21.037266Z", "level": "WARNING", "logger": "services.hotel_service", "module": "hotel_service", "function": "_search_with_booking", "line": 84, "message": "Could not find destination ID for Rome", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:52:21.038141Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "search", "line": 74, "message": "Using mock data for Rome", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:52:21.039133Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "   \u2192 Tool executed: search_hotels", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 rome \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 ", "tool_name": "search_hotels", "tool_args": {"checkin_date": "2026-03-19", "guests": 2.0, "destination": "Rome", "checkout_date": "2026-03-26"}, "tool_duration_seconds": 0.6194944381713867, "result_length": 4, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:52:21.041353Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "__init__", "line": 66, "message": "VacationRentalService initialized with providers: serpapi, rapidapi, mock", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:52:21.042727Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "search_rentals", "line": 90, "message": "Trying SerpAPI for Rome", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:52:21.431252Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "search_rentals", "line": 101, "message": "Trying RapidAPI Airbnb for Rome", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:52:22.966182Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "search_rentals", "line": 104, "message": "\u2705 RapidAPI: Found 5 rentals", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:52:22.967303Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "   \u2192 Tool executed: search_vacation_rentals", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 rome \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 ", "tool_name": "search_vacation_rentals", "tool_args": {"checkin_date": "2026-03-19", "guests": 2.0, "destination": "Rome", "checkout_date": "2026-03-26"}, "tool_duration_seconds": 1.9272265434265137, "result_length": 857, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:52:24.456652Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "Agent iteration 2", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 rome \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 ", "iteration": 2, "tools_used": ["find_cultural_activities", "recommend_restaurants", "calculate_total_cost", "recommend_best_package"], "llm_duration_seconds": 1.4885082244873047, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:54:02.201050Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\ude80 Initializing TravelAgent with gemini...", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T19:54:02.249978Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\u2705 TravelAgent initialized with Gemini 2.0 Flash", "model": "gemini-2.0-flash-001", "model_provider": "gemini", "cost_per_search": "$0.0016", "tools_count": 12, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T06:52:20.093184Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\ude80 Initializing TravelAgent with claude...", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T06:52:20.094105Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\u2705 TravelAgent initialized with Claude", "model": "claude-3-5-sonnet", "model_provider": "claude", "cost_per_search": "$0.05", "tools_count": 2, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T06:52:20.094557Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\udcac Chat message received", "user_input": "Je veux aller \u00e0 Tokyo", "history_length": 1, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T06:52:20.095086Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\u2705 Chat response ready after 1 iteration(s)", "user_input": "Je veux aller \u00e0 Tokyo", "iterations": 1, "total_duration_seconds": 0.0005145072937011719, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T06:52:20.095548Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\udcac Chat message received", "user_input": "En avril de pr\u00e9f\u00e9rence", "history_length": 3, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T06:52:20.096091Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\u2705 Chat response ready after 1 iteration(s)", "user_input": "En avril de pr\u00e9f\u00e9rence", "iterations": 1, "total_duration_seconds": 0.0004520416259765625, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T06:52:20.098827Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\ude80 Initializing TravelAgent with claude...", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T06:52:20.099474Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\u2705 TravelAgent initialized with Claude", "model": "claude-3-5-sonnet", "model_provider": "claude", "cost_per_search": "$0.05", "tools_count": 2, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T06:52:20.105245Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\ude80 Initializing TravelAgent with claude...", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T06:52:20.105852Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\u2705 TravelAgent initialized with Claude", "model": "claude-3-5-sonnet", "model_provider": "claude", "cost_per_search": "$0.05", "tools_count": 2, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T06:52:20.106272Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\udcac Chat message received", "user_input": "Je veux aller \u00e0 Tokyo", "history_length": 1, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T06:52:20.106764Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\u2705 Chat response ready after 1 iteration(s)", "user_input": "Je veux aller \u00e0 Tokyo", "iterations": 1, "total_duration_seconds": 0.0004961490631103516, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T06:52:20.107145Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\udcac Chat message received", "user_input": "En avril", "history_length": 3, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T06:52:20.107531Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\u2705 Chat response ready after 1 iteration(s)", "user_input": "En avril", "iterations": 1, "total_duration_seconds": 0.0003991127014160156, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T06:52:20.110329Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\ude80 Initializing TravelAgent with claude...", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T06:52:20.110946Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\u2705 TravelAgent initialized with Claude", "model": "claude-3-5-sonnet", "model_provider": "claude", "cost_per_search": "$0.05", "tools_count": 2, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T06:52:20.111359Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\udcac Chat message received", "user_input": "Je veux aller \u00e0 Tokyo", "history_length": 1, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T06:52:20.111825Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\u2705 Chat response ready after 1 iteration(s)", "user_input": "Je veux aller \u00e0 Tokyo", "iterations": 1, "total_duration_seconds": 0.0004780292510986328, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T06:52:20.112175Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\udd04 Conversation history reset", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T06:52:20.112529Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\udcac Chat message received", "user_input": "Je pr\u00e9f\u00e8re Paris", "history_length": 1, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T06:52:20.112989Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\u2705 Chat response ready after 1 iteration(s)", "user_input": "Je pr\u00e9f\u00e8re Paris", "iterations": 1, "total_duration_seconds": 0.0004322528839111328, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T06:52:20.116542Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\ude80 Initializing TravelAgent with claude...", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T06:52:20.117152Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\u2705 TravelAgent initialized with Claude", "model": "claude-3-5-sonnet", "model_provider": "claude", "cost_per_search": "$0.05", "tools_count": 2, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T06:52:20.117555Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83e\udd16 Analyzing request", "user_request": "Je veux aller \u00e0 Tokyo", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T06:52:20.118081Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\u2705 Finished after 1 iteration(s)", "user_request": "Je veux aller \u00e0 Tokyo", "iterations": 1, "total_duration_seconds": 0.0004923343658447266, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T06:52:20.121102Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\ude80 Initializing TravelAgent with claude...", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T06:52:20.121674Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\u2705 TravelAgent initialized with Claude", "model": "claude-3-5-sonnet", "model_provider": "claude", "cost_per_search": "$0.05", "tools_count": 2, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T06:52:20.122039Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\udcac Chat message received", "user_input": "Premier message", "history_length": 1, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T06:52:20.122525Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\u2705 Chat response ready after 1 iteration(s)", "user_input": "Premier message", "iterations": 1, "total_duration_seconds": 0.00046372413635253906, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T06:52:20.122922Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\udcac Chat message received", "user_input": "Deuxi\u00e8me message", "history_length": 3, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T06:52:20.123375Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\u2705 Chat response ready after 1 iteration(s)", "user_input": "Deuxi\u00e8me message", "iterations": 1, "total_duration_seconds": 0.0004661083221435547, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T06:52:20.123735Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\udd04 Conversation history reset", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T06:59:38.595600Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\ude80 Initializing TravelAgent with claude...", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T06:59:38.657974Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\u2705 TravelAgent initialized with Claude Sonnet 4", "model": "claude-sonnet-4-20250514", "model_provider": "claude", "cost_per_search": "$0.069", "tools_count": 12, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T06:59:38.658625Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\udcac Chat message received", "user_input": "Bonjour !", "history_length": 1, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T06:59:46.516178Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\u2705 Chat response ready after 1 iteration(s)", "user_input": "Bonjour !", "iterations": 1, "total_duration_seconds": 7.857370853424072, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T06:59:46.517175Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\udcac Chat message received", "user_input": "Je veux faire un voyage", "history_length": 3, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T06:59:53.428666Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\u2705 Chat response ready after 1 iteration(s)", "user_input": "Je veux faire un voyage", "iterations": 1, "total_duration_seconds": 6.911647319793701, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T06:59:53.429205Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\udcac Chat message received", "user_input": "Au Japon", "history_length": 5, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:00:02.030058Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\u2705 Chat response ready after 1 iteration(s)", "user_input": "Au Japon", "iterations": 1, "total_duration_seconds": 8.600823640823364, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:00:02.030582Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\udcac Chat message received", "user_input": "Plus pr\u00e9cis\u00e9ment \u00e0 Tokyo", "history_length": 7, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:00:11.247251Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\u2705 Chat response ready after 1 iteration(s)", "user_input": "Plus pr\u00e9cis\u00e9ment \u00e0 Tokyo", "iterations": 1, "total_duration_seconds": 9.216531038284302, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:00:11.248159Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\udcac Chat message received", "user_input": "En avril prochain", "history_length": 9, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:00:18.123566Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "Agent iteration 1", "user_input": "En avril prochain", "iteration": 1, "tools_used": ["get_airport_code", "get_destination_context", "search_flights", "search_hotels", "search_vacation_rentals"], "llm_duration_seconds": 6.874590158462524, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:00:18.126450Z", "level": "INFO", "logger": "services.airport_service", "module": "airport_service", "function": "__init__", "line": 37, "message": "\u2705 AirportCodeService initialized with Amadeus API", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:00:18.716496Z", "level": "INFO", "logger": "services.airport_service", "module": "airport_service", "function": "get_airport_code", "line": 123, "message": "\u2705 Found airport code via fallback: Tokyo \u2192 NRT", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:00:18.716899Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "   \u2192 Tool executed: get_airport_code", "user_input": "En avril prochain", "tool_name": "get_airport_code", "tool_args": {"city_name": "Tokyo"}, "tool_duration_seconds": 0.59279465675354, "result_length": 39, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:00:19.995271Z", "level": "INFO", "logger": "services.wikipedia_service", "module": "wikipedia_service", "function": "get_city_context", "line": 83, "message": "\u2705 Wikipedia context retrieved for Tokyo", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:00:19.995710Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "   \u2192 Tool executed: get_destination_context", "user_input": "En avril prochain", "tool_name": "get_destination_context", "tool_args": {"city": "Tokyo"}, "tool_duration_seconds": 1.2783958911895752, "result_length": 508, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:00:19.997323Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "__init__", "line": 77, "message": "\u2705 FlightSearchService initialized with Amadeus API", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:00:19.998068Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "_search_with_amadeus", "line": 163, "message": "\ud83d\udd0d Amadeus search: CDG \u2192 NRT on 2025-04-15", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:00:20.459256Z", "level": "ERROR", "logger": "services.flight_service", "module": "flight_service", "function": "_search_with_amadeus", "line": 192, "message": "Amadeus API error: [400]\n", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:00:20.459604Z", "level": "ERROR", "logger": "services.flight_service", "module": "flight_service", "function": "search_flights", "line": 122, "message": "Flight search failed: [400]\n", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:00:20.459893Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "search_flights", "line": 123, "message": "Falling back to mock data", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:00:20.460439Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "_get_mock_flights", "line": 277, "message": "Using mock data for CDG \u2192 NRT", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:00:20.460920Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "   \u2192 Tool executed: search_flights", "user_input": "En avril prochain", "tool_name": "search_flights", "tool_args": {"origin": "CDG", "destination": "NRT", "departure_date": "2025-04-15", "return_date": "2025-04-22"}, "tool_duration_seconds": 0.46477746963500977, "result_length": 33, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:00:20.463811Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "__init__", "line": 48, "message": "HotelSearchService initialized with providers: booking-com15, mock", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:00:20.464171Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_search_with_booking", "line": 79, "message": "Trying Booking.com15 for Tokyo", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:00:20.464519Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 202, "message": "Trying Booking.com15 location search: 'Tokyo'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:00:20.638671Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 202, "message": "Trying Booking.com15 location search: 'Tokyo'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:00:20.798080Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 202, "message": "Trying Booking.com15 location search: 'Tokyo'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:00:20.994892Z", "level": "WARNING", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 231, "message": "No destination ID found for any variation of 'Tokyo'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:00:20.998230Z", "level": "WARNING", "logger": "services.hotel_service", "module": "hotel_service", "function": "_search_with_booking", "line": 84, "message": "Could not find destination ID for Tokyo", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:00:20.998588Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "search", "line": 74, "message": "Using mock data for Tokyo", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:00:20.999104Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "   \u2192 Tool executed: search_hotels", "user_input": "En avril prochain", "tool_name": "search_hotels", "tool_args": {"destination": "Tokyo", "checkin_date": "2025-04-15", "checkout_date": "2025-04-22", "guests": 2}, "tool_duration_seconds": 0.5378193855285645, "result_length": 4, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:00:21.000705Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "__init__", "line": 66, "message": "VacationRentalService initialized with providers: serpapi, rapidapi, mock", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:00:21.001067Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "search_rentals", "line": 90, "message": "Trying SerpAPI for Tokyo", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:00:21.425705Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "search_rentals", "line": 101, "message": "Trying RapidAPI Airbnb for Tokyo", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:00:21.798998Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "search_rentals", "line": 110, "message": "Using mock data for Tokyo", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:00:21.799951Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "   \u2192 Tool executed: search_vacation_rentals", "user_input": "En avril prochain", "tool_name": "search_vacation_rentals", "tool_args": {"destination": "Tokyo", "checkin_date": "2025-04-15", "checkout_date": "2025-04-22", "guests": 2}, "tool_duration_seconds": 0.8001701831817627, "result_length": 33, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:00:29.838643Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "Agent iteration 2", "user_input": "En avril prochain", "iteration": 2, "tools_used": ["find_cultural_activities", "recommend_restaurants", "calculate_total_cost", "recommend_best_package"], "llm_duration_seconds": 8.037489414215088, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:00:33.573378Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "   \u2192 Tool executed: find_cultural_activities", "user_input": "En avril prochain", "tool_name": "find_cultural_activities", "tool_args": {"city": "Tokyo", "preferences": "art,history,culture"}, "tool_duration_seconds": 3.7339680194854736, "result_length": 270, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:00:40.306886Z", "level": "INFO", "logger": "services.restaurant_service", "module": "restaurant_service", "function": "find_restaurants", "line": 90, "message": "\u2705 2 restaurants from Travel Advisor API", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:00:40.307333Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "   \u2192 Tool executed: recommend_restaurants", "user_input": "En avril prochain", "tool_name": "recommend_restaurants", "tool_args": {"city": "Tokyo", "cuisine_types": "local,japanese", "budget": "$$"}, "tool_duration_seconds": 6.7334253787994385, "result_length": 600, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:00:40.308387Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "   \u2192 Tool executed: calculate_total_cost", "user_input": "En avril prochain", "tool_name": "calculate_total_cost", "tool_args": {"flight_price": 850, "hotel_price": 1200, "travelers": 2}, "tool_duration_seconds": 0.0007178783416748047, "result_length": 144, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:00:40.309325Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "   \u2192 Tool executed: recommend_best_package", "user_input": "En avril prochain", "tool_name": "recommend_best_package", "tool_args": {"packages_info": "Package \u00c9conomique: \u20ac2900 (vol+h\u00f4tel business), Package Standard: \u20ac3800 (vol+h\u00f4tel 4*), Package Premium: \u20ac5200 (vol+h\u00f4tel luxe)", "user_budget": "medium", "travel_style": "balanced", "priorities": "value"}, "tool_duration_seconds": 0.0006487369537353516, "result_length": 2938, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:01:26.411252Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\u2705 Chat response ready after 3 iteration(s)", "user_input": "En avril prochain", "iterations": 3, "total_duration_seconds": 75.1630129814148, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:01:26.411874Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\udd04 Conversation history reset", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:04:40.235828Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\ude80 Initializing TravelAgent with claude...", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:04:40.305605Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\u2705 TravelAgent initialized with Claude Sonnet 4", "model": "claude-sonnet-4-20250514", "model_provider": "claude", "cost_per_search": "$0.069", "tools_count": 12, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:04:40.306044Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\udcac Chat message received", "user_input": "Bonjour !", "history_length": 1, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:04:46.424138Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\u2705 Chat response ready after 1 iteration(s)", "user_input": "Bonjour !", "iterations": 1, "total_duration_seconds": 6.118044137954712, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:08:29.540458Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\ude80 Initializing TravelAgent with claude...", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:08:29.591617Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\u2705 TravelAgent initialized with Claude Sonnet 4", "model": "claude-sonnet-4-20250514", "model_provider": "claude", "cost_per_search": "$0.069", "tools_count": 12, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:08:29.592076Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\udcac Chat message received", "user_input": "Bonjour!", "history_length": 1, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:08:37.756299Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\u2705 Chat response ready after 1 iteration(s)", "user_input": "Bonjour!", "iterations": 1, "total_duration_seconds": 8.164088487625122, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:08:37.757199Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\u26a1 Fast mode enabled", "tools_count": 5, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:08:37.757629Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\ude80 Initializing TravelAgent with claude...", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:08:37.780408Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\u2705 TravelAgent initialized with Claude Sonnet 4", "model": "claude-sonnet-4-20250514", "model_provider": "claude", "cost_per_search": "$0.069", "tools_count": 12, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:08:37.780793Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\udcac Chat message received", "user_input": "Bonjour!", "history_length": 1, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:08:43.619878Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\u2705 Chat response ready after 1 iteration(s)", "user_input": "Bonjour!", "iterations": 1, "total_duration_seconds": 5.83905291557312, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:11:23.667380Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\ude80 Initializing TravelAgent with gemini...", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:11:23.747921Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\u2705 TravelAgent initialized with Gemini 2.0 Flash", "model": "gemini-2.0-flash-001", "model_provider": "gemini", "cost_per_search": "$0.0016", "tools_count": 12, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:11:23.748968Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\udcac Chat message received", "user_input": "Bonjour!", "history_length": 1, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:11:26.538542Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\u2705 Chat response ready after 1 iteration(s)", "user_input": "Bonjour!", "iterations": 1, "total_duration_seconds": 2.790156364440918, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:11:26.539008Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\u26a1 Fast mode enabled", "tools_count": 5, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:11:26.539345Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\ude80 Initializing TravelAgent with gemini...", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:11:26.582951Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\u2705 TravelAgent initialized with Gemini 2.0 Flash", "model": "gemini-2.0-flash-001", "model_provider": "gemini", "cost_per_search": "$0.0016", "tools_count": 12, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:11:26.583471Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\udcac Chat message received", "user_input": "Bonjour!", "history_length": 1, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:11:27.180602Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\u2705 Chat response ready after 1 iteration(s)", "user_input": "Bonjour!", "iterations": 1, "total_duration_seconds": 0.5969021320343018, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:13:08.681416Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\ude80 Initializing TravelAgent with gemini...", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:13:08.735691Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\u2705 TravelAgent initialized with Gemini 2.0 Flash", "model": "gemini-2.0-flash-001", "model_provider": "gemini", "cost_per_search": "$0.0016", "tools_count": 12, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:13:18.925734Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83e\udd16 Analyzing request", "user_request": "DEMANDE UTILISATEUR:\nhello\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9p", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:13:21.534071Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\u2705 Finished after 1 iteration(s)", "user_request": "DEMANDE UTILISATEUR:\nhello\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9p", "iterations": 1, "total_duration_seconds": 2.6084887981414795, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:13:26.684223Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83e\udd16 Analyzing request", "user_request": "DEMANDE UTILISATEUR:\nnice\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9pa", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:13:27.549861Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\u2705 Finished after 1 iteration(s)", "user_request": "DEMANDE UTILISATEUR:\nnice\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9pa", "iterations": 1, "total_duration_seconds": 0.8664805889129639, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:13:42.380676Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83e\udd16 Analyzing request", "user_request": "DEMANDE UTILISATEUR:\nhello\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9p", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:13:43.096319Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\u2705 Finished after 1 iteration(s)", "user_request": "DEMANDE UTILISATEUR:\nhello\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9p", "iterations": 1, "total_duration_seconds": 0.7160747051239014, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:13:48.590549Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83e\udd16 Analyzing request", "user_request": "DEMANDE UTILISATEUR:\nNice\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9pa", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:13:51.192666Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "Agent iteration 1", "user_request": "DEMANDE UTILISATEUR:\nNice\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9pa", "iteration": 1, "tools_used": ["get_airport_code", "search_flights", "search_hotels", "find_cultural_activities", "recommend_restaurants"], "llm_duration_seconds": 2.6009700298309326, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:13:51.194659Z", "level": "INFO", "logger": "services.airport_service", "module": "airport_service", "function": "__init__", "line": 37, "message": "\u2705 AirportCodeService initialized with Amadeus API", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:13:51.990397Z", "level": "INFO", "logger": "services.airport_service", "module": "airport_service", "function": "get_airport_code", "line": 115, "message": "\u2705 Found airport code via Amadeus: Nice \u2192 NCE", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:13:51.991162Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "   \u2192 Tool executed: get_airport_code", "user_request": "DEMANDE UTILISATEUR:\nNice\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9pa", "tool_name": "get_airport_code", "tool_args": {"city_name": "Nice"}, "tool_duration_seconds": 0.7977409362792969, "result_length": 35, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:13:51.993251Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "__init__", "line": 77, "message": "\u2705 FlightSearchService initialized with Amadeus API", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:13:51.994955Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "_search_with_amadeus", "line": 163, "message": "\ud83d\udd0d Amadeus search: CDG \u2192 NCE on 2026-03-20", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:13:55.172165Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "_search_with_amadeus", "line": 188, "message": "\u2705 Amadeus: Found 5 real flight options", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:13:55.172845Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "   \u2192 Tool executed: search_flights", "user_request": "DEMANDE UTILISATEUR:\nNice\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9pa", "tool_name": "search_flights", "tool_args": {"destination": "NCE", "departure_date": "2026-03-20", "origin": "CDG", "return_date": "2026-03-27"}, "tool_duration_seconds": 3.1811411380767822, "result_length": 465, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:13:55.177543Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "__init__", "line": 48, "message": "HotelSearchService initialized with providers: booking-com15, mock", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:13:55.178428Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_search_with_booking", "line": 79, "message": "Trying Booking.com15 for Nice", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:13:55.179026Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 202, "message": "Trying Booking.com15 location search: 'Nice'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:13:55.331298Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 202, "message": "Trying Booking.com15 location search: 'Nice'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:13:55.504547Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 202, "message": "Trying Booking.com15 location search: 'Nice'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:13:55.666956Z", "level": "WARNING", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 231, "message": "No destination ID found for any variation of 'Nice'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:13:55.673269Z", "level": "WARNING", "logger": "services.hotel_service", "module": "hotel_service", "function": "_search_with_booking", "line": 84, "message": "Could not find destination ID for Nice", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:13:55.677487Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "search", "line": 74, "message": "Using mock data for Nice", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:13:55.679293Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "   \u2192 Tool executed: search_hotels", "user_request": "DEMANDE UTILISATEUR:\nNice\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9pa", "tool_name": "search_hotels", "tool_args": {"guests": 2.0, "checkin_date": "2026-03-20", "destination": "Nice", "checkout_date": "2026-03-27"}, "tool_duration_seconds": 0.5054776668548584, "result_length": 4, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:14:00.646009Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "   \u2192 Tool executed: find_cultural_activities", "user_request": "DEMANDE UTILISATEUR:\nNice\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9pa", "tool_name": "find_cultural_activities", "tool_args": {"city": "Nice", "preferences": "art,history"}, "tool_duration_seconds": 4.965925693511963, "result_length": 317, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:14:02.389543Z", "level": "INFO", "logger": "services.restaurant_service", "module": "restaurant_service", "function": "find_restaurants", "line": 90, "message": "\u2705 5 restaurants from Travel Advisor API", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:14:02.390368Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "   \u2192 Tool executed: recommend_restaurants", "user_request": "DEMANDE UTILISATEUR:\nNice\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9pa", "tool_name": "recommend_restaurants", "tool_args": {"cuisine_types": "local", "city": "Nice", "budget": "$$"}, "tool_duration_seconds": 1.7436959743499756, "result_length": 1685, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:14:04.982043Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "Agent iteration 2", "user_request": "DEMANDE UTILISATEUR:\nNice\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9pa", "iteration": 2, "tools_used": ["search_hotels", "calculate_total_cost", "get_destination_context"], "llm_duration_seconds": 2.590852975845337, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:14:04.983795Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_search_with_booking", "line": 79, "message": "Trying Booking.com15 for Nice", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:14:04.984176Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 202, "message": "Trying Booking.com15 location search: 'Nice'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:14:05.130153Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 202, "message": "Trying Booking.com15 location search: 'Nice'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:14:05.489815Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 202, "message": "Trying Booking.com15 location search: 'Nice'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:14:05.617868Z", "level": "WARNING", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 231, "message": "No destination ID found for any variation of 'Nice'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:14:05.622082Z", "level": "WARNING", "logger": "services.hotel_service", "module": "hotel_service", "function": "_search_with_booking", "line": 84, "message": "Could not find destination ID for Nice", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:14:05.622773Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "search", "line": 74, "message": "Using mock data for Nice", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:14:05.624349Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "   \u2192 Tool executed: search_hotels", "user_request": "DEMANDE UTILISATEUR:\nNice\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9pa", "tool_name": "search_hotels", "tool_args": {"checkin_date": "2024-07-20", "guests": 2.0, "destination": "Nice", "checkout_date": "2024-07-27"}, "tool_duration_seconds": 0.6409924030303955, "result_length": 4, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:14:05.626807Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "   \u2192 Tool executed: calculate_total_cost", "user_request": "DEMANDE UTILISATEUR:\nNice\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9pa", "tool_name": "calculate_total_cost", "tool_args": {"hotel_price": 1000.0, "flight_price": 214.2, "travelers": 2.0}, "tool_duration_seconds": 0.0011546611785888672, "result_length": 142, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:14:06.026596Z", "level": "INFO", "logger": "services.wikipedia_service", "module": "wikipedia_service", "function": "get_city_context", "line": 83, "message": "\u2705 Wikipedia context retrieved for Nice", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:14:06.027582Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "   \u2192 Tool executed: get_destination_context", "user_request": "DEMANDE UTILISATEUR:\nNice\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9pa", "tool_name": "get_destination_context", "tool_args": {"city": "Nice"}, "tool_duration_seconds": 0.39972853660583496, "result_length": 583, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:14:09.232979Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\u2705 Finished after 3 iteration(s)", "user_request": "DEMANDE UTILISATEUR:\nNice\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9pa", "iterations": 3, "total_duration_seconds": 20.643295288085938, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:15:33.318360Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83e\udd16 Analyzing request", "user_request": "DEMANDE UTILISATEUR:\nosaka\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9p", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:15:34.879580Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "Agent iteration 1", "user_request": "DEMANDE UTILISATEUR:\nosaka\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9p", "iteration": 1, "tools_used": ["get_airport_code", "search_flights", "search_hotels", "find_cultural_activities", "recommend_restaurants", "get_destination_context"], "llm_duration_seconds": 1.559572458267212, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:15:35.184538Z", "level": "INFO", "logger": "services.airport_service", "module": "airport_service", "function": "get_airport_code", "line": 123, "message": "\u2705 Found airport code via fallback: Osaka \u2192 KIX", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:15:35.185624Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "   \u2192 Tool executed: get_airport_code", "user_request": "DEMANDE UTILISATEUR:\nosaka\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9p", "tool_name": "get_airport_code", "tool_args": {"city_name": "Osaka"}, "tool_duration_seconds": 0.3053150177001953, "result_length": 39, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:15:35.187761Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "_search_with_amadeus", "line": 163, "message": "\ud83d\udd0d Amadeus search: CDG \u2192 OSA on 2026-03-20", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:15:43.961107Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "_search_with_amadeus", "line": 188, "message": "\u2705 Amadeus: Found 5 real flight options", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:15:43.963171Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "   \u2192 Tool executed: search_flights", "user_request": "DEMANDE UTILISATEUR:\nosaka\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9p", "tool_name": "search_flights", "tool_args": {"destination": "OSA", "departure_date": "2026-03-20", "origin": "CDG", "return_date": "2026-03-27"}, "tool_duration_seconds": 8.776014566421509, "result_length": 495, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:15:43.967986Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_search_with_booking", "line": 79, "message": "Trying Booking.com15 for Osaka", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:15:43.969435Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 202, "message": "Trying Booking.com15 location search: 'Osaka'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:15:44.150108Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 202, "message": "Trying Booking.com15 location search: 'Osaka'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:15:44.416900Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 202, "message": "Trying Booking.com15 location search: 'Osaka'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:15:44.555381Z", "level": "WARNING", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 231, "message": "No destination ID found for any variation of 'Osaka'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:15:44.559060Z", "level": "WARNING", "logger": "services.hotel_service", "module": "hotel_service", "function": "_search_with_booking", "line": 84, "message": "Could not find destination ID for Osaka", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:15:44.559796Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "search", "line": 74, "message": "Using mock data for Osaka", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:15:44.561046Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "   \u2192 Tool executed: search_hotels", "user_request": "DEMANDE UTILISATEUR:\nosaka\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9p", "tool_name": "search_hotels", "tool_args": {"checkin_date": "2026-03-20", "guests": 2.0, "destination": "Osaka", "checkout_date": "2026-03-27"}, "tool_duration_seconds": 0.5948984622955322, "result_length": 4, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:15:52.445675Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "   \u2192 Tool executed: find_cultural_activities", "user_request": "DEMANDE UTILISATEUR:\nosaka\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9p", "tool_name": "find_cultural_activities", "tool_args": {"city": "Osaka", "preferences": "art,history"}, "tool_duration_seconds": 7.88367223739624, "result_length": 358, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:15:54.971931Z", "level": "INFO", "logger": "services.restaurant_service", "module": "restaurant_service", "function": "find_restaurants", "line": 90, "message": "\u2705 6 restaurants from Travel Advisor API", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:15:54.973484Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "   \u2192 Tool executed: recommend_restaurants", "user_request": "DEMANDE UTILISATEUR:\nosaka\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9p", "tool_name": "recommend_restaurants", "tool_args": {"cuisine_types": "local", "city": "Osaka", "budget": "$$"}, "tool_duration_seconds": 2.526355266571045, "result_length": 1629, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:15:55.226845Z", "level": "INFO", "logger": "services.wikipedia_service", "module": "wikipedia_service", "function": "get_city_context", "line": 83, "message": "\u2705 Wikipedia context retrieved for Osaka", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:15:55.227797Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "   \u2192 Tool executed: get_destination_context", "user_request": "DEMANDE UTILISATEUR:\nosaka\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9p", "tool_name": "get_destination_context", "tool_args": {"city": "Osaka"}, "tool_duration_seconds": 0.25217294692993164, "result_length": 580, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:15:57.660749Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\u2705 Finished after 2 iteration(s)", "user_request": "DEMANDE UTILISATEUR:\nosaka\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9p", "iterations": 2, "total_duration_seconds": 24.34394931793213, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:16:33.622214Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83e\udd16 Analyzing request", "user_request": "DEMANDE UTILISATEUR:\ncomment vas tu?\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyage", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:16:34.215826Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\u2705 Finished after 1 iteration(s)", "user_request": "DEMANDE UTILISATEUR:\ncomment vas tu?\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyage", "iterations": 1, "total_duration_seconds": 0.593468189239502, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:16:47.673477Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83e\udd16 Analyzing request", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Cuba en avril \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- P", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:16:48.690661Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\u2705 Finished after 1 iteration(s)", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Cuba en avril \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- P", "iterations": 1, "total_duration_seconds": 1.018007755279541, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:19:32.176469Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\u26a1 Fast mode enabled", "tools_count": 5, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:19:32.176814Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\ude80 Initializing TravelAgent with claude...", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:19:32.201663Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\u2705 TravelAgent initialized with Claude Sonnet 4", "model": "claude-sonnet-4-20250514", "model_provider": "claude", "cost_per_search": "$0.069", "tools_count": 12, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:19:32.202117Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\udcac Chat message received", "user_input": "Bonjour!", "history_length": 1, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:19:32.278629Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\u26a1 Fast mode enabled", "user_input": "Bonjour!", "tools_count": 5, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:19:32.279027Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\ude80 Initializing TravelAgent with gemini...", "user_input": "Bonjour!", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:19:32.280427Z", "level": "WARNING", "logger": "langchain_google_vertexai.chat_models", "module": "chat_models", "function": "__init__", "line": 1828, "message": "Unexpected argument 'enable_caching' provided to ChatVertexAI.", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:19:32.299799Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\u2705 TravelAgent initialized with Gemini 2.0 Flash", "user_input": "Bonjour!", "model": "gemini-2.0-flash-001", "model_provider": "gemini", "cost_per_search": "$0.0016", "tools_count": 12, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:19:32.300236Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\udcac Chat message received", "user_input": "Bonjour!", "history_length": 1, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:19:34.507026Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\u2705 Chat response ready after 1 iteration(s)", "user_input": "Bonjour!", "iterations": 1, "total_duration_seconds": 2.206524610519409, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:19:34.507706Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\udcac Chat message received", "user_input": "Comment vas-tu?", "history_length": 3, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:19:35.497780Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\u2705 Chat response ready after 1 iteration(s)", "user_input": "Comment vas-tu?", "iterations": 1, "total_duration_seconds": 0.9900722503662109, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:32:22.955492Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\ude80 Initializing TravelAgent with gemini...", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:32:23.003433Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\u2705 TravelAgent initialized with Gemini 2.0 Flash", "model": "gemini-2.0-flash-001", "model_provider": "gemini", "cost_per_search": "$0.0016", "tools_count": 12, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:32:37.261711Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83e\udd16 Analyzing request", "user_request": "DEMANDE UTILISATEUR:\nhello\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9p", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:32:39.648251Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\u2705 Finished after 1 iteration(s)", "user_request": "DEMANDE UTILISATEUR:\nhello\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9p", "iterations": 1, "total_duration_seconds": 2.387357711791992, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:32:50.733433Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83e\udd16 Analyzing request", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 tokyo en mai\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Pro", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:32:51.529136Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\u2705 Finished after 1 iteration(s)", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 tokyo en mai\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Pro", "iterations": 1, "total_duration_seconds": 0.7968618869781494, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:32:59.942196Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83e\udd16 Analyzing request", "user_request": "DEMANDE UTILISATEUR:\n2000 euros \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:33:01.121143Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\u2705 Finished after 1 iteration(s)", "user_request": "DEMANDE UTILISATEUR:\n2000 euros \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s", "iterations": 1, "total_duration_seconds": 1.1786620616912842, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:33:07.294622Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83e\udd16 Analyzing request", "user_request": "DEMANDE UTILISATEUR:\ntokyo\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9p", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:33:08.672412Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\u2705 Finished after 1 iteration(s)", "user_request": "DEMANDE UTILISATEUR:\ntokyo\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9p", "iterations": 1, "total_duration_seconds": 1.37778639793396, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:33:14.432157Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83e\udd16 Analyzing request", "user_request": "DEMANDE UTILISATEUR:\nen mai\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:33:15.131864Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\u2705 Finished after 1 iteration(s)", "user_request": "DEMANDE UTILISATEUR:\nen mai\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9", "iterations": 1, "total_duration_seconds": 0.7002363204956055, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:36:38.210132Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\u26a1 Fast mode enabled", "tools_count": 5, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:36:38.210762Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\ude80 Initializing TravelAgent with gemini...", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:36:38.240259Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\u2705 TravelAgent initialized with Gemini 2.0 Flash", "model": "gemini-2.0-flash-001", "model_provider": "gemini", "cost_per_search": "$0.0016", "tools_count": 12, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:36:45.805798Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\uddfa\ufe0f Planning intent detected - full context", "intent": "planning", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:36:45.807383Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\udcac Chat message received", "user_input": "DEMANDE UTILISATEUR:\nhello\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9p", "history_length": 1, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:36:48.573472Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\u2705 Chat response ready after 1 iteration(s)", "user_input": "DEMANDE UTILISATEUR:\nhello\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9p", "iterations": 1, "total_duration_seconds": 2.7664124965667725, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:36:53.484500Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\uddfa\ufe0f Planning intent detected - full context", "intent": "planning", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:36:53.485492Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\udcac Chat message received", "user_input": "DEMANDE UTILISATEUR:\nnice\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9pa", "history_length": 3, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:36:54.513083Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\u2705 Chat response ready after 1 iteration(s)", "user_input": "DEMANDE UTILISATEUR:\nnice\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9pa", "iterations": 1, "total_duration_seconds": 1.0277526378631592, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:37:01.489245Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\uddfa\ufe0f Planning intent detected - full context", "intent": "planning", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:37:01.489801Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\udcac Chat message received", "user_input": "DEMANDE UTILISATEUR:\nen mai\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9", "history_length": 5, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:37:02.497391Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\u2705 Chat response ready after 1 iteration(s)", "user_input": "DEMANDE UTILISATEUR:\nen mai\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9", "iterations": 1, "total_duration_seconds": 1.0074949264526367, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:37:36.320111Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\uddfa\ufe0f Planning intent detected - full context", "intent": "planning", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:37:36.321418Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\udcac Chat message received", "user_input": "DEMANDE UTILISATEUR:\nles mus\u00e9es la plage et la mer pour 2000 euros \n\nCONTEXTE DISPONIBLE (utilise si", "history_length": 7, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:37:37.381660Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\u2705 Chat response ready after 1 iteration(s)", "user_input": "DEMANDE UTILISATEUR:\nles mus\u00e9es la plage et la mer pour 2000 euros \n\nCONTEXTE DISPONIBLE (utilise si", "iterations": 1, "total_duration_seconds": 1.06026291847229, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:38:04.570203Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\uddfa\ufe0f Planning intent detected - full context", "intent": "planning", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:38:04.571119Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\udcac Chat message received", "user_input": "DEMANDE UTILISATEUR:\nentre le 13 et 19 mai \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2", "history_length": 9, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:38:05.833875Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\u2705 Chat response ready after 1 iteration(s)", "user_input": "DEMANDE UTILISATEUR:\nentre le 13 et 19 mai \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2", "iterations": 1, "total_duration_seconds": 1.262869119644165, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:38:43.398112Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\uddfa\ufe0f Planning intent detected - full context", "intent": "planning", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:38:43.398938Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\udd04 History pruned to last 10 messages", "history_length": 10, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:38:43.400134Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\udcac Chat message received", "user_input": "DEMANDE UTILISATEUR:\ntu es l\u00e0 \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s),", "history_length": 10, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:38:44.137424Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\u2705 Chat response ready after 1 iteration(s)", "user_input": "DEMANDE UTILISATEUR:\ntu es l\u00e0 \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s),", "iterations": 1, "total_duration_seconds": 0.7372884750366211, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:39:32.462505Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\uddfa\ufe0f Planning intent detected - full context", "intent": "planning", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:39:32.464234Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\udd04 History pruned to last 10 messages", "history_length": 10, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:39:32.465825Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\udcac Chat message received", "user_input": "eh oh ", "history_length": 10, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T07:39:33.250111Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\u2705 Chat response ready after 1 iteration(s)", "user_input": "eh oh ", "iterations": 1, "total_duration_seconds": 0.7846827507019043, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:27:20.283929Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\u26a1 Fast mode enabled", "tools_count": 5, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:27:20.284520Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\ude80 Initializing TravelAgent with gemini...", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:27:20.305499Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\u2705 TravelAgent initialized with Gemini 2.0 Flash", "model": "gemini-2.0-flash-001", "model_provider": "gemini", "cost_per_search": "$0.0016", "tools_count": 12, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:27:26.728235Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\udcac Small talk detected - using light context", "intent": "small_talk", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:27:26.729129Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\udcac Chat message received", "user_input": "salut", "history_length": 1, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:27:29.423484Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\u2705 Chat response ready after 1 iteration(s)", "user_input": "salut", "iterations": 1, "total_duration_seconds": 2.694298028945923, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:27:39.812281Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\uddfa\ufe0f Planning intent detected - full context", "intent": "planning", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:27:39.812639Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\udcac Chat message received", "user_input": "je veux aller \u00e0 TOkyo", "history_length": 3, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:27:40.936650Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\u2705 Chat response ready after 1 iteration(s)", "user_input": "je veux aller \u00e0 TOkyo", "iterations": 1, "total_duration_seconds": 1.1238658428192139, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:27:45.782277Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\uddfa\ufe0f Planning intent detected - full context", "intent": "planning", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:27:45.783086Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\udcac Chat message received", "user_input": "mai", "history_length": 5, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:27:46.538932Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\u2705 Chat response ready after 1 iteration(s)", "user_input": "mai", "iterations": 1, "total_duration_seconds": 0.7496747970581055, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:27:56.255243Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\uddfa\ufe0f Planning intent detected - full context", "intent": "planning", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:27:56.255844Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\udcac Chat message received", "user_input": "une semaine", "history_length": 7, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:27:57.729024Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\u2705 Chat response ready after 1 iteration(s)", "user_input": "une semaine", "iterations": 1, "total_duration_seconds": 1.4730799198150635, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:28:09.946964Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\uddfa\ufe0f Planning intent detected - full context", "intent": "planning", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:28:09.947793Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\udcac Chat message received", "user_input": "2000  euros ", "history_length": 9, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:28:11.502222Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\u2705 Chat response ready after 1 iteration(s)", "user_input": "2000  euros ", "iterations": 1, "total_duration_seconds": 1.5545120239257812, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:28:21.919387Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\uddfa\ufe0f Planning intent detected - full context", "intent": "planning", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:28:21.920074Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\udd04 History pruned to last 10 messages", "history_length": 10, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:28:21.920349Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\udcac Chat message received", "user_input": "go", "history_length": 10, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:28:22.556360Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\u2705 Chat response ready after 1 iteration(s)", "user_input": "go", "iterations": 1, "total_duration_seconds": 0.6358413696289062, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:29:36.023090Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\uddfa\ufe0f Planning intent detected - full context", "intent": "planning", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:29:36.024897Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\udd04 History pruned to last 10 messages", "history_length": 10, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:29:36.026629Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\udcac Chat message received", "user_input": "tu as trouv\u00e9 des  choses ", "history_length": 10, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:29:37.790196Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "Agent iteration 1", "user_input": "tu as trouv\u00e9 des  choses ", "iteration": 1, "tools_used": ["get_airport_code", "get_airport_code", "search_flights", "search_hotels"], "llm_duration_seconds": 1.7611744403839111, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:29:37.795658Z", "level": "INFO", "logger": "services.airport_service", "module": "airport_service", "function": "__init__", "line": 37, "message": "\u2705 AirportCodeService initialized with Amadeus API", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:29:38.369880Z", "level": "INFO", "logger": "services.airport_service", "module": "airport_service", "function": "get_airport_code", "line": 115, "message": "\u2705 Found airport code via Amadeus: Paris \u2192 PAR", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:29:38.370423Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "   \u2192 Tool executed: get_airport_code", "user_input": "tu as trouv\u00e9 des  choses ", "tool_name": "get_airport_code", "tool_args": {"city_name": "Paris"}, "tool_duration_seconds": 0.5795595645904541, "result_length": 30, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:29:38.609109Z", "level": "INFO", "logger": "services.airport_service", "module": "airport_service", "function": "get_airport_code", "line": 123, "message": "\u2705 Found airport code via fallback: Tokyo \u2192 NRT", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:29:38.609613Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "   \u2192 Tool executed: get_airport_code", "user_input": "tu as trouv\u00e9 des  choses ", "tool_name": "get_airport_code", "tool_args": {"city_name": "Tokyo"}, "tool_duration_seconds": 0.2384326457977295, "result_length": 39, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:29:38.613202Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "__init__", "line": 77, "message": "\u2705 FlightSearchService initialized with Amadeus API", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:29:38.614299Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "_search_with_amadeus", "line": 163, "message": "\ud83d\udd0d Amadeus search: CDG \u2192 NRT on 2024-05-08", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:29:38.966771Z", "level": "ERROR", "logger": "services.flight_service", "module": "flight_service", "function": "_search_with_amadeus", "line": 192, "message": "Amadeus API error: [400]\n", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:29:38.967301Z", "level": "ERROR", "logger": "services.flight_service", "module": "flight_service", "function": "search_flights", "line": 122, "message": "Flight search failed: [400]\n", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:29:38.967841Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "search_flights", "line": 123, "message": "Falling back to mock data", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:29:38.968755Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "_get_mock_flights", "line": 277, "message": "Using mock data for CDG \u2192 NRT", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:29:38.969964Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "   \u2192 Tool executed: search_flights", "user_input": "tu as trouv\u00e9 des  choses ", "tool_name": "search_flights", "tool_args": {"origin": "CDG", "destination": "NRT", "return_date": "2024-05-15", "departure_date": "2024-05-08"}, "tool_duration_seconds": 0.35903191566467285, "result_length": 33, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:29:38.977277Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "__init__", "line": 48, "message": "HotelSearchService initialized with providers: booking-com15, mock", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:29:38.978130Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_search_with_booking", "line": 79, "message": "Trying Booking.com15 for Tokyo", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:29:38.978709Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 202, "message": "Trying Booking.com15 location search: 'Tokyo'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:29:40.215770Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 202, "message": "Trying Booking.com15 location search: 'Tokyo'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:29:40.394798Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 202, "message": "Trying Booking.com15 location search: 'Tokyo'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:29:40.581753Z", "level": "WARNING", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 231, "message": "No destination ID found for any variation of 'Tokyo'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:29:40.602051Z", "level": "WARNING", "logger": "services.hotel_service", "module": "hotel_service", "function": "_search_with_booking", "line": 84, "message": "Could not find destination ID for Tokyo", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:29:40.605266Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "search", "line": 74, "message": "Using mock data for Tokyo", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:29:40.611558Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "   \u2192 Tool executed: search_hotels", "user_input": "tu as trouv\u00e9 des  choses ", "tool_name": "search_hotels", "tool_args": {"checkout_date": "2024-05-15", "destination": "Tokyo", "checkin_date": "2024-05-08"}, "tool_duration_seconds": 1.6389477252960205, "result_length": 4, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:29:41.695375Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\u2705 Chat response ready after 2 iteration(s)", "user_input": "tu as trouv\u00e9 des  choses ", "iterations": 2, "total_duration_seconds": 5.66872239112854, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:29:59.093063Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\uddfa\ufe0f Planning intent detected - full context", "intent": "planning", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:29:59.093654Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\udd04 History pruned to last 10 messages", "history_length": 10, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:29:59.093948Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\udcac Chat message received", "user_input": "plutot septembre", "history_length": 10, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:29:59.927555Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\u2705 Chat response ready after 1 iteration(s)", "user_input": "plutot septembre", "iterations": 1, "total_duration_seconds": 0.8335256576538086, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:30:07.242879Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\uddfa\ufe0f Planning intent detected - full context", "intent": "planning", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:30:07.243815Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\udd04 History pruned to last 10 messages", "history_length": 10, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:30:07.245136Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\udcac Chat message received", "user_input": "oui", "history_length": 10, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:30:08.070565Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\u2705 Chat response ready after 1 iteration(s)", "user_input": "oui", "iterations": 1, "total_duration_seconds": 0.8254642486572266, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:31:08.117095Z", "level": "INFO", "logger": "numexpr.utils", "module": "utils", "function": "_init_num_threads", "line": 164, "message": "NumExpr defaulting to 4 threads.", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:31:09.848187Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\u26a1 Fast mode enabled", "tools_count": 5, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:31:09.848523Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\ude80 Initializing TravelAgent with gemini...", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:31:09.896917Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\u2705 TravelAgent initialized with Gemini 2.0 Flash", "model": "gemini-2.0-flash-001", "model_provider": "gemini", "cost_per_search": "$0.0016", "tools_count": 12, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:32:37.273329Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\udcac Small talk detected - using light context", "intent": "small_talk", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:32:37.274124Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\udcac Chat message received", "user_input": "bonjour ", "history_length": 1, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:32:39.988887Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\u2705 Chat response ready after 1 iteration(s)", "user_input": "bonjour ", "iterations": 1, "total_duration_seconds": 2.7146360874176025, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:32:40.291978Z", "level": "INFO", "logger": "__main__", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\udd0d Response type: <class 'str'>, length: 73", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:36:12.787628Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\uddfa\ufe0f Planning intent detected - full context", "intent": "planning", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:36:12.788821Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\udcac Chat message received", "user_input": "je veux aller \u00e0 OSAKA", "history_length": 3, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:36:13.889804Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\u2705 Chat response ready after 1 iteration(s)", "user_input": "je veux aller \u00e0 OSAKA", "iterations": 1, "total_duration_seconds": 1.1010022163391113, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:36:14.296917Z", "level": "INFO", "logger": "__main__", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\udd0d Response type: <class 'str'>, length: 320", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:36:30.605881Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\uddfa\ufe0f Planning intent detected - full context", "intent": "planning", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:36:30.606603Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\udcac Chat message received", "user_input": "2000 euros et en septembre", "history_length": 5, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:36:31.502048Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\u2705 Chat response ready after 1 iteration(s)", "user_input": "2000 euros et en septembre", "iterations": 1, "total_duration_seconds": 0.8830947875976562, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:36:31.622355Z", "level": "INFO", "logger": "__main__", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\udd0d Response type: <class 'str'>, length: 197", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:36:35.280947Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\uddfa\ufe0f Planning intent detected - full context", "intent": "planning", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:36:35.282290Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\udcac Chat message received", "user_input": "2 ", "history_length": 7, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:36:36.296433Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\u2705 Chat response ready after 1 iteration(s)", "user_input": "2 ", "iterations": 1, "total_duration_seconds": 1.014155387878418, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:36:36.784177Z", "level": "INFO", "logger": "__main__", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\udd0d Response type: <class 'str'>, length: 233", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:36:46.400167Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\uddfa\ufe0f Planning intent detected - full context", "intent": "planning", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:36:46.402310Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\udcac Chat message received", "user_input": "1 semaine ", "history_length": 9, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:36:48.734878Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "Agent iteration 1", "user_input": "1 semaine ", "iteration": 1, "tools_used": ["get_airport_code", "search_flights", "search_hotels"], "llm_duration_seconds": 2.3316690921783447, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:36:48.738233Z", "level": "INFO", "logger": "services.airport_service", "module": "airport_service", "function": "__init__", "line": 37, "message": "\u2705 AirportCodeService initialized with Amadeus API", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:36:49.132342Z", "level": "INFO", "logger": "services.airport_service", "module": "airport_service", "function": "get_airport_code", "line": 123, "message": "\u2705 Found airport code via fallback: Osaka \u2192 KIX", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:36:49.132823Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "   \u2192 Tool executed: get_airport_code", "user_input": "1 semaine ", "tool_name": "get_airport_code", "tool_args": {"city_name": "Osaka"}, "tool_duration_seconds": 0.3972196578979492, "result_length": 39, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:36:49.135888Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "__init__", "line": 77, "message": "\u2705 FlightSearchService initialized with Amadeus API", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:36:49.137442Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "_search_with_amadeus", "line": 163, "message": "\ud83d\udd0d Amadeus search: CDG \u2192 KIX on 2024-09-15", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:36:49.812241Z", "level": "ERROR", "logger": "services.flight_service", "module": "flight_service", "function": "_search_with_amadeus", "line": 192, "message": "Amadeus API error: [400]\n", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:36:49.812534Z", "level": "ERROR", "logger": "services.flight_service", "module": "flight_service", "function": "search_flights", "line": 122, "message": "Flight search failed: [400]\n", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:36:49.812794Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "search_flights", "line": 123, "message": "Falling back to mock data", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:36:49.813158Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "_get_mock_flights", "line": 277, "message": "Using mock data for CDG \u2192 KIX", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:36:49.813795Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "   \u2192 Tool executed: search_flights", "user_input": "1 semaine ", "tool_name": "search_flights", "tool_args": {"departure_date": "2024-09-15", "return_date": "2024-09-22", "origin": "CDG", "destination": "KIX"}, "tool_duration_seconds": 0.6803104877471924, "result_length": 33, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:36:49.817172Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "__init__", "line": 48, "message": "HotelSearchService initialized with providers: booking-com15, mock", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:36:49.817517Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_search_with_booking", "line": 79, "message": "Trying Booking.com15 for Osaka", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:36:49.817906Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 202, "message": "Trying Booking.com15 location search: 'Osaka'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:36:50.029317Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 202, "message": "Trying Booking.com15 location search: 'Osaka'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:36:50.190406Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 202, "message": "Trying Booking.com15 location search: 'Osaka'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:36:50.568311Z", "level": "WARNING", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 231, "message": "No destination ID found for any variation of 'Osaka'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:36:50.571420Z", "level": "WARNING", "logger": "services.hotel_service", "module": "hotel_service", "function": "_search_with_booking", "line": 84, "message": "Could not find destination ID for Osaka", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:36:50.572100Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "search", "line": 74, "message": "Using mock data for Osaka", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:36:50.573364Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "   \u2192 Tool executed: search_hotels", "user_input": "1 semaine ", "tool_name": "search_hotels", "tool_args": {"guests": 2.0, "checkin_date": "2024-09-15", "checkout_date": "2024-09-22", "destination": "Osaka"}, "tool_duration_seconds": 0.7587201595306396, "result_length": 4, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:36:52.053273Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "Agent iteration 2", "user_input": "1 semaine ", "iteration": 2, "tools_used": ["search_flights", "search_hotels"], "llm_duration_seconds": 1.4786639213562012, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:36:52.055558Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "_search_with_amadeus", "line": 163, "message": "\ud83d\udd0d Amadeus search: CDG \u2192 KIX on 2024-09-01", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:36:52.527830Z", "level": "ERROR", "logger": "services.flight_service", "module": "flight_service", "function": "_search_with_amadeus", "line": 192, "message": "Amadeus API error: [400]\n", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:36:52.528294Z", "level": "ERROR", "logger": "services.flight_service", "module": "flight_service", "function": "search_flights", "line": 122, "message": "Flight search failed: [400]\n", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:36:52.528588Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "search_flights", "line": 123, "message": "Falling back to mock data", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:36:52.531562Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "_get_mock_flights", "line": 277, "message": "Using mock data for CDG \u2192 KIX", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:36:52.545402Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "   \u2192 Tool executed: search_flights", "user_input": "1 semaine ", "tool_name": "search_flights", "tool_args": {"departure_date": "2024-09-01", "return_date": "2024-09-30", "origin": "CDG", "destination": "KIX"}, "tool_duration_seconds": 0.4915328025817871, "result_length": 33, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:36:52.553276Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_search_with_booking", "line": 79, "message": "Trying Booking.com15 for Osaka", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:36:52.557115Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 202, "message": "Trying Booking.com15 location search: 'Osaka'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:36:53.605318Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 202, "message": "Trying Booking.com15 location search: 'Osaka'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:36:53.752332Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 202, "message": "Trying Booking.com15 location search: 'Osaka'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:36:54.033109Z", "level": "WARNING", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 231, "message": "No destination ID found for any variation of 'Osaka'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:36:54.036003Z", "level": "WARNING", "logger": "services.hotel_service", "module": "hotel_service", "function": "_search_with_booking", "line": 84, "message": "Could not find destination ID for Osaka", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:36:54.036457Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "search", "line": 74, "message": "Using mock data for Osaka", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:36:54.037419Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "   \u2192 Tool executed: search_hotels", "user_input": "1 semaine ", "tool_name": "search_hotels", "tool_args": {"guests": 2.0, "checkout_date": "2024-09-08", "checkin_date": "2024-09-01", "destination": "Osaka"}, "tool_duration_seconds": 1.4853570461273193, "result_length": 4, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:36:54.037865Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\udcca Generating final chat response...", "user_input": "1 semaine ", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:36:55.533978Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\u2705 Chat completed (max iterations reached)", "user_input": "1 semaine ", "max_iterations_reached": true, "total_duration_seconds": 9.131492376327515, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:36:55.922298Z", "level": "INFO", "logger": "__main__", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\udd0d Response type: <class 'str'>, length: 640", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:39:17.255424Z", "level": "INFO", "logger": "numexpr.utils", "module": "utils", "function": "_init_num_threads", "line": 164, "message": "NumExpr defaulting to 4 threads.", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:39:18.970026Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\u26a1 Fast mode enabled", "tools_count": 5, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:39:18.970476Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\ude80 Initializing TravelAgent with gemini...", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:39:18.997389Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\u2705 TravelAgent initialized with Gemini 2.0 Flash", "model": "gemini-2.0-flash-001", "model_provider": "gemini", "cost_per_search": "$0.0016", "tools_count": 12, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:39:42.205911Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\udcac Small talk detected - using light context", "intent": "small_talk", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:39:42.209273Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\udcac Chat message received", "user_input": "bonjour je veux aller \u00e0 osaka en mai 2026", "history_length": 1, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:39:45.846271Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\u2705 Chat response ready after 1 iteration(s)", "user_input": "bonjour je veux aller \u00e0 osaka en mai 2026", "iterations": 1, "total_duration_seconds": 3.6377980709075928, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:39:46.221195Z", "level": "INFO", "logger": "__main__", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\udd0d Response type: <class 'str'>, length: 663", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:40:09.053689Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\uddfa\ufe0f Planning intent detected - full context", "intent": "planning", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:40:09.054799Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\udcac Chat message received", "user_input": "2000 euros et je veux  voir le japon m\u00e9dieval l\u00e0 ba", "history_length": 3, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:40:10.090992Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\u2705 Chat response ready after 1 iteration(s)", "user_input": "2000 euros et je veux  voir le japon m\u00e9dieval l\u00e0 ba", "iterations": 1, "total_duration_seconds": 1.0360853672027588, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:40:10.569257Z", "level": "INFO", "logger": "__main__", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\udd0d Response type: <class 'str'>, length: 314", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:40:27.802177Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\uddfa\ufe0f Planning intent detected - full context", "intent": "planning", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:40:27.803959Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\udcac Chat message received", "user_input": "12 mai ", "history_length": 5, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:40:29.210614Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\u2705 Chat response ready after 1 iteration(s)", "user_input": "12 mai ", "iterations": 1, "total_duration_seconds": 1.4065980911254883, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:40:29.311589Z", "level": "INFO", "logger": "__main__", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\udd0d Response type: <class 'str'>, length: 214", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:40:39.054993Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\uddfa\ufe0f Planning intent detected - full context", "intent": "planning", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:40:39.056387Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\udcac Chat message received", "user_input": "10 jours", "history_length": 7, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:40:41.276862Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "Agent iteration 1", "user_input": "10 jours", "iteration": 1, "tools_used": ["get_airport_code", "search_flights", "search_hotels"], "llm_duration_seconds": 2.2179312705993652, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:40:41.281054Z", "level": "INFO", "logger": "services.airport_service", "module": "airport_service", "function": "__init__", "line": 37, "message": "\u2705 AirportCodeService initialized with Amadeus API", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:40:41.810909Z", "level": "INFO", "logger": "services.airport_service", "module": "airport_service", "function": "get_airport_code", "line": 123, "message": "\u2705 Found airport code via fallback: Osaka \u2192 KIX", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:40:41.811923Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "   \u2192 Tool executed: get_airport_code", "user_input": "10 jours", "tool_name": "get_airport_code", "tool_args": {"city_name": "Osaka"}, "tool_duration_seconds": 0.5340611934661865, "result_length": 39, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:40:41.815200Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "__init__", "line": 77, "message": "\u2705 FlightSearchService initialized with Amadeus API", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:40:41.816646Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "_search_with_amadeus", "line": 163, "message": "\ud83d\udd0d Amadeus search: CDG \u2192 KIX on 2026-05-12", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:40:51.551872Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "_search_with_amadeus", "line": 188, "message": "\u2705 Amadeus: Found 5 real flight options", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:40:51.559723Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "   \u2192 Tool executed: search_flights", "user_input": "10 jours", "tool_name": "search_flights", "tool_args": {"departure_date": "2026-05-12", "destination": "KIX", "return_date": "2026-05-22", "origin": "CDG"}, "tool_duration_seconds": 9.74072003364563, "result_length": 495, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:40:51.587632Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "__init__", "line": 48, "message": "HotelSearchService initialized with providers: booking-com15, mock", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:40:51.588307Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_search_with_booking", "line": 79, "message": "Trying Booking.com15 for Osaka", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:40:51.588820Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 202, "message": "Trying Booking.com15 location search: 'Osaka'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:40:51.870371Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 202, "message": "Trying Booking.com15 location search: 'Osaka'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:40:52.046223Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 202, "message": "Trying Booking.com15 location search: 'Osaka'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:40:52.248364Z", "level": "WARNING", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 231, "message": "No destination ID found for any variation of 'Osaka'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:40:52.252027Z", "level": "WARNING", "logger": "services.hotel_service", "module": "hotel_service", "function": "_search_with_booking", "line": 84, "message": "Could not find destination ID for Osaka", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:40:52.252609Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "search", "line": 74, "message": "Using mock data for Osaka", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:40:52.253219Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "   \u2192 Tool executed: search_hotels", "user_input": "10 jours", "tool_name": "search_hotels", "tool_args": {"guests": 2.0, "checkout_date": "2026-05-22", "checkin_date": "2026-05-12", "destination": "Osaka"}, "tool_duration_seconds": 0.6900079250335693, "result_length": 4, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:40:54.136562Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "Agent iteration 2", "user_input": "10 jours", "iteration": 2, "tools_used": ["search_hotels", "calculate_total_cost"], "llm_duration_seconds": 1.8826854228973389, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:40:54.138415Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_search_with_booking", "line": 79, "message": "Trying Booking.com15 for Osaka", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:40:54.139053Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 202, "message": "Trying Booking.com15 location search: 'Osaka'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:40:54.291947Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 202, "message": "Trying Booking.com15 location search: 'Osaka'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:40:54.412222Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 202, "message": "Trying Booking.com15 location search: 'Osaka'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:40:54.559567Z", "level": "WARNING", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 231, "message": "No destination ID found for any variation of 'Osaka'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:40:54.561788Z", "level": "WARNING", "logger": "services.hotel_service", "module": "hotel_service", "function": "_search_with_booking", "line": 84, "message": "Could not find destination ID for Osaka", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:40:54.562285Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "search", "line": 74, "message": "Using mock data for Osaka", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:40:54.562814Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "   \u2192 Tool executed: search_hotels", "user_input": "10 jours", "tool_name": "search_hotels", "tool_args": {"guests": 2.0, "destination": "Osaka", "checkin_date": "2026-05-12", "checkout_date": "2026-05-22"}, "tool_duration_seconds": 0.42579126358032227, "result_length": 4, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:40:54.564656Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "   \u2192 Tool executed: calculate_total_cost", "user_input": "10 jours", "tool_name": "calculate_total_cost", "tool_args": {"flight_price": 815.4, "hotel_price": 500.0, "travelers": 2.0}, "tool_duration_seconds": 0.001134634017944336, "result_length": 143, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:40:54.565559Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\udcca Generating final chat response...", "user_input": "10 jours", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:40:55.551419Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\u2705 Chat completed (max iterations reached)", "user_input": "10 jours", "max_iterations_reached": true, "total_duration_seconds": 16.49496841430664, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:40:55.650246Z", "level": "INFO", "logger": "__main__", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\udd0d Response type: <class 'str'>, length: 282", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:48:12.118289Z", "level": "INFO", "logger": "numexpr.utils", "module": "utils", "function": "_init_num_threads", "line": 164, "message": "NumExpr defaulting to 4 threads.", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:48:13.917019Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\u26a1 Fast mode enabled", "tools_count": 5, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:48:13.917281Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\ude80 Initializing TravelAgent with gemini...", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:48:13.939143Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\u2705 TravelAgent initialized with Gemini 2.0 Flash", "model": "gemini-2.0-flash-001", "model_provider": "gemini", "cost_per_search": "$0.0016", "tools_count": 12, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:48:19.339383Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\udcac Small talk detected - using light context", "intent": "small_talk", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:48:19.341441Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\udcac Chat message received", "user_input": "bonjour", "history_length": 1, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:48:22.397732Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\u2705 Chat response ready after 1 iteration(s)", "user_input": "bonjour", "iterations": 1, "total_duration_seconds": 3.056450843811035, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:48:22.848804Z", "level": "INFO", "logger": "__main__", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\udd0d Response type: <class 'str'>, length: 83", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:48:40.698178Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\uddfa\ufe0f Planning intent detected - full context", "intent": "planning", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:48:40.698649Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\udcac Chat message received", "user_input": "je veux aller \u00e0 RIO au mois de mai pour 4000 euros et deux personnes ", "history_length": 3, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:48:41.329459Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\u2705 Chat response ready after 1 iteration(s)", "user_input": "je veux aller \u00e0 RIO au mois de mai pour 4000 euros et deux personnes ", "iterations": 1, "total_duration_seconds": 0.6307320594787598, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:48:41.708876Z", "level": "INFO", "logger": "__main__", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\udd0d Response type: <class 'str'>, length: 75", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:48:46.735629Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\uddfa\ufe0f Planning intent detected - full context", "intent": "planning", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:48:46.737521Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\udcac Chat message received", "user_input": "1 semaine", "history_length": 5, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:48:47.409034Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\u2705 Chat response ready after 1 iteration(s)", "user_input": "1 semaine", "iterations": 1, "total_duration_seconds": 0.6715309619903564, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:48:47.737877Z", "level": "INFO", "logger": "__main__", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\udd0d Response type: <class 'str'>, length: 105", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:49:02.283628Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\uddfa\ufe0f Planning intent detected - full context", "intent": "planning", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:49:02.284790Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\udcac Chat message received", "user_input": "je ne sais trouve moins cher", "history_length": 7, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:49:03.092402Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "Agent iteration 1", "user_input": "je ne sais trouve moins cher", "iteration": 1, "tools_used": ["get_airport_code"], "llm_duration_seconds": 0.8068866729736328, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:49:03.096270Z", "level": "INFO", "logger": "services.airport_service", "module": "airport_service", "function": "__init__", "line": 37, "message": "\u2705 AirportCodeService initialized with Amadeus API", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:49:03.560216Z", "level": "INFO", "logger": "services.airport_service", "module": "airport_service", "function": "get_airport_code", "line": 123, "message": "\u2705 Found airport code via fallback: Rio de Janeiro \u2192 GIG", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:49:03.560934Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "   \u2192 Tool executed: get_airport_code", "user_input": "je ne sais trouve moins cher", "tool_name": "get_airport_code", "tool_args": {"city_name": "Rio de Janeiro"}, "tool_duration_seconds": 0.46706438064575195, "result_length": 57, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:49:04.745893Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "Agent iteration 2", "user_input": "je ne sais trouve moins cher", "iteration": 2, "tools_used": ["search_flights", "search_hotels"], "llm_duration_seconds": 1.184016466140747, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:49:04.751345Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "__init__", "line": 77, "message": "\u2705 FlightSearchService initialized with Amadeus API", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:49:04.753042Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "_search_with_amadeus", "line": 163, "message": "\ud83d\udd0d Amadeus search: CDG \u2192 GIG on 2024-05-15", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:49:05.198092Z", "level": "ERROR", "logger": "services.flight_service", "module": "flight_service", "function": "_search_with_amadeus", "line": 192, "message": "Amadeus API error: [400]\n", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:49:05.198340Z", "level": "ERROR", "logger": "services.flight_service", "module": "flight_service", "function": "search_flights", "line": 122, "message": "Flight search failed: [400]\n", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:49:05.198798Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "search_flights", "line": 123, "message": "Falling back to mock data", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:49:05.199004Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "_get_mock_flights", "line": 277, "message": "Using mock data for CDG \u2192 GIG", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:49:05.199754Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "   \u2192 Tool executed: search_flights", "user_input": "je ne sais trouve moins cher", "tool_name": "search_flights", "tool_args": {"departure_date": "2024-05-15", "return_date": "2024-05-22", "destination": "GIG", "origin": "CDG"}, "tool_duration_seconds": 0.4506371021270752, "result_length": 33, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:49:05.203736Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "__init__", "line": 48, "message": "HotelSearchService initialized with providers: booking-com15, mock", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:49:05.204356Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_search_with_booking", "line": 79, "message": "Trying Booking.com15 for Rio de Janeiro", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:49:05.204938Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 202, "message": "Trying Booking.com15 location search: 'Rio de Janeiro'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:49:05.357181Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 202, "message": "Trying Booking.com15 location search: 'Rio de Janeiro'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:49:05.514356Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 202, "message": "Trying Booking.com15 location search: 'Rio'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:49:05.676048Z", "level": "WARNING", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 231, "message": "No destination ID found for any variation of 'Rio de Janeiro'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:49:05.679280Z", "level": "WARNING", "logger": "services.hotel_service", "module": "hotel_service", "function": "_search_with_booking", "line": 84, "message": "Could not find destination ID for Rio de Janeiro", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:49:05.679655Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "search", "line": 74, "message": "Using mock data for Rio de Janeiro", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:49:05.680258Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "   \u2192 Tool executed: search_hotels", "user_input": "je ne sais trouve moins cher", "tool_name": "search_hotels", "tool_args": {"destination": "Rio de Janeiro", "checkin_date": "2024-05-15", "guests": 2.0, "checkout_date": "2024-05-22"}, "tool_duration_seconds": 0.47957825660705566, "result_length": 4, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:49:05.680649Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\udcca Generating final chat response...", "user_input": "je ne sais trouve moins cher", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:49:06.041038Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\u2705 Chat completed (max iterations reached)", "user_input": "je ne sais trouve moins cher", "max_iterations_reached": true, "total_duration_seconds": 3.7559947967529297, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:49:06.291558Z", "level": "INFO", "logger": "__main__", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\udd0d Response type: <class 'str'>, length: 0", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:49:06.293591Z", "level": "ERROR", "logger": "__main__", "module": "logger", "function": "_log", "line": 227, "message": "\u274c Empty response: {'response': '', 'error': None, 'duration': 3.7582473754882812}", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:51:56.935366Z", "level": "INFO", "logger": "numexpr.utils", "module": "utils", "function": "_init_num_threads", "line": 164, "message": "NumExpr defaulting to 4 threads.", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:51:58.948128Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\u26a1 Fast mode enabled", "tools_count": 5, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:51:58.948390Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\ude80 Initializing TravelAgent with gemini...", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:51:58.969410Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\u2705 TravelAgent initialized with Gemini 2.0 Flash", "model": "gemini-2.0-flash-001", "model_provider": "gemini", "cost_per_search": "$0.0016", "tools_count": 12, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:52:10.241096Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\udcac Small talk detected - using light context", "intent": "small_talk", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:52:10.242090Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\udcac Chat message received", "user_input": "hello", "history_length": 1, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:52:18.588241Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\u2705 Chat response ready after 1 iteration(s)", "user_input": "hello", "iterations": 1, "total_duration_seconds": 8.346015214920044, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:52:18.759966Z", "level": "INFO", "logger": "__main__", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\udd0d Response type: <class 'str'>, length: 52", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:52:36.122036Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\uddfa\ufe0f Planning intent detected - full context", "intent": "planning", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:52:36.123684Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\udcac Chat message received", "user_input": "je veux aller \u00e0 OSAKA en juin", "history_length": 3, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:52:37.096753Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\u2705 Chat response ready after 1 iteration(s)", "user_input": "je veux aller \u00e0 OSAKA en juin", "iterations": 1, "total_duration_seconds": 0.9728310108184814, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:52:37.124980Z", "level": "INFO", "logger": "__main__", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\udd0d Response type: <class 'str'>, length: 222", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:52:58.291378Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\uddfa\ufe0f Planning intent detected - full context", "intent": "planning", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:52:58.292169Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\udcac Chat message received", "user_input": "1 semaine et 2000 euros pour une personne", "history_length": 5, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:52:59.437927Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\u2705 Chat response ready after 1 iteration(s)", "user_input": "1 semaine et 2000 euros pour une personne", "iterations": 1, "total_duration_seconds": 1.1455671787261963, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:52:59.798503Z", "level": "INFO", "logger": "__main__", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\udd0d Response type: <class 'str'>, length: 313", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:53:12.120505Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\uddfa\ufe0f Planning intent detected - full context", "intent": "planning", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:53:12.122225Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\udcac Chat message received", "user_input": "fais le ", "history_length": 7, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:53:13.430865Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\u2705 Chat response ready after 1 iteration(s)", "user_input": "fais le ", "iterations": 1, "total_duration_seconds": 1.308502197265625, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:53:13.625267Z", "level": "INFO", "logger": "__main__", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\udd0d Response type: <class 'str'>, length: 387", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:58:37.717627Z", "level": "INFO", "logger": "numexpr.utils", "module": "utils", "function": "_init_num_threads", "line": 164, "message": "NumExpr defaulting to 4 threads.", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:58:39.934122Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\u26a1 Fast mode enabled", "tools_count": 5, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:58:39.934377Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\ude80 Initializing TravelAgent with gemini...", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T08:58:39.958358Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\u2705 TravelAgent initialized with Gemini 2.0 Flash", "model": "gemini-2.0-flash-001", "model_provider": "gemini", "cost_per_search": "$0.0016", "tools_count": 12, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:00:21.765472Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\udcac Small talk detected - using light context", "intent": "small_talk", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:00:21.766667Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\udcac Chat message received", "user_input": "hello", "history_length": 1, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:00:24.119104Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\u2705 Chat response ready after 1 iteration(s)", "user_input": "hello", "iterations": 1, "total_duration_seconds": 2.352196455001831, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:00:24.272818Z", "level": "INFO", "logger": "__main__", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\udd0d Response type: <class 'str'>, length: 82", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:00:48.461776Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\uddfa\ufe0f Planning intent detected - full context", "intent": "planning", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:00:48.462706Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\udcac Chat message received", "user_input": "je veux aller \u00e0 osaka au mois de Mai 2026 pour 400 euros et une personne ", "history_length": 3, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:00:49.390167Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\u2705 Chat response ready after 1 iteration(s)", "user_input": "je veux aller \u00e0 osaka au mois de Mai 2026 pour 400 euros et une personne ", "iterations": 1, "total_duration_seconds": 0.9273772239685059, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:00:49.464567Z", "level": "INFO", "logger": "__main__", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\udd0d Response type: <class 'str'>, length: 205", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:00:58.464073Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\uddfa\ufe0f Planning intent detected - full context", "intent": "planning", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:00:58.465774Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\udcac Chat message received", "user_input": "no", "history_length": 5, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:00:59.819568Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "Agent iteration 1", "user_input": "no", "iteration": 1, "tools_used": ["get_airport_code", "search_flights", "search_hotels"], "llm_duration_seconds": 1.3530175685882568, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:00:59.822375Z", "level": "INFO", "logger": "services.airport_service", "module": "airport_service", "function": "__init__", "line": 37, "message": "\u2705 AirportCodeService initialized with Amadeus API", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:01:00.190757Z", "level": "INFO", "logger": "services.airport_service", "module": "airport_service", "function": "get_airport_code", "line": 123, "message": "\u2705 Found airport code via fallback: Osaka \u2192 KIX", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:01:00.191443Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "   \u2192 Tool executed: get_airport_code", "user_input": "no", "tool_name": "get_airport_code", "tool_args": {"city_name": "Osaka"}, "tool_duration_seconds": 0.371290922164917, "result_length": 39, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:01:00.195063Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "__init__", "line": 77, "message": "\u2705 FlightSearchService initialized with Amadeus API", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:01:00.196671Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "_search_with_amadeus", "line": 163, "message": "\ud83d\udd0d Amadeus search: CDG \u2192 KIX on 2026-05-15", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:01:07.856056Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "_search_with_amadeus", "line": 188, "message": "\u2705 Amadeus: Found 5 real flight options", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:01:07.857013Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "   \u2192 Tool executed: search_flights", "user_input": "no", "tool_name": "search_flights", "tool_args": {"departure_date": "2026-05-15", "origin": "CDG", "destination": "KIX"}, "tool_duration_seconds": 7.664674520492554, "result_length": 495, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:01:07.863859Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "__init__", "line": 48, "message": "HotelSearchService initialized with providers: booking-com15, mock", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:01:07.864288Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_search_with_booking", "line": 79, "message": "Trying Booking.com15 for Osaka", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:01:07.865401Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 202, "message": "Trying Booking.com15 location search: 'Osaka'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:01:08.010395Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 202, "message": "Trying Booking.com15 location search: 'Osaka'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:01:08.218155Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 202, "message": "Trying Booking.com15 location search: 'Osaka'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:01:09.476690Z", "level": "WARNING", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 231, "message": "No destination ID found for any variation of 'Osaka'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:01:09.481326Z", "level": "WARNING", "logger": "services.hotel_service", "module": "hotel_service", "function": "_search_with_booking", "line": 84, "message": "Could not find destination ID for Osaka", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:01:09.482589Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "search", "line": 74, "message": "Using mock data for Osaka", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:01:09.483549Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "   \u2192 Tool executed: search_hotels", "user_input": "no", "tool_name": "search_hotels", "tool_args": {"guests": 1.0, "checkin_date": "2026-05-15", "checkout_date": "2026-05-22", "destination": "Osaka"}, "tool_duration_seconds": 1.6253635883331299, "result_length": 4, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:01:11.222257Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\u2705 Chat response ready after 2 iteration(s)", "user_input": "no", "iterations": 2, "total_duration_seconds": 12.756430387496948, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:01:11.498911Z", "level": "INFO", "logger": "__main__", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\udd0d Response type: <class 'str'>, length: 651", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:01:33.611821Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\uddfa\ufe0f Planning intent detected - full context", "intent": "planning", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:01:33.612982Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\udcac Chat message received", "user_input": "3000000 euros", "history_length": 7, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:01:34.505394Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\u2705 Chat response ready after 1 iteration(s)", "user_input": "3000000 euros", "iterations": 1, "total_duration_seconds": 0.8924880027770996, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:01:34.616064Z", "level": "INFO", "logger": "__main__", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\udd0d Response type: <class 'str'>, length: 244", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:01:45.775391Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\uddfa\ufe0f Planning intent detected - full context", "intent": "planning", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:01:45.777124Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\udcac Chat message received", "user_input": "one wek", "history_length": 9, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:01:46.634206Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\u2705 Chat response ready after 1 iteration(s)", "user_input": "one wek", "iterations": 1, "total_duration_seconds": 0.857074499130249, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:01:46.780661Z", "level": "INFO", "logger": "__main__", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\udd0d Response type: <class 'str'>, length: 175", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:01:56.417048Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\uddfa\ufe0f Planning intent detected - full context", "intent": "planning", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:01:56.424293Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\udd04 History pruned to last 10 messages", "history_length": 10, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:01:56.430413Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\udcac Chat message received", "user_input": "23 ", "history_length": 10, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:01:58.243602Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "Agent iteration 1", "user_input": "23 ", "iteration": 1, "tools_used": ["get_airport_code", "search_flights", "search_hotels"], "llm_duration_seconds": 1.812629222869873, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:01:58.435399Z", "level": "INFO", "logger": "services.airport_service", "module": "airport_service", "function": "get_airport_code", "line": 123, "message": "\u2705 Found airport code via fallback: Osaka \u2192 KIX", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:01:58.440753Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "   \u2192 Tool executed: get_airport_code", "user_input": "23 ", "tool_name": "get_airport_code", "tool_args": {"city_name": "Osaka"}, "tool_duration_seconds": 0.19629502296447754, "result_length": 39, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:01:58.448652Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "_search_with_amadeus", "line": 163, "message": "\ud83d\udd0d Amadeus search: CDG \u2192 KIX on 2026-05-23", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:02:22.135007Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "_search_with_amadeus", "line": 188, "message": "\u2705 Amadeus: Found 5 real flight options", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:02:22.136783Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "   \u2192 Tool executed: search_flights", "user_input": "23 ", "tool_name": "search_flights", "tool_args": {"return_date": "2026-05-30", "departure_date": "2026-05-23", "origin": "CDG", "destination": "KIX"}, "tool_duration_seconds": 23.694700479507446, "result_length": 495, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:02:22.138800Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_search_with_booking", "line": 79, "message": "Trying Booking.com15 for Osaka", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:02:22.139519Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 202, "message": "Trying Booking.com15 location search: 'Osaka'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:02:22.404173Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 202, "message": "Trying Booking.com15 location search: 'Osaka'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:02:23.043979Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 202, "message": "Trying Booking.com15 location search: 'Osaka'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:02:23.190749Z", "level": "WARNING", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 231, "message": "No destination ID found for any variation of 'Osaka'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:02:23.203241Z", "level": "WARNING", "logger": "services.hotel_service", "module": "hotel_service", "function": "_search_with_booking", "line": 84, "message": "Could not find destination ID for Osaka", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:02:23.209092Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "search", "line": 74, "message": "Using mock data for Osaka", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:02:23.212942Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "   \u2192 Tool executed: search_hotels", "user_input": "23 ", "tool_name": "search_hotels", "tool_args": {"guests": 1.0, "checkin_date": "2026-05-23", "checkout_date": "2026-05-30", "destination": "Osaka"}, "tool_duration_seconds": 1.075077772140503, "result_length": 4, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:02:28.029173Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\u2705 Chat response ready after 2 iteration(s)", "user_input": "23 ", "iterations": 2, "total_duration_seconds": 31.598777770996094, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:02:28.502365Z", "level": "INFO", "logger": "__main__", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\udd0d Response type: <class 'str'>, length: 2044", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:03:49.974573Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\uddfa\ufe0f Planning intent detected - full context", "intent": "planning", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:03:49.975147Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\udd04 History pruned to last 10 messages", "history_length": 10, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:03:49.975691Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\udcac Chat message received", "user_input": "je veux aller Mexico pour le mois de mai 2026", "history_length": 10, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:03:51.621058Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\u2705 Chat response ready after 1 iteration(s)", "user_input": "je veux aller Mexico pour le mois de mai 2026", "iterations": 1, "total_duration_seconds": 1.645125150680542, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:03:51.988993Z", "level": "INFO", "logger": "__main__", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\udd0d Response type: <class 'str'>, length: 592", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:04:06.799565Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\uddfa\ufe0f Planning intent detected - full context", "intent": "planning", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:04:06.800442Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\udd04 History pruned to last 10 messages", "history_length": 10, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:04:06.801671Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\udcac Chat message received", "user_input": "2 pour 4000euros ", "history_length": 10, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:04:07.597907Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\u2705 Chat response ready after 1 iteration(s)", "user_input": "2 pour 4000euros ", "iterations": 1, "total_duration_seconds": 0.7962815761566162, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:04:07.805416Z", "level": "INFO", "logger": "__main__", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\udd0d Response type: <class 'str'>, length: 154", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:04:20.640207Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\uddfa\ufe0f Planning intent detected - full context", "intent": "planning", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:04:20.641617Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\udd04 History pruned to last 10 messages", "history_length": 10, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:04:20.642177Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\udcac Chat message received", "user_input": "entre le 3 et le 15 mai ", "history_length": 10, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:04:21.445231Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\u2705 Chat response ready after 1 iteration(s)", "user_input": "entre le 3 et le 15 mai ", "iterations": 1, "total_duration_seconds": 0.8028597831726074, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:04:21.643199Z", "level": "INFO", "logger": "__main__", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\udd0d Response type: <class 'str'>, length: 120", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:05:00.831634Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\u26a1 Fast mode enabled", "tools_count": 5, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:05:00.832451Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\ude80 Initializing TravelAgent with claude...", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:05:00.853542Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\u2705 TravelAgent initialized with Claude Sonnet 4", "model": "claude-sonnet-4-20250514", "model_provider": "claude", "cost_per_search": "$0.069", "tools_count": 12, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:05:06.537350Z", "level": "WARNING", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\u26a0\ufe0f Semantic intent detection failed: Error code: 404 - {'type': 'error', 'error': {'type': 'not_found_error', 'message': 'model: claude-3-5-haiku-20241022'}, 'request_id': 'req_011CXGUBZYg1ysafyMv5ox7y'}, using keyword fallback", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:05:06.682299Z", "level": "WARNING", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\u26a0\ufe0f Semantic intent detection failed: Error code: 404 - {'type': 'error', 'error': {'type': 'not_found_error', 'message': 'model: claude-3-5-haiku-20241022'}, 'request_id': 'req_011CXGUBa99CnGmPL48tCb6g'}, using keyword fallback", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:05:06.853190Z", "level": "WARNING", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\u26a0\ufe0f Semantic intent detection failed: Error code: 404 - {'type': 'error', 'error': {'type': 'not_found_error', 'message': 'model: claude-3-5-haiku-20241022'}, 'request_id': 'req_011CXGUBam6e2JmWrrUoLGDW'}, using keyword fallback", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:05:06.987264Z", "level": "WARNING", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\u26a0\ufe0f Semantic intent detection failed: Error code: 404 - {'type': 'error', 'error': {'type': 'not_found_error', 'message': 'model: claude-3-5-haiku-20241022'}, 'request_id': 'req_011CXGUBbVkawqVDkysNvBLb'}, using keyword fallback", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:05:07.132460Z", "level": "WARNING", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\u26a0\ufe0f Semantic intent detection failed: Error code: 404 - {'type': 'error', 'error': {'type': 'not_found_error', 'message': 'model: claude-3-5-haiku-20241022'}, 'request_id': 'req_011CXGUBc4jMvs2wDTh4xik7'}, using keyword fallback", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:05:07.273875Z", "level": "WARNING", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\u26a0\ufe0f Semantic intent detection failed: Error code: 404 - {'type': 'error', 'error': {'type': 'not_found_error', 'message': 'model: claude-3-5-haiku-20241022'}, 'request_id': 'req_011CXGUBchvf1AvnFNtvQDCa'}, using keyword fallback", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:05:07.513425Z", "level": "WARNING", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\u26a0\ufe0f Semantic intent detection failed: Error code: 404 - {'type': 'error', 'error': {'type': 'not_found_error', 'message': 'model: claude-3-5-haiku-20241022'}, 'request_id': 'req_011CXGUBdHeeU6FTFZAFQ6So'}, using keyword fallback", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:05:07.710078Z", "level": "WARNING", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\u26a0\ufe0f Semantic intent detection failed: Error code: 404 - {'type': 'error', 'error': {'type': 'not_found_error', 'message': 'model: claude-3-5-haiku-20241022'}, 'request_id': 'req_011CXGUBeLeswvraRU8WMWCN'}, using keyword fallback", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:05:08.427870Z", "level": "WARNING", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\u26a0\ufe0f Semantic intent detection failed: Error code: 404 - {'type': 'error', 'error': {'type': 'not_found_error', 'message': 'model: claude-3-5-haiku-20241022'}, 'request_id': 'req_011CXGUBg9o5JLec38DmAGVB'}, using keyword fallback", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:05:08.739049Z", "level": "WARNING", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\u26a0\ufe0f Semantic intent detection failed: Error code: 404 - {'type': 'error', 'error': {'type': 'not_found_error', 'message': 'model: claude-3-5-haiku-20241022'}, 'request_id': 'req_011CXGUBiWBZfHwRgrVRWcKo'}, using keyword fallback", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:05:08.951860Z", "level": "WARNING", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\u26a0\ufe0f Semantic intent detection failed: Error code: 404 - {'type': 'error', 'error': {'type': 'not_found_error', 'message': 'model: claude-3-5-haiku-20241022'}, 'request_id': 'req_011CXGUBjnpWa5jAQywEfBHj'}, using keyword fallback", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:05:09.479017Z", "level": "WARNING", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\u26a0\ufe0f Semantic intent detection failed: Error code: 404 - {'type': 'error', 'error': {'type': 'not_found_error', 'message': 'model: claude-3-5-haiku-20241022'}, 'request_id': 'req_011CXGUBkvHpUjcSEZ3WbE8p'}, using keyword fallback", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:05:09.712538Z", "level": "WARNING", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\u26a0\ufe0f Semantic intent detection failed: Error code: 404 - {'type': 'error', 'error': {'type': 'not_found_error', 'message': 'model: claude-3-5-haiku-20241022'}, 'request_id': 'req_011CXGUBnuqsw8KQ9bc7heR7'}, using keyword fallback", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:05:09.912728Z", "level": "WARNING", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\u26a0\ufe0f Semantic intent detection failed: Error code: 404 - {'type': 'error', 'error': {'type': 'not_found_error', 'message': 'model: claude-3-5-haiku-20241022'}, 'request_id': 'req_011CXGUBoiDVCmhk4hx8NHyY'}, using keyword fallback", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:05:10.073662Z", "level": "WARNING", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\u26a0\ufe0f Semantic intent detection failed: Error code: 404 - {'type': 'error', 'error': {'type': 'not_found_error', 'message': 'model: claude-3-5-haiku-20241022'}, 'request_id': 'req_011CXGUBpeXDMGsmnrP5HL7d'}, using keyword fallback", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:05:10.715222Z", "level": "WARNING", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\u26a0\ufe0f Semantic intent detection failed: Error code: 404 - {'type': 'error', 'error': {'type': 'not_found_error', 'message': 'model: claude-3-5-haiku-20241022'}, 'request_id': 'req_011CXGUBs9qRyAmhwKimgN8r'}, using keyword fallback", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:05:10.937558Z", "level": "WARNING", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\u26a0\ufe0f Semantic intent detection failed: Error code: 404 - {'type': 'error', 'error': {'type': 'not_found_error', 'message': 'model: claude-3-5-haiku-20241022'}, 'request_id': 'req_011CXGUBtC6LpW8qZbeH2Lf7'}, using keyword fallback", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:06:23.540715Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\u26a1 Fast mode enabled", "tools_count": 5, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:06:23.542516Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\ude80 Initializing TravelAgent with claude...", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:06:23.569687Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\u2705 TravelAgent initialized with Claude Sonnet 4", "model": "claude-sonnet-4-20250514", "model_provider": "claude", "cost_per_search": "$0.069", "tools_count": 12, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:07:38.129383Z", "level": "INFO", "logger": "numexpr.utils", "module": "utils", "function": "_init_num_threads", "line": 164, "message": "NumExpr defaulting to 4 threads.", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:07:40.102137Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\u26a1 Fast mode enabled", "tools_count": 5, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:07:40.102412Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\ude80 Initializing TravelAgent with gemini...", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:07:40.125914Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\u2705 TravelAgent initialized with Gemini 2.0 Flash", "model": "gemini-2.0-flash-001", "model_provider": "gemini", "cost_per_search": "$0.0016", "tools_count": 12, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:07:52.890933Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\udcac Small talk detected - using light context", "intent": "small_talk", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:07:52.898976Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\udcac Chat message received", "user_input": "hello", "history_length": 1, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:07:53.482276Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\u2705 Chat response ready after 1 iteration(s)", "user_input": "hello", "iterations": 1, "total_duration_seconds": 0.5832862854003906, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:07:53.521810Z", "level": "INFO", "logger": "__main__", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\udd0d Response type: <class 'str'>, length: 52", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:08:33.692986Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\uddfa\ufe0f Planning intent detected - full context", "intent": "planning", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:08:33.693955Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\udcac Chat message received", "user_input": "I want to go to OSAKA with 5000 euros of budget with 2 personns", "history_length": 3, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:08:34.431603Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\u2705 Chat response ready after 1 iteration(s)", "user_input": "I want to go to OSAKA with 5000 euros of budget with 2 personns", "iterations": 1, "total_duration_seconds": 0.7376768589019775, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:08:34.740458Z", "level": "INFO", "logger": "__main__", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\udd0d Response type: <class 'str'>, length: 139", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:08:51.234527Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\uddfa\ufe0f Planning intent detected - full context", "intent": "planning", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:08:51.235648Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\udcac Chat message received", "user_input": "as soon as possible ", "history_length": 5, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:08:52.178197Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\u2705 Chat response ready after 1 iteration(s)", "user_input": "as soon as possible ", "iterations": 1, "total_duration_seconds": 0.9426038265228271, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:08:52.291290Z", "level": "INFO", "logger": "__main__", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\udd0d Response type: <class 'str'>, length: 230", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:09:04.153390Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\uddfa\ufe0f Planning intent detected - full context", "intent": "planning", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:09:04.153975Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\udcac Chat message received", "user_input": "one week", "history_length": 7, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:09:05.084082Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\u2705 Chat response ready after 1 iteration(s)", "user_input": "one week", "iterations": 1, "total_duration_seconds": 0.9299077987670898, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:09:05.251275Z", "level": "INFO", "logger": "__main__", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\udd0d Response type: <class 'str'>, length: 168", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:09:16.132143Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\u2705 Confirmation intent detected - full context", "intent": "confirmation", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:09:16.132852Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\udcac Chat message received", "user_input": "correct search now", "history_length": 9, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:09:16.734410Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "Agent iteration 1", "user_input": "correct search now", "iteration": 1, "tools_used": ["get_airport_code"], "llm_duration_seconds": 0.6012048721313477, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:09:16.737344Z", "level": "INFO", "logger": "services.airport_service", "module": "airport_service", "function": "__init__", "line": 37, "message": "\u2705 AirportCodeService initialized with Amadeus API", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:09:17.191989Z", "level": "INFO", "logger": "services.airport_service", "module": "airport_service", "function": "get_airport_code", "line": 123, "message": "\u2705 Found airport code via fallback: Osaka \u2192 KIX", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:09:17.192590Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "   \u2192 Tool executed: get_airport_code", "user_input": "correct search now", "tool_name": "get_airport_code", "tool_args": {"city_name": "Osaka"}, "tool_duration_seconds": 0.45723485946655273, "result_length": 39, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:09:18.636272Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "Agent iteration 2", "user_input": "correct search now", "iteration": 2, "tools_used": ["search_flights", "search_hotels"], "llm_duration_seconds": 1.4391210079193115, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:09:18.638236Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "__init__", "line": 77, "message": "\u2705 FlightSearchService initialized with Amadeus API", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:09:18.639106Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "_search_with_amadeus", "line": 163, "message": "\ud83d\udd0d Amadeus search: CDG \u2192 KIX on 2024-08-10", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:09:20.257554Z", "level": "ERROR", "logger": "services.flight_service", "module": "flight_service", "function": "_search_with_amadeus", "line": 192, "message": "Amadeus API error: [400]\n", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:09:20.263039Z", "level": "ERROR", "logger": "services.flight_service", "module": "flight_service", "function": "search_flights", "line": 122, "message": "Flight search failed: [400]\n", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:09:20.269845Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "search_flights", "line": 123, "message": "Falling back to mock data", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:09:20.270210Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "_get_mock_flights", "line": 277, "message": "Using mock data for CDG \u2192 KIX", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:09:20.270669Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "   \u2192 Tool executed: search_flights", "user_input": "correct search now", "tool_name": "search_flights", "tool_args": {"origin": "CDG", "destination": "KIX", "departure_date": "2024-08-10", "return_date": "2024-08-17"}, "tool_duration_seconds": 1.6339328289031982, "result_length": 33, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:09:20.310781Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "__init__", "line": 48, "message": "HotelSearchService initialized with providers: booking-com15, mock", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:09:20.320700Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_search_with_booking", "line": 79, "message": "Trying Booking.com15 for Osaka", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:09:20.321065Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 202, "message": "Trying Booking.com15 location search: 'Osaka'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:09:20.587323Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 202, "message": "Trying Booking.com15 location search: 'Osaka'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:09:20.746005Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 202, "message": "Trying Booking.com15 location search: 'Osaka'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:09:20.883255Z", "level": "WARNING", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 231, "message": "No destination ID found for any variation of 'Osaka'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:09:20.885297Z", "level": "WARNING", "logger": "services.hotel_service", "module": "hotel_service", "function": "_search_with_booking", "line": 84, "message": "Could not find destination ID for Osaka", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:09:20.885720Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "search", "line": 74, "message": "Using mock data for Osaka", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:09:20.886466Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "   \u2192 Tool executed: search_hotels", "user_input": "correct search now", "tool_name": "search_hotels", "tool_args": {"guests": 2.0, "checkin_date": "2024-08-10", "destination": "Osaka", "checkout_date": "2024-08-17"}, "tool_duration_seconds": 0.6154541969299316, "result_length": 4, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:09:21.703772Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "Agent iteration 3", "user_input": "correct search now", "iteration": 3, "tools_used": ["find_cultural_activities", "find_restaurants"], "llm_duration_seconds": 0.816429615020752, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:09:21.704753Z", "level": "WARNING", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "   \u26a0\ufe0f  Unknown tool: find_cultural_activities", "user_input": "correct search now", "tool_name": "find_cultural_activities", "available_tools": ["get_airport_code", "search_flights", "search_hotels", "calculate_total_cost", "recommend_best_package"], "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:09:21.705236Z", "level": "WARNING", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "   \u26a0\ufe0f  Unknown tool: find_restaurants", "user_input": "correct search now", "tool_name": "find_restaurants", "available_tools": ["get_airport_code", "search_flights", "search_hotels", "calculate_total_cost", "recommend_best_package"], "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:09:22.193217Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\u2705 Chat response ready after 4 iteration(s)", "user_input": "correct search now", "iterations": 4, "total_duration_seconds": 6.060535669326782, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:09:22.251697Z", "level": "INFO", "logger": "__main__", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\udd0d Response type: <class 'str'>, length: 4", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:10:12.643796Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\uddfa\ufe0f Planning intent detected - full context", "intent": "planning", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:10:12.644529Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\udd04 History pruned to last 10 messages", "history_length": 10, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:10:12.645549Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\udcac Chat message received", "user_input": "osaka", "history_length": 10, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:10:13.253044Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "Agent iteration 1", "user_input": "osaka", "iteration": 1, "tools_used": ["get_airport_code"], "llm_duration_seconds": 0.6067113876342773, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:10:13.675450Z", "level": "INFO", "logger": "services.airport_service", "module": "airport_service", "function": "get_airport_code", "line": 123, "message": "\u2705 Found airport code via fallback: Osaka \u2192 KIX", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:10:13.675876Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "   \u2192 Tool executed: get_airport_code", "user_input": "osaka", "tool_name": "get_airport_code", "tool_args": {"city_name": "Osaka"}, "tool_duration_seconds": 0.42231202125549316, "result_length": 39, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:10:14.864042Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "Agent iteration 2", "user_input": "osaka", "iteration": 2, "tools_used": ["search_flights", "search_hotels"], "llm_duration_seconds": 1.1871154308319092, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:10:14.866533Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "_search_with_amadeus", "line": 163, "message": "\ud83d\udd0d Amadeus search: CDG \u2192 KIX on 2024-08-02", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:10:16.888958Z", "level": "ERROR", "logger": "services.flight_service", "module": "flight_service", "function": "_search_with_amadeus", "line": 192, "message": "Amadeus API error: [400]\n", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:10:16.889315Z", "level": "ERROR", "logger": "services.flight_service", "module": "flight_service", "function": "search_flights", "line": 122, "message": "Flight search failed: [400]\n", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:10:16.890283Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "search_flights", "line": 123, "message": "Falling back to mock data", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:10:16.891007Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "_get_mock_flights", "line": 277, "message": "Using mock data for CDG \u2192 KIX", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:10:16.891591Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "   \u2192 Tool executed: search_flights", "user_input": "osaka", "tool_name": "search_flights", "tool_args": {"destination": "KIX", "origin": "CDG", "return_date": "2024-08-09", "departure_date": "2024-08-02"}, "tool_duration_seconds": 2.0271334648132324, "result_length": 33, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:10:16.892705Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_search_with_booking", "line": 79, "message": "Trying Booking.com15 for Osaka", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:10:16.893289Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 202, "message": "Trying Booking.com15 location search: 'Osaka'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:10:17.019284Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 202, "message": "Trying Booking.com15 location search: 'Osaka'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:10:17.242454Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 202, "message": "Trying Booking.com15 location search: 'Osaka'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:10:17.799628Z", "level": "WARNING", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 231, "message": "No destination ID found for any variation of 'Osaka'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:10:17.803153Z", "level": "WARNING", "logger": "services.hotel_service", "module": "hotel_service", "function": "_search_with_booking", "line": 84, "message": "Could not find destination ID for Osaka", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:10:17.803476Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "search", "line": 74, "message": "Using mock data for Osaka", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:10:17.804260Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "   \u2192 Tool executed: search_hotels", "user_input": "osaka", "tool_name": "search_hotels", "tool_args": {"guests": 2.0, "checkin_date": "2024-08-02", "destination": "Osaka", "checkout_date": "2024-08-09"}, "tool_duration_seconds": 0.9122176170349121, "result_length": 4, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:10:18.490008Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "Agent iteration 3", "user_input": "osaka", "iteration": 3, "tools_used": ["find_cultural_activities", "find_restaurants"], "llm_duration_seconds": 0.6850748062133789, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:10:18.490326Z", "level": "WARNING", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "   \u26a0\ufe0f  Unknown tool: find_cultural_activities", "user_input": "osaka", "tool_name": "find_cultural_activities", "available_tools": ["get_airport_code", "search_flights", "search_hotels", "calculate_total_cost", "recommend_best_package"], "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:10:18.490967Z", "level": "WARNING", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "   \u26a0\ufe0f  Unknown tool: find_restaurants", "user_input": "osaka", "tool_name": "find_restaurants", "available_tools": ["get_airport_code", "search_flights", "search_hotels", "calculate_total_cost", "recommend_best_package"], "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:10:18.950352Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\u2705 Chat response ready after 4 iteration(s)", "user_input": "osaka", "iterations": 4, "total_duration_seconds": 6.302213430404663, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:10:19.284842Z", "level": "INFO", "logger": "__main__", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\udd0d Response type: <class 'str'>, length: 4", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:10:28.988266Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\udcac Small talk detected - using light context", "intent": "small_talk", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:10:28.988603Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\udd04 History pruned to last 10 messages", "history_length": 10, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:10:28.989033Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\udcac Chat message received", "user_input": "hello", "history_length": 10, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:10:29.594381Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\u2705 Chat response ready after 1 iteration(s)", "user_input": "hello", "iterations": 1, "total_duration_seconds": 0.6049098968505859, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:10:30.086083Z", "level": "INFO", "logger": "__main__", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\udd0d Response type: <class 'str'>, length: 82", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:10:36.696852Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\uddfa\ufe0f Planning intent detected - full context", "intent": "planning", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:10:36.697387Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\udd04 History pruned to last 10 messages", "history_length": 10, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:10:36.698242Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\udcac Chat message received", "user_input": "new york ", "history_length": 10, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:10:37.594991Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\u2705 Chat response ready after 1 iteration(s)", "user_input": "new york ", "iterations": 1, "total_duration_seconds": 0.8969123363494873, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:10:37.770873Z", "level": "INFO", "logger": "__main__", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\udd0d Response type: <class 'str'>, length: 183", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:10:57.237119Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\uddfa\ufe0f Planning intent detected - full context", "intent": "planning", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:10:57.237683Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\udd04 History pruned to last 10 messages", "history_length": 10, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:10:57.238422Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\udcac Chat message received", "user_input": "2000 euros one personn in two weeks", "history_length": 10, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:10:58.206758Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\u2705 Chat response ready after 1 iteration(s)", "user_input": "2000 euros one personn in two weeks", "iterations": 1, "total_duration_seconds": 0.968409538269043, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:10:58.336164Z", "level": "INFO", "logger": "__main__", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\udd0d Response type: <class 'str'>, length: 102", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:11:03.782508Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\u2705 Confirmation intent detected - full context", "intent": "confirmation", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:11:03.783074Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\udd04 History pruned to last 10 messages", "history_length": 10, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:11:03.783481Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\udcac Chat message received", "user_input": "yes", "history_length": 10, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:11:05.090653Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "Agent iteration 1", "user_input": "yes", "iteration": 1, "tools_used": ["get_airport_code", "search_flights", "search_hotels"], "llm_duration_seconds": 1.306588888168335, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:11:05.469350Z", "level": "INFO", "logger": "services.airport_service", "module": "airport_service", "function": "get_airport_code", "line": 115, "message": "\u2705 Found airport code via Amadeus: New York \u2192 NYC", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:11:05.469963Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "   \u2192 Tool executed: get_airport_code", "user_input": "yes", "tool_name": "get_airport_code", "tool_args": {"city_name": "New York"}, "tool_duration_seconds": 0.37885403633117676, "result_length": 54, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:11:05.471525Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "_search_with_amadeus", "line": 163, "message": "\ud83d\udd0d Amadeus search: CDG \u2192 JFK on 2024-07-08", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:11:05.723694Z", "level": "ERROR", "logger": "services.flight_service", "module": "flight_service", "function": "_search_with_amadeus", "line": 192, "message": "Amadeus API error: [400]\n", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:11:05.724820Z", "level": "ERROR", "logger": "services.flight_service", "module": "flight_service", "function": "search_flights", "line": 122, "message": "Flight search failed: [400]\n", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:11:05.726305Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "search_flights", "line": 123, "message": "Falling back to mock data", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:11:05.726843Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "_get_mock_flights", "line": 277, "message": "Using mock data for CDG \u2192 JFK", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:11:05.727803Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "   \u2192 Tool executed: search_flights", "user_input": "yes", "tool_name": "search_flights", "tool_args": {"destination": "JFK", "origin": "CDG", "departure_date": "2024-07-08", "return_date": "2024-07-15"}, "tool_duration_seconds": 0.2574279308319092, "result_length": 238, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:11:05.731827Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "__init__", "line": 48, "message": "HotelSearchService initialized with providers: booking-com15, mock", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:11:05.732339Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_search_with_booking", "line": 79, "message": "Trying Booking.com15 for New York", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:11:05.732729Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 202, "message": "Trying Booking.com15 location search: 'New York'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:11:05.886477Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 202, "message": "Trying Booking.com15 location search: 'New York'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:11:06.037300Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 202, "message": "Trying Booking.com15 location search: 'New York'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:11:06.179527Z", "level": "WARNING", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 231, "message": "No destination ID found for any variation of 'New York'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:11:06.181440Z", "level": "WARNING", "logger": "services.hotel_service", "module": "hotel_service", "function": "_search_with_booking", "line": 84, "message": "Could not find destination ID for New York", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:11:06.181805Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "search", "line": 74, "message": "Using mock data for New York", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:11:06.182221Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "   \u2192 Tool executed: search_hotels", "user_input": "yes", "tool_name": "search_hotels", "tool_args": {"guests": 1.0, "checkin_date": "2024-07-08", "destination": "New York", "checkout_date": "2024-07-15"}, "tool_duration_seconds": 0.45400428771972656, "result_length": 4, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:11:07.932701Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "Agent iteration 2", "user_input": "yes", "iteration": 2, "tools_used": ["search_hotels"], "llm_duration_seconds": 1.74971604347229, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:11:07.934161Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_search_with_booking", "line": 79, "message": "Trying Booking.com15 for New York", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:11:07.935127Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 202, "message": "Trying Booking.com15 location search: 'New York'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:11:08.085965Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 202, "message": "Trying Booking.com15 location search: 'New York'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:11:08.337084Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 202, "message": "Trying Booking.com15 location search: 'New York'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:11:08.540991Z", "level": "WARNING", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 231, "message": "No destination ID found for any variation of 'New York'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:11:08.545263Z", "level": "WARNING", "logger": "services.hotel_service", "module": "hotel_service", "function": "_search_with_booking", "line": 84, "message": "Could not find destination ID for New York", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:11:08.546147Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "search", "line": 74, "message": "Using mock data for New York", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:11:08.547029Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "   \u2192 Tool executed: search_hotels", "user_input": "yes", "tool_name": "search_hotels", "tool_args": {"guests": 1.0, "checkin_date": "2024-07-08", "destination": "New York", "checkout_date": "2024-07-15"}, "tool_duration_seconds": 0.6137304306030273, "result_length": 4, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:11:11.044117Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\u2705 Chat response ready after 3 iteration(s)", "user_input": "yes", "iterations": 3, "total_duration_seconds": 7.260595083236694, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:11:11.424523Z", "level": "INFO", "logger": "__main__", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\udd0d Response type: <class 'str'>, length: 1139", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:12:20.807840Z", "level": "INFO", "logger": "numexpr.utils", "module": "utils", "function": "_init_num_threads", "line": 164, "message": "NumExpr defaulting to 4 threads.", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:12:22.757469Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\u26a1 Fast mode enabled", "tools_count": 5, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:12:22.757786Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\ude80 Initializing TravelAgent with gemini...", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:12:22.780420Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\u2705 TravelAgent initialized with Gemini 2.0 Flash", "model": "gemini-2.0-flash-001", "model_provider": "gemini", "cost_per_search": "$0.0016", "tools_count": 12, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:12:39.746434Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\udcac Small talk detected - using light context", "intent": "small_talk", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:12:39.746780Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\udcac Chat message received", "user_input": "hello", "history_length": 1, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:12:40.372457Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\u2705 Chat response ready after 1 iteration(s)", "user_input": "hello", "iterations": 1, "total_duration_seconds": 0.6256227493286133, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:12:40.441836Z", "level": "INFO", "logger": "__main__", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\udd0d Response type: <class 'str'>, length: 82", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:13:14.196447Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\uddfa\ufe0f Planning intent detected - full context", "intent": "planning", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:13:14.214515Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\udcac Chat message received", "user_input": "i want go to new york next week with 3000 euros I m alone ", "history_length": 3, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:13:14.829476Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\u2705 Chat response ready after 1 iteration(s)", "user_input": "i want go to new york next week with 3000 euros I m alone ", "iterations": 1, "total_duration_seconds": 0.6149415969848633, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:13:14.941444Z", "level": "INFO", "logger": "__main__", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\udd0d Response type: <class 'str'>, length: 131", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:13:25.630048Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\uddfa\ufe0f Planning intent detected - full context", "intent": "planning", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:13:25.630601Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\udcac Chat message received", "user_input": "next week", "history_length": 5, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:13:26.338327Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "Agent iteration 1", "user_input": "next week", "iteration": 1, "tools_used": ["get_airport_code"], "llm_duration_seconds": 0.7070655822753906, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:13:26.352651Z", "level": "INFO", "logger": "services.airport_service", "module": "airport_service", "function": "__init__", "line": 37, "message": "\u2705 AirportCodeService initialized with Amadeus API", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:13:26.798297Z", "level": "INFO", "logger": "services.airport_service", "module": "airport_service", "function": "get_airport_code", "line": 115, "message": "\u2705 Found airport code via Amadeus: New York \u2192 NYC", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:13:26.798847Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "   \u2192 Tool executed: get_airport_code", "user_input": "next week", "tool_name": "get_airport_code", "tool_args": {"city_name": "New York"}, "tool_duration_seconds": 0.4601123332977295, "result_length": 54, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:13:27.771238Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "Agent iteration 2", "user_input": "next week", "iteration": 2, "tools_used": ["search_flights", "search_hotels"], "llm_duration_seconds": 0.9714438915252686, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:13:27.774495Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "__init__", "line": 77, "message": "\u2705 FlightSearchService initialized with Amadeus API", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:13:27.776381Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "_search_with_amadeus", "line": 163, "message": "\ud83d\udd0d Amadeus search: CDG \u2192 NYC on 2024-07-08", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:13:28.136002Z", "level": "ERROR", "logger": "services.flight_service", "module": "flight_service", "function": "_search_with_amadeus", "line": 192, "message": "Amadeus API error: [400]\n", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:13:28.136423Z", "level": "ERROR", "logger": "services.flight_service", "module": "flight_service", "function": "search_flights", "line": 122, "message": "Flight search failed: [400]\n", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:13:28.136971Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "search_flights", "line": 123, "message": "Falling back to mock data", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:13:28.137410Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "_get_mock_flights", "line": 277, "message": "Using mock data for CDG \u2192 NYC", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:13:28.138105Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "   \u2192 Tool executed: search_flights", "user_input": "next week", "tool_name": "search_flights", "tool_args": {"destination": "NYC", "origin": "CDG", "departure_date": "2024-07-08"}, "tool_duration_seconds": 0.36612915992736816, "result_length": 33, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:13:28.143744Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "__init__", "line": 48, "message": "HotelSearchService initialized with providers: booking-com15, mock", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:13:28.144650Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_search_with_booking", "line": 79, "message": "Trying Booking.com15 for New York", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:13:28.145119Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 202, "message": "Trying Booking.com15 location search: 'New York'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:13:28.381212Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 202, "message": "Trying Booking.com15 location search: 'New York'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:13:28.565381Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 202, "message": "Trying Booking.com15 location search: 'New York'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:13:28.816435Z", "level": "WARNING", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 231, "message": "No destination ID found for any variation of 'New York'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:13:28.828217Z", "level": "WARNING", "logger": "services.hotel_service", "module": "hotel_service", "function": "_search_with_booking", "line": 84, "message": "Could not find destination ID for New York", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:13:28.829069Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "search", "line": 74, "message": "Using mock data for New York", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:13:28.829712Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "   \u2192 Tool executed: search_hotels", "user_input": "next week", "tool_name": "search_hotels", "tool_args": {"destination": "New York", "checkout_date": "2024-07-15", "guests": 1.0, "checkin_date": "2024-07-08"}, "tool_duration_seconds": 0.690765380859375, "result_length": 4, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:13:29.405705Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\u2705 Chat response ready after 3 iteration(s)", "user_input": "next week", "iterations": 3, "total_duration_seconds": 3.771894931793213, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:13:29.775499Z", "level": "INFO", "logger": "__main__", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\udd0d Response type: <class 'str'>, length: 79", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:13:54.648176Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\uddfa\ufe0f Planning intent detected - full context", "intent": "planning", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:13:54.648849Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\udcac Chat message received", "user_input": "26 january", "history_length": 7, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:13:56.706621Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "Agent iteration 1", "user_input": "26 january", "iteration": 1, "tools_used": ["get_airport_code", "search_flights", "search_hotels"], "llm_duration_seconds": 2.0568761825561523, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:13:57.133117Z", "level": "INFO", "logger": "services.airport_service", "module": "airport_service", "function": "get_airport_code", "line": 115, "message": "\u2705 Found airport code via Amadeus: New York \u2192 NYC", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:13:57.133547Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "   \u2192 Tool executed: get_airport_code", "user_input": "26 january", "tool_name": "get_airport_code", "tool_args": {"city_name": "New York"}, "tool_duration_seconds": 0.42653584480285645, "result_length": 54, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:13:57.135237Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "_search_with_amadeus", "line": 163, "message": "\ud83d\udd0d Amadeus search: CDG \u2192 JFK on 2024-01-26", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:13:57.458399Z", "level": "ERROR", "logger": "services.flight_service", "module": "flight_service", "function": "_search_with_amadeus", "line": 192, "message": "Amadeus API error: [400]\n", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:13:57.458768Z", "level": "ERROR", "logger": "services.flight_service", "module": "flight_service", "function": "search_flights", "line": 122, "message": "Flight search failed: [400]\n", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:13:57.459072Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "search_flights", "line": 123, "message": "Falling back to mock data", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:13:57.459365Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "_get_mock_flights", "line": 277, "message": "Using mock data for CDG \u2192 JFK", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:13:57.461099Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "   \u2192 Tool executed: search_flights", "user_input": "26 january", "tool_name": "search_flights", "tool_args": {"destination": "JFK", "origin": "CDG", "departure_date": "2024-01-26"}, "tool_duration_seconds": 0.32682132720947266, "result_length": 238, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:13:57.462690Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_search_with_booking", "line": 79, "message": "Trying Booking.com15 for New York", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:13:57.463058Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 202, "message": "Trying Booking.com15 location search: 'New York'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:13:57.644095Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 202, "message": "Trying Booking.com15 location search: 'New York'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:13:57.826992Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 202, "message": "Trying Booking.com15 location search: 'New York'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:13:58.044905Z", "level": "WARNING", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 231, "message": "No destination ID found for any variation of 'New York'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:13:58.049811Z", "level": "WARNING", "logger": "services.hotel_service", "module": "hotel_service", "function": "_search_with_booking", "line": 84, "message": "Could not find destination ID for New York", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:13:58.050134Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "search", "line": 74, "message": "Using mock data for New York", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:13:58.050816Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "   \u2192 Tool executed: search_hotels", "user_input": "26 january", "tool_name": "search_hotels", "tool_args": {"destination": "New York", "checkout_date": "2024-02-02", "guests": 1.0, "checkin_date": "2024-01-26"}, "tool_duration_seconds": 0.5893008708953857, "result_length": 4, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:13:58.822051Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\u2705 Chat response ready after 2 iteration(s)", "user_input": "26 january", "iterations": 2, "total_duration_seconds": 4.173138380050659, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:13:59.247174Z", "level": "INFO", "logger": "__main__", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\udd0d Response type: <class 'str'>, length: 123", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:18:32.527821Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\u2705 Confirmation intent detected - full context", "intent": "confirmation", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:18:32.528121Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\udcac Chat message received", "user_input": "yes", "history_length": 9, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:18:33.327143Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "Agent iteration 1", "user_input": "yes", "iteration": 1, "tools_used": ["search_hotels"], "llm_duration_seconds": 0.7985994815826416, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:18:33.328230Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_search_with_booking", "line": 79, "message": "Trying Booking.com15 for New York", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:18:33.328798Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 202, "message": "Trying Booking.com15 location search: 'New York'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:18:34.575730Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 202, "message": "Trying Booking.com15 location search: 'New York'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:18:34.763671Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 202, "message": "Trying Booking.com15 location search: 'New York'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:18:35.061151Z", "level": "WARNING", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 231, "message": "No destination ID found for any variation of 'New York'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:18:35.063943Z", "level": "WARNING", "logger": "services.hotel_service", "module": "hotel_service", "function": "_search_with_booking", "line": 84, "message": "Could not find destination ID for New York", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:18:35.064406Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "search", "line": 74, "message": "Using mock data for New York", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:18:35.066104Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "   \u2192 Tool executed: search_hotels", "user_input": "yes", "tool_name": "search_hotels", "tool_args": {"destination": "New York", "checkout_date": "2024-02-02", "guests": 1.0, "checkin_date": "2024-01-26"}, "tool_duration_seconds": 1.7385516166687012, "result_length": 4, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:18:35.865613Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\u2705 Chat response ready after 2 iteration(s)", "user_input": "yes", "iterations": 2, "total_duration_seconds": 3.3373801708221436, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:18:36.180874Z", "level": "INFO", "logger": "__main__", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\udd0d Response type: <class 'str'>, length: 142", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:18:47.103332Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\u2705 Confirmation intent detected - full context", "intent": "confirmation", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:18:47.103682Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\udd04 History pruned to last 10 messages", "history_length": 10, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:18:47.104077Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\udcac Chat message received", "user_input": "yes", "history_length": 10, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:18:47.846368Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "Agent iteration 1", "user_input": "yes", "iteration": 1, "tools_used": ["calculate_total_cost"], "llm_duration_seconds": 0.7413034439086914, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:18:47.847554Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "   \u2192 Tool executed: calculate_total_cost", "user_input": "yes", "tool_name": "calculate_total_cost", "tool_args": {"travelers": 1.0, "flight_price": 380.0, "hotel_price": 0.0}, "tool_duration_seconds": 0.0008378028869628906, "result_length": 138, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:18:48.647207Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\u2705 Chat response ready after 2 iteration(s)", "user_input": "yes", "iterations": 2, "total_duration_seconds": 1.5430042743682861, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:18:48.744940Z", "level": "INFO", "logger": "__main__", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\udd0d Response type: <class 'str'>, length: 133", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:19:12.754143Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\uddfa\ufe0f Planning intent detected - full context", "intent": "planning", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:19:12.754549Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\udd04 History pruned to last 10 messages", "history_length": 10, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:19:12.754946Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\udcac Chat message received", "user_input": "and for munich  for the same budget ", "history_length": 10, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:19:13.441227Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "Agent iteration 1", "user_input": "and for munich  for the same budget ", "iteration": 1, "tools_used": ["get_airport_code"], "llm_duration_seconds": 0.6856448650360107, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:19:13.706115Z", "level": "INFO", "logger": "services.airport_service", "module": "airport_service", "function": "get_airport_code", "line": 115, "message": "\u2705 Found airport code via Amadeus: Munich \u2192 MUC", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:19:13.706812Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "   \u2192 Tool executed: get_airport_code", "user_input": "and for munich  for the same budget ", "tool_name": "get_airport_code", "tool_args": {"city_name": "Munich"}, "tool_duration_seconds": 0.26494264602661133, "result_length": 47, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:19:14.443661Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "Agent iteration 2", "user_input": "and for munich  for the same budget ", "iteration": 2, "tools_used": ["search_flights"], "llm_duration_seconds": 0.736220121383667, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:19:14.444938Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "_search_with_amadeus", "line": 163, "message": "\ud83d\udd0d Amadeus search: CDG \u2192 MUC on 2024-01-26", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:19:14.779206Z", "level": "ERROR", "logger": "services.flight_service", "module": "flight_service", "function": "_search_with_amadeus", "line": 192, "message": "Amadeus API error: [400]\n", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:19:14.779612Z", "level": "ERROR", "logger": "services.flight_service", "module": "flight_service", "function": "search_flights", "line": 122, "message": "Flight search failed: [400]\n", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:19:14.780245Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "search_flights", "line": 123, "message": "Falling back to mock data", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:19:14.780638Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "_get_mock_flights", "line": 277, "message": "Using mock data for CDG \u2192 MUC", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:19:14.781059Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "   \u2192 Tool executed: search_flights", "user_input": "and for munich  for the same budget ", "tool_name": "search_flights", "tool_args": {"destination": "MUC", "origin": "CDG", "departure_date": "2024-01-26"}, "tool_duration_seconds": 0.33683347702026367, "result_length": 33, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:19:15.402330Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\u2705 Chat response ready after 3 iteration(s)", "user_input": "and for munich  for the same budget ", "iterations": 3, "total_duration_seconds": 2.6473841667175293, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:19:15.797187Z", "level": "INFO", "logger": "__main__", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\udd0d Response type: <class 'str'>, length: 91", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:19:32.846750Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\uddfa\ufe0f Planning intent detected - full context", "intent": "planning", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:19:32.847692Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\udd04 History pruned to last 10 messages", "history_length": 10, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:19:32.848116Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\udcac Chat message received", "user_input": "yes and some restarant ", "history_length": 10, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:19:33.527256Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 227, "message": "\u2705 Chat response ready after 1 iteration(s)", "user_input": "yes and some restarant ", "iterations": 1, "total_duration_seconds": 0.6791517734527588, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-19T09:19:33.966310Z", "level": "INFO", "logger": "__main__", "module": "logger", "function": "_log", "line": 227, "message": "\ud83d\udd0d Response type: <class 'str'>, length: 94", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
