{"timestamp": "2026-01-18T10:40:58.483492Z", "level": "INFO", "logger": "test", "module": "logger", "function": "_log", "line": 182, "message": "Test logging JSON", "test_field": "value123", "duration": 1.5, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T10:40:58.484193Z", "level": "INFO", "logger": "test", "module": "logger", "function": "_log", "line": 182, "message": "API call: test_api", "service": "test_api", "status": "success", "duration_seconds": 0.5, "result_count": 5, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T10:40:58.484721Z", "level": "INFO", "logger": "test", "module": "logger", "function": "_log", "line": 182, "message": "LLM call: gemini", "model": "gemini", "duration_seconds": 1.2, "tokens": 456, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T10:42:39.846744Z", "level": "INFO", "logger": "test_full", "module": "logger", "function": "_log", "line": 182, "message": "Test 1: Log basique", "test_id": 1, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T10:42:39.847147Z", "level": "INFO", "logger": "test_full", "module": "logger", "function": "_log", "line": 182, "message": "Test 2: Log avec contexte", "request_id": "req_123", "user": "test_user", "action": "search", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T10:42:39.947931Z", "level": "INFO", "logger": "test_full", "module": "logger", "function": "_log", "line": 182, "message": "API call: amadeus_flights", "service": "amadeus_flights", "status": "success", "duration_seconds": 0.10008573532104492, "flights_found": 12, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T10:42:40.149752Z", "level": "INFO", "logger": "test_full", "module": "logger", "function": "_log", "line": 182, "message": "LLM call: gemini-2.0-flash", "model": "gemini-2.0-flash", "duration_seconds": 0.20088863372802734, "cost": 0.0016, "tokens": 1234, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T10:42:40.151251Z", "level": "INFO", "logger": "test_full", "module": "logger", "function": "_log", "line": 182, "message": "Agent iteration 1", "iteration": 1, "tools_used": ["search_flights", "search_hotels"], "llm_duration_seconds": 0.5, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T10:42:40.151802Z", "level": "ERROR", "logger": "test_full", "module": "logger", "function": "_log", "line": 182, "message": "Test 6: Erreur captur\u00e9e", "error": "Test erreur", "error_type": "ValueError", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T10:44:01.474862Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "\ud83d\ude80 Initializing TravelAgent with gemini...", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T10:44:01.536973Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "\u2705 TravelAgent initialized with Gemini 2.0 Flash", "model": "gemini-2.0-flash-001", "model_provider": "gemini", "cost_per_search": "$0.0016", "tools_count": 11, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T10:44:54.813163Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "\ud83e\udd16 Analyzing request", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 rio \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 v", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T10:44:56.838542Z", "level": "WARNING", "logger": "langchain_google_vertexai._retry", "module": "before_sleep", "function": "log_it", "line": 65, "message": "Retrying langchain_google_vertexai.chat_models._completion_with_retry.<locals>._completion_with_retry_inner in 4.0 seconds as it raised PermissionDenied: 403 This API method requires billing to be enabled. Please enable billing on project #lab-toolchains-ai by visiting https://console.developers.google.com/billing/enable?project=lab-toolchains-ai then retry. If you enabled billing for this project recently, wait a few minutes for the action to propagate to our systems and retry. [reason: \"BILLING_DISABLED\"\ndomain: \"googleapis.com\"\nmetadata {\n  key: \"service\"\n  value: \"aiplatform.googleapis.com\"\n}\nmetadata {\n  key: \"containerInfo\"\n  value: \"lab-toolchains-ai\"\n}\nmetadata {\n  key: \"consumer\"\n  value: \"projects/lab-toolchains-ai\"\n}\n, locale: \"en-US\"\nmessage: \"This API method requires billing to be enabled. Please enable billing on project #lab-toolchains-ai by visiting https://console.developers.google.com/billing/enable?project=lab-toolchains-ai then retry. If you enabled billing for this project recently, wait a few minutes for the action to propagate to our systems and retry.\"\n, links {\n  description: \"Google developers console billing\"\n  url: \"https://console.developers.google.com/billing/enable?project=lab-toolchains-ai\"\n}\n].", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T10:45:01.034770Z", "level": "WARNING", "logger": "langchain_google_vertexai._retry", "module": "before_sleep", "function": "log_it", "line": 65, "message": "Retrying langchain_google_vertexai.chat_models._completion_with_retry.<locals>._completion_with_retry_inner in 4.0 seconds as it raised PermissionDenied: 403 This API method requires billing to be enabled. Please enable billing on project #lab-toolchains-ai by visiting https://console.developers.google.com/billing/enable?project=lab-toolchains-ai then retry. If you enabled billing for this project recently, wait a few minutes for the action to propagate to our systems and retry. [reason: \"BILLING_DISABLED\"\ndomain: \"googleapis.com\"\nmetadata {\n  key: \"service\"\n  value: \"aiplatform.googleapis.com\"\n}\nmetadata {\n  key: \"containerInfo\"\n  value: \"lab-toolchains-ai\"\n}\nmetadata {\n  key: \"consumer\"\n  value: \"projects/lab-toolchains-ai\"\n}\n, locale: \"en-US\"\nmessage: \"This API method requires billing to be enabled. Please enable billing on project #lab-toolchains-ai by visiting https://console.developers.google.com/billing/enable?project=lab-toolchains-ai then retry. If you enabled billing for this project recently, wait a few minutes for the action to propagate to our systems and retry.\"\n, links {\n  description: \"Google developers console billing\"\n  url: \"https://console.developers.google.com/billing/enable?project=lab-toolchains-ai\"\n}\n].", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T10:45:05.235493Z", "level": "WARNING", "logger": "langchain_google_vertexai._retry", "module": "before_sleep", "function": "log_it", "line": 65, "message": "Retrying langchain_google_vertexai.chat_models._completion_with_retry.<locals>._completion_with_retry_inner in 4.0 seconds as it raised PermissionDenied: 403 This API method requires billing to be enabled. Please enable billing on project #lab-toolchains-ai by visiting https://console.developers.google.com/billing/enable?project=lab-toolchains-ai then retry. If you enabled billing for this project recently, wait a few minutes for the action to propagate to our systems and retry. [reason: \"BILLING_DISABLED\"\ndomain: \"googleapis.com\"\nmetadata {\n  key: \"service\"\n  value: \"aiplatform.googleapis.com\"\n}\nmetadata {\n  key: \"containerInfo\"\n  value: \"lab-toolchains-ai\"\n}\nmetadata {\n  key: \"consumer\"\n  value: \"projects/lab-toolchains-ai\"\n}\n, locale: \"en-US\"\nmessage: \"This API method requires billing to be enabled. Please enable billing on project #lab-toolchains-ai by visiting https://console.developers.google.com/billing/enable?project=lab-toolchains-ai then retry. If you enabled billing for this project recently, wait a few minutes for the action to propagate to our systems and retry.\"\n, links {\n  description: \"Google developers console billing\"\n  url: \"https://console.developers.google.com/billing/enable?project=lab-toolchains-ai\"\n}\n].", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T10:45:09.436980Z", "level": "WARNING", "logger": "langchain_google_vertexai._retry", "module": "before_sleep", "function": "log_it", "line": 65, "message": "Retrying langchain_google_vertexai.chat_models._completion_with_retry.<locals>._completion_with_retry_inner in 8.0 seconds as it raised PermissionDenied: 403 This API method requires billing to be enabled. Please enable billing on project #lab-toolchains-ai by visiting https://console.developers.google.com/billing/enable?project=lab-toolchains-ai then retry. If you enabled billing for this project recently, wait a few minutes for the action to propagate to our systems and retry. [reason: \"BILLING_DISABLED\"\ndomain: \"googleapis.com\"\nmetadata {\n  key: \"service\"\n  value: \"aiplatform.googleapis.com\"\n}\nmetadata {\n  key: \"containerInfo\"\n  value: \"lab-toolchains-ai\"\n}\nmetadata {\n  key: \"consumer\"\n  value: \"projects/lab-toolchains-ai\"\n}\n, locale: \"en-US\"\nmessage: \"This API method requires billing to be enabled. Please enable billing on project #lab-toolchains-ai by visiting https://console.developers.google.com/billing/enable?project=lab-toolchains-ai then retry. If you enabled billing for this project recently, wait a few minutes for the action to propagate to our systems and retry.\"\n, links {\n  description: \"Google developers console billing\"\n  url: \"https://console.developers.google.com/billing/enable?project=lab-toolchains-ai\"\n}\n].", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T10:45:17.661067Z", "level": "WARNING", "logger": "langchain_google_vertexai._retry", "module": "before_sleep", "function": "log_it", "line": 65, "message": "Retrying langchain_google_vertexai.chat_models._completion_with_retry.<locals>._completion_with_retry_inner in 10.0 seconds as it raised PermissionDenied: 403 This API method requires billing to be enabled. Please enable billing on project #lab-toolchains-ai by visiting https://console.developers.google.com/billing/enable?project=lab-toolchains-ai then retry. If you enabled billing for this project recently, wait a few minutes for the action to propagate to our systems and retry. [reason: \"BILLING_DISABLED\"\ndomain: \"googleapis.com\"\nmetadata {\n  key: \"service\"\n  value: \"aiplatform.googleapis.com\"\n}\nmetadata {\n  key: \"containerInfo\"\n  value: \"lab-toolchains-ai\"\n}\nmetadata {\n  key: \"consumer\"\n  value: \"projects/lab-toolchains-ai\"\n}\n, locale: \"en-US\"\nmessage: \"This API method requires billing to be enabled. Please enable billing on project #lab-toolchains-ai by visiting https://console.developers.google.com/billing/enable?project=lab-toolchains-ai then retry. If you enabled billing for this project recently, wait a few minutes for the action to propagate to our systems and retry.\"\n, links {\n  description: \"Google developers console billing\"\n  url: \"https://console.developers.google.com/billing/enable?project=lab-toolchains-ai\"\n}\n].", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T10:53:48.621830Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "\ud83d\ude80 Initializing TravelAgent with gemini...", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T10:53:48.690247Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "\u2705 TravelAgent initialized with Gemini 2.0 Flash", "model": "gemini-2.0-flash-001", "model_provider": "gemini", "cost_per_search": "$0.0016", "tools_count": 11, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T10:54:44.798556Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "\ud83e\udd16 Analyzing request", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Cuba et la HAVANE entre le 5 mai 2026 en pack vol et avion \n\nCO", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T10:54:48.887502Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "Agent iteration 1", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Cuba et la HAVANE entre le 5 mai 2026 en pack vol et avion \n\nCO", "iteration": 1, "tools_used": ["get_destination_context", "search_flights", "search_hotels", "search_vacation_rentals", "find_cultural_activities", "recommend_restaurants", "create_visit_itinerary"], "llm_duration_seconds": 4.087145090103149, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T10:54:49.335301Z", "level": "INFO", "logger": "services.wikipedia_service", "module": "wikipedia_service", "function": "get_city_context", "line": 83, "message": "\u2705 Wikipedia context retrieved for La Havane", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T10:54:49.336106Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "   \u2192 Tool executed: get_destination_context", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Cuba et la HAVANE entre le 5 mai 2026 en pack vol et avion \n\nCO", "tool_name": "get_destination_context", "tool_args": {"city": "La Havane"}, "tool_duration_seconds": 0.4478464126586914, "result_length": 561, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T10:54:49.339806Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "__init__", "line": 77, "message": "\u2705 FlightSearchService initialized with Amadeus API", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T10:54:49.342691Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "_search_with_amadeus", "line": 163, "message": "\ud83d\udd0d Amadeus search: CDG \u2192 HAV on 2026-05-05", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T10:54:56.860485Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "_search_with_amadeus", "line": 188, "message": "\u2705 Amadeus: Found 5 real flight options", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T10:54:56.861406Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "   \u2192 Tool executed: search_flights", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Cuba et la HAVANE entre le 5 mai 2026 en pack vol et avion \n\nCO", "tool_name": "search_flights", "tool_args": {"departure_date": "2026-05-05", "origin": "CDG", "return_date": "2026-05-12", "destination": "HAV"}, "tool_duration_seconds": 7.524140119552612, "result_length": 488, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T10:54:56.870730Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "__init__", "line": 47, "message": "HotelSearchService initialized with providers: booking-com15, mock", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T10:54:56.871188Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_search_with_booking", "line": 78, "message": "Trying Booking.com15 for La Havane", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T10:54:56.871766Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 201, "message": "Trying Booking.com15 location search: 'La Havane'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T10:54:57.645005Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 227, "message": "\u2705 Using first result dest_id: 12227091 (type: hotel) for 'La Havane'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T10:54:59.913169Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_search_with_booking", "line": 177, "message": "\u2705 Booking.com15: Found 5 hotels", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T10:54:59.918111Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "   \u2192 Tool executed: search_hotels", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Cuba et la HAVANE entre le 5 mai 2026 en pack vol et avion \n\nCO", "tool_name": "search_hotels", "tool_args": {"guests": 2.0, "checkin_date": "2026-05-05", "checkout_date": "2026-05-12", "destination": "La Havane"}, "tool_duration_seconds": 3.055985689163208, "result_length": 4, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T10:54:59.920205Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "__init__", "line": 66, "message": "VacationRentalService initialized with providers: serpapi, rapidapi, mock", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T10:54:59.920589Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "search_rentals", "line": 90, "message": "Trying SerpAPI for La Havane", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T10:55:00.269302Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "search_rentals", "line": 101, "message": "Trying RapidAPI Airbnb for La Havane", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T10:55:02.003227Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "search_rentals", "line": 104, "message": "\u2705 RapidAPI: Found 5 rentals", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T10:55:02.004469Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "   \u2192 Tool executed: search_vacation_rentals", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Cuba et la HAVANE entre le 5 mai 2026 en pack vol et avion \n\nCO", "tool_name": "search_vacation_rentals", "tool_args": {"guests": 2.0, "checkin_date": "2026-05-05", "checkout_date": "2026-05-12", "destination": "La Havane"}, "tool_duration_seconds": 2.0850493907928467, "result_length": 909, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T10:55:02.796762Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "   \u2192 Tool executed: find_cultural_activities", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Cuba et la HAVANE entre le 5 mai 2026 en pack vol et avion \n\nCO", "tool_name": "find_cultural_activities", "tool_args": {"preferences": "art,history", "city": "La Havane"}, "tool_duration_seconds": 0.791008710861206, "result_length": 473, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T10:55:04.748492Z", "level": "INFO", "logger": "services.restaurant_service", "module": "restaurant_service", "function": "find_restaurants", "line": 90, "message": "\u2705 1 restaurants from Travel Advisor API", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T10:55:04.749398Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "   \u2192 Tool executed: recommend_restaurants", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Cuba et la HAVANE entre le 5 mai 2026 en pack vol et avion \n\nCO", "tool_name": "recommend_restaurants", "tool_args": {"cuisine_types": "local", "budget": "$$", "city": "La Havane"}, "tool_duration_seconds": 1.9517226219177246, "result_length": 277, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T10:55:07.287423Z", "level": "INFO", "logger": "services.restaurant_service", "module": "restaurant_service", "function": "find_restaurants", "line": 90, "message": "\u2705 5 restaurants from Travel Advisor API", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T10:55:07.288906Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "   \u2192 Tool executed: create_visit_itinerary", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Cuba et la HAVANE entre le 5 mai 2026 en pack vol et avion \n\nCO", "tool_name": "create_visit_itinerary", "tool_args": {"city": "La Havane", "duration_days": 7.0, "interests": "culture,food,attractions"}, "tool_duration_seconds": 2.5379035472869873, "result_length": 3501, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T10:55:08.226560Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "Agent iteration 2", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Cuba et la HAVANE entre le 5 mai 2026 en pack vol et avion \n\nCO", "iteration": 2, "tools_used": ["generate_travel_map"], "llm_duration_seconds": 0.9361529350280762, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T10:55:15.439614Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "   \u2192 Tool executed: generate_travel_map", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Cuba et la HAVANE entre le 5 mai 2026 en pack vol et avion \n\nCO", "tool_name": "generate_travel_map", "tool_args": {"city": "La Havane", "hotel_addresses": "B&W Chacon, Lamparilla's Loft, Facing Angel Square"}, "tool_duration_seconds": 7.212653636932373, "result_length": 152, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T10:55:21.001413Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "Agent iteration 3", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Cuba et la HAVANE entre le 5 mai 2026 en pack vol et avion \n\nCO", "iteration": 3, "tools_used": ["calculate_total_cost", "calculate_total_cost", "calculate_total_cost"], "llm_duration_seconds": 5.561225414276123, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T10:55:21.003054Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "   \u2192 Tool executed: calculate_total_cost", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Cuba et la HAVANE entre le 5 mai 2026 en pack vol et avion \n\nCO", "tool_name": "calculate_total_cost", "tool_args": {"hotel_price": 1316.0, "travelers": 2.0, "flight_price": 980.0}, "tool_duration_seconds": 0.0011222362518310547, "result_length": 144, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T10:55:21.004547Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "   \u2192 Tool executed: calculate_total_cost", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Cuba et la HAVANE entre le 5 mai 2026 en pack vol et avion \n\nCO", "tool_name": "calculate_total_cost", "tool_args": {"hotel_price": 1617.0, "travelers": 2.0, "flight_price": 980.0}, "tool_duration_seconds": 0.0009582042694091797, "result_length": 144, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T10:55:21.006040Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "   \u2192 Tool executed: calculate_total_cost", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Cuba et la HAVANE entre le 5 mai 2026 en pack vol et avion \n\nCO", "tool_name": "calculate_total_cost", "tool_args": {"hotel_price": 3024.0, "flight_price": 980.0, "travelers": 2.0}, "tool_duration_seconds": 0.0009419918060302734, "result_length": 144, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T10:55:22.150958Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "Agent iteration 4", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Cuba et la HAVANE entre le 5 mai 2026 en pack vol et avion \n\nCO", "iteration": 4, "tools_used": ["recommend_best_package"], "llm_duration_seconds": 1.1443157196044922, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T10:55:22.152425Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "   \u2192 Tool executed: recommend_best_package", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Cuba et la HAVANE entre le 5 mai 2026 en pack vol et avion \n\nCO", "tool_name": "recommend_best_package", "tool_args": {"packages_info": "Package 1: $3276 (Vol+Lamparilla's Loft), Package 2: $3577 (Vol+Aesthetic Havana), Package 3: $4984 (Vol+Facing Angel Square)", "user_budget": "medium", "priorities": "value", "travel_style": "balanced"}, "tool_duration_seconds": 0.0010044574737548828, "result_length": 2938, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T10:55:23.859157Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "\u2705 Finished after 5 iteration(s)", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Cuba et la HAVANE entre le 5 mai 2026 en pack vol et avion \n\nCO", "iterations": 5, "total_duration_seconds": 39.06100034713745, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:00:36.075015Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "\ud83d\ude80 Initializing TravelAgent with gemini...", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:00:36.118008Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "\u2705 TravelAgent initialized with Gemini 2.0 Flash", "model": "gemini-2.0-flash-001", "model_provider": "gemini", "cost_per_search": "$0.0016", "tools_count": 11, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:01:00.640356Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "\ud83e\udd16 Analyzing request", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 cuba en Mai 2026\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n-", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:01:03.626952Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "Agent iteration 1", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 cuba en Mai 2026\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n-", "iteration": 1, "tools_used": ["get_destination_context"], "llm_duration_seconds": 2.9852614402770996, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:01:03.818352Z", "level": "INFO", "logger": "services.wikipedia_service", "module": "wikipedia_service", "function": "get_city_context", "line": 83, "message": "\u2705 Wikipedia context retrieved for Cuba", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:01:03.819758Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "   \u2192 Tool executed: get_destination_context", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 cuba en Mai 2026\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n-", "tool_name": "get_destination_context", "tool_args": {"city": "Cuba"}, "tool_duration_seconds": 0.19147253036499023, "result_length": 579, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:01:05.637552Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "Agent iteration 2", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 cuba en Mai 2026\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n-", "iteration": 2, "tools_used": ["search_flights", "search_hotels", "search_vacation_rentals"], "llm_duration_seconds": 1.8167600631713867, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:01:05.641633Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "__init__", "line": 77, "message": "\u2705 FlightSearchService initialized with Amadeus API", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:01:05.642821Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "_search_with_amadeus", "line": 163, "message": "\ud83d\udd0d Amadeus search: CDG \u2192 HAV on 2026-05-01", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:01:12.935793Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "_search_with_amadeus", "line": 188, "message": "\u2705 Amadeus: Found 5 real flight options", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:01:12.937540Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "   \u2192 Tool executed: search_flights", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 cuba en Mai 2026\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n-", "tool_name": "search_flights", "tool_args": {"departure_date": "2026-05-01", "return_date": "2026-05-08", "destination": "HAV", "origin": "CDG"}, "tool_duration_seconds": 7.299060821533203, "result_length": 501, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:01:12.944147Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "__init__", "line": 47, "message": "HotelSearchService initialized with providers: booking-com15, mock", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:01:12.945424Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_search_with_booking", "line": 78, "message": "Trying Booking.com15 for La Havane", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:01:12.946129Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 201, "message": "Trying Booking.com15 location search: 'La Havane'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:01:14.089641Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 227, "message": "\u2705 Using first result dest_id: 12227091 (type: hotel) for 'La Havane'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:01:15.744958Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_search_with_booking", "line": 177, "message": "\u2705 Booking.com15: Found 5 hotels", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:01:15.748109Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "   \u2192 Tool executed: search_hotels", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 cuba en Mai 2026\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n-", "tool_name": "search_hotels", "tool_args": {"guests": 2.0, "checkout_date": "2026-05-08", "destination": "La Havane", "checkin_date": "2026-05-01"}, "tool_duration_seconds": 2.8092970848083496, "result_length": 4, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:01:15.749735Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "__init__", "line": 66, "message": "VacationRentalService initialized with providers: serpapi, rapidapi, mock", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:01:15.750477Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "search_rentals", "line": 90, "message": "Trying SerpAPI for La Havane", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:01:16.053781Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "search_rentals", "line": 101, "message": "Trying RapidAPI Airbnb for La Havane", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:01:17.940707Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "search_rentals", "line": 104, "message": "\u2705 RapidAPI: Found 5 rentals", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:01:17.942174Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "   \u2192 Tool executed: search_vacation_rentals", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 cuba en Mai 2026\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n-", "tool_name": "search_vacation_rentals", "tool_args": {"checkin_date": "2026-05-01", "checkout_date": "2026-05-08", "destination": "La Havane", "guests": 2.0}, "tool_duration_seconds": 2.1929988861083984, "result_length": 903, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:01:19.788894Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "Agent iteration 3", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 cuba en Mai 2026\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n-", "iteration": 3, "tools_used": ["find_cultural_activities"], "llm_duration_seconds": 1.845313310623169, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:01:20.800057Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "   \u2192 Tool executed: find_cultural_activities", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 cuba en Mai 2026\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n-", "tool_name": "find_cultural_activities", "tool_args": {"preferences": "art,history", "city": "La Havane"}, "tool_duration_seconds": 1.0106172561645508, "result_length": 473, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:01:22.311539Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "Agent iteration 4", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 cuba en Mai 2026\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n-", "iteration": 4, "tools_used": ["recommend_restaurants"], "llm_duration_seconds": 1.5110173225402832, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:01:23.706969Z", "level": "INFO", "logger": "services.restaurant_service", "module": "restaurant_service", "function": "find_restaurants", "line": 90, "message": "\u2705 1 restaurants from Travel Advisor API", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:01:23.707628Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "   \u2192 Tool executed: recommend_restaurants", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 cuba en Mai 2026\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n-", "tool_name": "recommend_restaurants", "tool_args": {"budget": "$$", "city": "La Havane", "cuisine_types": "local"}, "tool_duration_seconds": 1.395707368850708, "result_length": 277, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:01:24.812178Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "Agent iteration 5", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 cuba en Mai 2026\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n-", "iteration": 5, "tools_used": ["create_visit_itinerary"], "llm_duration_seconds": 1.1039166450500488, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:01:27.118691Z", "level": "INFO", "logger": "services.restaurant_service", "module": "restaurant_service", "function": "find_restaurants", "line": 90, "message": "\u2705 5 restaurants from Travel Advisor API", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:01:27.119523Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "   \u2192 Tool executed: create_visit_itinerary", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 cuba en Mai 2026\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n-", "tool_name": "create_visit_itinerary", "tool_args": {"duration_days": 7.0, "city": "La Havane", "interests": "culture,food,attractions"}, "tool_duration_seconds": 2.306875467300415, "result_length": 3501, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:01:27.119936Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "\ud83d\udcca Generating final response...", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 cuba en Mai 2026\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n-", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:01:29.143645Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "\u2705 Request completed", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 cuba en Mai 2026\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n-", "max_iterations_reached": true, "total_duration_seconds": 28.50371265411377, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:07:47.868190Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "\ud83d\ude80 Initializing TravelAgent with gemini...", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:07:47.923282Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "\u2705 TravelAgent initialized with Gemini 2.0 Flash", "model": "gemini-2.0-flash-001", "model_provider": "gemini", "cost_per_search": "$0.0016", "tools_count": 11, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:09:02.008823Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "\ud83d\ude80 Initializing TravelAgent with gemini...", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:09:02.054877Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "\u2705 TravelAgent initialized with Gemini 2.0 Flash", "model": "gemini-2.0-flash-001", "model_provider": "gemini", "cost_per_search": "$0.0016", "tools_count": 11, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:09:26.004600Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "\ud83e\udd16 Analyzing request", "user_request": "DEMANDE UTILISATEUR:\nje veux  aller \u00e0 Rio au mois de Mai \n\nCONTEXTE DISPONIBLE (utilise si pertinent", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:09:29.123993Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "Agent iteration 1", "user_request": "DEMANDE UTILISATEUR:\nje veux  aller \u00e0 Rio au mois de Mai \n\nCONTEXTE DISPONIBLE (utilise si pertinent", "iteration": 1, "tools_used": ["get_destination_context"], "llm_duration_seconds": 3.1182310581207275, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:09:29.282463Z", "level": "INFO", "logger": "services.wikipedia_service", "module": "wikipedia_service", "function": "get_city_context", "line": 83, "message": "\u2705 Wikipedia context retrieved for Rio de Janeiro", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:09:29.283327Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "   \u2192 Tool executed: get_destination_context", "user_request": "DEMANDE UTILISATEUR:\nje veux  aller \u00e0 Rio au mois de Mai \n\nCONTEXTE DISPONIBLE (utilise si pertinent", "tool_name": "get_destination_context", "tool_args": {"city": "Rio de Janeiro"}, "tool_duration_seconds": 0.1585991382598877, "result_length": 607, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:09:31.053168Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "Agent iteration 2", "user_request": "DEMANDE UTILISATEUR:\nje veux  aller \u00e0 Rio au mois de Mai \n\nCONTEXTE DISPONIBLE (utilise si pertinent", "iteration": 2, "tools_used": ["search_flights", "search_hotels", "search_vacation_rentals"], "llm_duration_seconds": 1.7686684131622314, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:09:31.055146Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "__init__", "line": 77, "message": "\u2705 FlightSearchService initialized with Amadeus API", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:09:31.056321Z", "level": "ERROR", "logger": "tools.travel_tools", "module": "travel_tools", "function": "search_flights", "line": 46, "message": "Error in search_flights tool: Invalid destination airport code: Rio de Janeiro", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:09:31.056932Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "   \u2192 Tool executed: search_flights", "user_request": "DEMANDE UTILISATEUR:\nje veux  aller \u00e0 Rio au mois de Mai \n\nCONTEXTE DISPONIBLE (utilise si pertinent", "tool_name": "search_flights", "tool_args": {"departure_date": "2024-05-19", "destination": "Rio de Janeiro", "return_date": "2024-05-26", "origin": "CDG"}, "tool_duration_seconds": 0.003173351287841797, "result_length": 79, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:09:31.061594Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "__init__", "line": 47, "message": "HotelSearchService initialized with providers: booking-com15, mock", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:09:31.062050Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_search_with_booking", "line": 78, "message": "Trying Booking.com15 for Rio de Janeiro", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:09:31.063537Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 201, "message": "Trying Booking.com15 location search: 'Rio de Janeiro'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:09:32.199262Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 219, "message": "\u2705 Found Booking.com15 dest_id: -666610 (type: city) for 'Rio de Janeiro'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:09:47.404081Z", "level": "ERROR", "logger": "services.hotel_service", "module": "hotel_service", "function": "search", "line": 70, "message": "Booking.com API error: HTTPSConnectionPool(host='booking-com15.p.rapidapi.com', port=443): Read timed out. (read timeout=15)", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:09:47.405595Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "search", "line": 73, "message": "Using mock data for Rio de Janeiro", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:09:47.406320Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "   \u2192 Tool executed: search_hotels", "user_request": "DEMANDE UTILISATEUR:\nje veux  aller \u00e0 Rio au mois de Mai \n\nCONTEXTE DISPONIBLE (utilise si pertinent", "tool_name": "search_hotels", "tool_args": {"guests": 2.0, "destination": "Rio de Janeiro", "checkin_date": "2024-05-19", "checkout_date": "2024-05-26"}, "tool_duration_seconds": 16.348828315734863, "result_length": 4, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:09:47.408320Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "__init__", "line": 66, "message": "VacationRentalService initialized with providers: serpapi, rapidapi, mock", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:09:47.409228Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "search_rentals", "line": 90, "message": "Trying SerpAPI for Rio de Janeiro", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:09:47.980791Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "search_rentals", "line": 101, "message": "Trying RapidAPI Airbnb for Rio de Janeiro", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:09:48.189452Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "search_rentals", "line": 110, "message": "Using mock data for Rio de Janeiro", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:09:48.190546Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "   \u2192 Tool executed: search_vacation_rentals", "user_request": "DEMANDE UTILISATEUR:\nje veux  aller \u00e0 Rio au mois de Mai \n\nCONTEXTE DISPONIBLE (utilise si pertinent", "tool_name": "search_vacation_rentals", "tool_args": {"guests": 2.0, "destination": "Rio de Janeiro", "checkin_date": "2024-05-19", "checkout_date": "2024-05-26"}, "tool_duration_seconds": 0.7832117080688477, "result_length": 42, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:09:49.612124Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "Agent iteration 3", "user_request": "DEMANDE UTILISATEUR:\nje veux  aller \u00e0 Rio au mois de Mai \n\nCONTEXTE DISPONIBLE (utilise si pertinent", "iteration": 3, "tools_used": ["search_flights"], "llm_duration_seconds": 1.420633316040039, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:09:49.614485Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "_search_with_amadeus", "line": 163, "message": "\ud83d\udd0d Amadeus search: CDG \u2192 GIG on 2024-05-19", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:09:50.094470Z", "level": "ERROR", "logger": "services.flight_service", "module": "flight_service", "function": "_search_with_amadeus", "line": 192, "message": "Amadeus API error: [400]\n", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:09:50.095212Z", "level": "ERROR", "logger": "services.flight_service", "module": "flight_service", "function": "search_flights", "line": 122, "message": "Flight search failed: [400]\n", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:09:50.096347Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "search_flights", "line": 123, "message": "Falling back to mock data", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:09:50.097605Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "_get_mock_flights", "line": 277, "message": "Using mock data for CDG \u2192 GIG", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:09:50.099187Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "   \u2192 Tool executed: search_flights", "user_request": "DEMANDE UTILISATEUR:\nje veux  aller \u00e0 Rio au mois de Mai \n\nCONTEXTE DISPONIBLE (utilise si pertinent", "tool_name": "search_flights", "tool_args": {"departure_date": "2024-05-19", "destination": "GIG", "return_date": "2024-05-26", "origin": "CDG"}, "tool_duration_seconds": 0.48607659339904785, "result_length": 33, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:09:53.804557Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "Agent iteration 4", "user_request": "DEMANDE UTILISATEUR:\nje veux  aller \u00e0 Rio au mois de Mai \n\nCONTEXTE DISPONIBLE (utilise si pertinent", "iteration": 4, "tools_used": ["find_cultural_activities"], "llm_duration_seconds": 3.7045655250549316, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:09:55.176721Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "   \u2192 Tool executed: find_cultural_activities", "user_request": "DEMANDE UTILISATEUR:\nje veux  aller \u00e0 Rio au mois de Mai \n\nCONTEXTE DISPONIBLE (utilise si pertinent", "tool_name": "find_cultural_activities", "tool_args": {"preferences": "art,history", "city": "Rio de Janeiro"}, "tool_duration_seconds": 1.3711235523223877, "result_length": 53, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:09:57.222069Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "Agent iteration 5", "user_request": "DEMANDE UTILISATEUR:\nje veux  aller \u00e0 Rio au mois de Mai \n\nCONTEXTE DISPONIBLE (utilise si pertinent", "iteration": 5, "tools_used": ["recommend_restaurants"], "llm_duration_seconds": 2.044344663619995, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:09:59.477056Z", "level": "INFO", "logger": "services.restaurant_service", "module": "restaurant_service", "function": "find_restaurants", "line": 90, "message": "\u2705 4 restaurants from Travel Advisor API", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:09:59.477626Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "   \u2192 Tool executed: recommend_restaurants", "user_request": "DEMANDE UTILISATEUR:\nje veux  aller \u00e0 Rio au mois de Mai \n\nCONTEXTE DISPONIBLE (utilise si pertinent", "tool_name": "recommend_restaurants", "tool_args": {"city": "Rio de Janeiro", "budget": "$$", "cuisine_types": "local"}, "tool_duration_seconds": 2.2540993690490723, "result_length": 1323, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:09:59.478420Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "\ud83d\udcca Generating final response...", "user_request": "DEMANDE UTILISATEUR:\nje veux  aller \u00e0 Rio au mois de Mai \n\nCONTEXTE DISPONIBLE (utilise si pertinent", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:10:00.588337Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "\u2705 Request completed", "user_request": "DEMANDE UTILISATEUR:\nje veux  aller \u00e0 Rio au mois de Mai \n\nCONTEXTE DISPONIBLE (utilise si pertinent", "max_iterations_reached": true, "total_duration_seconds": 34.58396244049072, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:14:21.502323Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "\ud83d\ude80 Initializing TravelAgent with gemini...", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:14:21.543479Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "\u2705 TravelAgent initialized with Gemini 2.0 Flash", "model": "gemini-2.0-flash-001", "model_provider": "gemini", "cost_per_search": "$0.0016", "tools_count": 11, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:23:08.357106Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "\ud83d\ude80 Initializing TravelAgent with gemini...", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:23:08.404371Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "\u2705 TravelAgent initialized with Gemini 2.0 Flash", "model": "gemini-2.0-flash-001", "model_provider": "gemini", "cost_per_search": "$0.0016", "tools_count": 12, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:27:36.214730Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "\ud83e\udd16 Analyzing request", "user_request": "DEMANDE UTILISATEUR:\nje veux alller \u00e0 Marakech\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:27:39.205304Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "Agent iteration 1", "user_request": "DEMANDE UTILISATEUR:\nje veux alller \u00e0 Marakech\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil", "iteration": 1, "tools_used": ["get_destination_context"], "llm_duration_seconds": 2.9890496730804443, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:27:39.373299Z", "level": "INFO", "logger": "services.wikipedia_service", "module": "wikipedia_service", "function": "get_city_context", "line": 83, "message": "\u2705 Wikipedia context retrieved for Marrakech", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:27:39.374228Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "   \u2192 Tool executed: get_destination_context", "user_request": "DEMANDE UTILISATEUR:\nje veux alller \u00e0 Marakech\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil", "tool_name": "get_destination_context", "tool_args": {"city": "Marrakech"}, "tool_duration_seconds": 0.16781830787658691, "result_length": 497, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:27:40.010666Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "Agent iteration 2", "user_request": "DEMANDE UTILISATEUR:\nje veux alller \u00e0 Marakech\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil", "iteration": 2, "tools_used": ["get_airport_code"], "llm_duration_seconds": 0.6355226039886475, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:27:40.013006Z", "level": "INFO", "logger": "services.airport_service", "module": "airport_service", "function": "__init__", "line": 37, "message": "\u2705 AirportCodeService initialized with Amadeus API", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:27:40.571453Z", "level": "INFO", "logger": "services.airport_service", "module": "airport_service", "function": "get_airport_code", "line": 122, "message": "\u2705 Found airport code via fallback: Marrakech \u2192 RAK", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:27:40.572247Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "   \u2192 Tool executed: get_airport_code", "user_request": "DEMANDE UTILISATEUR:\nje veux alller \u00e0 Marakech\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil", "tool_name": "get_airport_code", "tool_args": {"city_name": "Marrakech"}, "tool_duration_seconds": 0.5608677864074707, "result_length": 47, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:27:41.410988Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "Agent iteration 3", "user_request": "DEMANDE UTILISATEUR:\nje veux alller \u00e0 Marakech\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil", "iteration": 3, "tools_used": ["search_flights"], "llm_duration_seconds": 0.8366663455963135, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:27:41.413435Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "__init__", "line": 77, "message": "\u2705 FlightSearchService initialized with Amadeus API", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:27:41.415178Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "_search_with_amadeus", "line": 163, "message": "\ud83d\udd0d Amadeus search: CDG \u2192 RAK on 2026-03-19", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:27:50.240667Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "_search_with_amadeus", "line": 188, "message": "\u2705 Amadeus: Found 5 real flight options", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:27:50.241480Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "   \u2192 Tool executed: search_flights", "user_request": "DEMANDE UTILISATEUR:\nje veux alller \u00e0 Marakech\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil", "tool_name": "search_flights", "tool_args": {"return_date": "2026-03-26", "departure_date": "2026-03-19", "destination": "RAK", "origin": "CDG"}, "tool_duration_seconds": 8.829640865325928, "result_length": 476, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:27:51.086051Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "Agent iteration 4", "user_request": "DEMANDE UTILISATEUR:\nje veux alller \u00e0 Marakech\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil", "iteration": 4, "tools_used": ["search_hotels"], "llm_duration_seconds": 0.8423793315887451, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:27:51.103095Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "__init__", "line": 48, "message": "HotelSearchService initialized with providers: booking-com15, mock", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:27:51.103978Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_search_with_booking", "line": 79, "message": "Trying Booking.com15 for Marrakech", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:27:51.105162Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 202, "message": "Trying Booking.com15 location search: 'Marrakech'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:27:57.145523Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 220, "message": "\u2705 Found Booking.com15 dest_id: -38833 (type: city) for 'Marrakech'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:27:58.954152Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_search_with_booking", "line": 178, "message": "\u2705 Booking.com15: Found 5 hotels", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:27:58.957228Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "   \u2192 Tool executed: search_hotels", "user_request": "DEMANDE UTILISATEUR:\nje veux alller \u00e0 Marakech\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil", "tool_name": "search_hotels", "tool_args": {"checkin_date": "2026-03-19", "guests": 2.0, "checkout_date": "2026-03-26", "destination": "Marrakech"}, "tool_duration_seconds": 7.870099067687988, "result_length": 4, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:27:59.880861Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "Agent iteration 5", "user_request": "DEMANDE UTILISATEUR:\nje veux alller \u00e0 Marakech\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil", "iteration": 5, "tools_used": ["search_vacation_rentals"], "llm_duration_seconds": 0.9227213859558105, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:27:59.883983Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "__init__", "line": 66, "message": "VacationRentalService initialized with providers: serpapi, rapidapi, mock", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:27:59.885476Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "search_rentals", "line": 90, "message": "Trying SerpAPI for Marrakech", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:28:00.468449Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "search_rentals", "line": 101, "message": "Trying RapidAPI Airbnb for Marrakech", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:28:01.997079Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "search_rentals", "line": 104, "message": "\u2705 RapidAPI: Found 5 rentals", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:28:01.998408Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "   \u2192 Tool executed: search_vacation_rentals", "user_request": "DEMANDE UTILISATEUR:\nje veux alller \u00e0 Marakech\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil", "tool_name": "search_vacation_rentals", "tool_args": {"checkin_date": "2026-03-19", "guests": 2.0, "checkout_date": "2026-03-26", "destination": "Marrakech"}, "tool_duration_seconds": 2.1165547370910645, "result_length": 1024, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:28:01.999558Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "\ud83d\udcca Generating final response...", "user_request": "DEMANDE UTILISATEUR:\nje veux alller \u00e0 Marakech\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:28:02.647660Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "\u2705 Request completed", "user_request": "DEMANDE UTILISATEUR:\nje veux alller \u00e0 Marakech\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil", "max_iterations_reached": true, "total_duration_seconds": 26.432937622070312, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:45:04.730040Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "\ud83e\udd16 Analyzing request", "user_request": "DEMANDE UTILISATEUR:\nosaka\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9p", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:45:06.531731Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "Agent iteration 1", "user_request": "DEMANDE UTILISATEUR:\nosaka\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9p", "iteration": 1, "tools_used": ["get_destination_context"], "llm_duration_seconds": 1.8004388809204102, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:45:07.037304Z", "level": "INFO", "logger": "services.wikipedia_service", "module": "wikipedia_service", "function": "get_city_context", "line": 83, "message": "\u2705 Wikipedia context retrieved for Osaka", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:45:07.038355Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "   \u2192 Tool executed: get_destination_context", "user_request": "DEMANDE UTILISATEUR:\nosaka\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9p", "tool_name": "get_destination_context", "tool_args": {"city": "Osaka"}, "tool_duration_seconds": 0.5054941177368164, "result_length": 580, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:45:07.693821Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "Agent iteration 2", "user_request": "DEMANDE UTILISATEUR:\nosaka\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9p", "iteration": 2, "tools_used": ["get_airport_code"], "llm_duration_seconds": 0.6541187763214111, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:45:07.957585Z", "level": "WARNING", "logger": "services.airport_service", "module": "airport_service", "function": "get_airport_code", "line": 131, "message": "\u274c Could not find airport code for: Osaka", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:45:07.958802Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "   \u2192 Tool executed: get_airport_code", "user_request": "DEMANDE UTILISATEUR:\nosaka\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9p", "tool_name": "get_airport_code", "tool_args": {"city_name": "Osaka"}, "tool_duration_seconds": 0.2639946937561035, "result_length": 93, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:45:08.704516Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "Agent iteration 3", "user_request": "DEMANDE UTILISATEUR:\nosaka\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9p", "iteration": 3, "tools_used": ["get_airport_code"], "llm_duration_seconds": 0.7441084384918213, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:45:09.008085Z", "level": "WARNING", "logger": "services.airport_service", "module": "airport_service", "function": "get_airport_code", "line": 131, "message": "\u274c Could not find airport code for: Osaka", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:45:09.009823Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "   \u2192 Tool executed: get_airport_code", "user_request": "DEMANDE UTILISATEUR:\nosaka\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9p", "tool_name": "get_airport_code", "tool_args": {"city_name": "Osaka"}, "tool_duration_seconds": 0.3035769462585449, "result_length": 93, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:45:09.772277Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "Agent iteration 4", "user_request": "DEMANDE UTILISATEUR:\nosaka\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9p", "iteration": 4, "tools_used": ["get_airport_code"], "llm_duration_seconds": 0.7605292797088623, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:45:09.945946Z", "level": "WARNING", "logger": "services.airport_service", "module": "airport_service", "function": "get_airport_code", "line": 131, "message": "\u274c Could not find airport code for: Osaka", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:45:09.946538Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "   \u2192 Tool executed: get_airport_code", "user_request": "DEMANDE UTILISATEUR:\nosaka\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9p", "tool_name": "get_airport_code", "tool_args": {"city_name": "Osaka"}, "tool_duration_seconds": 0.1736149787902832, "result_length": 93, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:45:10.787918Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "Agent iteration 5", "user_request": "DEMANDE UTILISATEUR:\nosaka\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9p", "iteration": 5, "tools_used": ["get_airport_code"], "llm_duration_seconds": 0.8402674198150635, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:45:10.962912Z", "level": "WARNING", "logger": "services.airport_service", "module": "airport_service", "function": "get_airport_code", "line": 131, "message": "\u274c Could not find airport code for: Osaka", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:45:10.963679Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "   \u2192 Tool executed: get_airport_code", "user_request": "DEMANDE UTILISATEUR:\nosaka\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9p", "tool_name": "get_airport_code", "tool_args": {"city_name": "Osaka"}, "tool_duration_seconds": 0.1750020980834961, "result_length": 93, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:45:10.964708Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "\ud83d\udcca Generating final response...", "user_request": "DEMANDE UTILISATEUR:\nosaka\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9p", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:45:11.788506Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 182, "message": "\u2705 Request completed", "user_request": "DEMANDE UTILISATEUR:\nosaka\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9p", "max_iterations_reached": true, "total_duration_seconds": 7.059133768081665, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:55:47.888630Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 209, "message": "\ud83d\ude80 Initializing TravelAgent with gemini...", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:55:47.932130Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 209, "message": "\u2705 TravelAgent initialized with Gemini 2.0 Flash", "model": "gemini-2.0-flash-001", "model_provider": "gemini", "cost_per_search": "$0.0016", "tools_count": 12, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:55:56.948837Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 209, "message": "\ud83e\udd16 Analyzing request", "user_request": "DEMANDE UTILISATEUR:\nosaka \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:56:00.336784Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 209, "message": "Agent iteration 1", "user_request": "DEMANDE UTILISATEUR:\nosaka \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9", "iteration": 1, "tools_used": ["get_destination_context"], "llm_duration_seconds": 3.3856966495513916, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:56:00.481451Z", "level": "INFO", "logger": "services.wikipedia_service", "module": "wikipedia_service", "function": "get_city_context", "line": 83, "message": "\u2705 Wikipedia context retrieved for Osaka", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:56:00.487274Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 209, "message": "   \u2192 Tool executed: get_destination_context", "user_request": "DEMANDE UTILISATEUR:\nosaka \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9", "tool_name": "get_destination_context", "tool_args": {"city": "Osaka"}, "tool_duration_seconds": 0.1481161117553711, "result_length": 580, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:56:01.172528Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 209, "message": "Agent iteration 2", "user_request": "DEMANDE UTILISATEUR:\nosaka \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9", "iteration": 2, "tools_used": ["get_airport_code"], "llm_duration_seconds": 0.6826634407043457, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:56:01.175763Z", "level": "INFO", "logger": "services.airport_service", "module": "airport_service", "function": "__init__", "line": 37, "message": "\u2705 AirportCodeService initialized with Amadeus API", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:56:01.694022Z", "level": "WARNING", "logger": "services.airport_service", "module": "airport_service", "function": "get_airport_code", "line": 131, "message": "\u274c Could not find airport code for: Osaka", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:56:01.697016Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 209, "message": "   \u2192 Tool executed: get_airport_code", "user_request": "DEMANDE UTILISATEUR:\nosaka \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9", "tool_name": "get_airport_code", "tool_args": {"city_name": "Osaka"}, "tool_duration_seconds": 0.5208330154418945, "result_length": 93, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:56:02.416036Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 209, "message": "Agent iteration 3", "user_request": "DEMANDE UTILISATEUR:\nosaka \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9", "iteration": 3, "tools_used": ["get_airport_code"], "llm_duration_seconds": 0.7173869609832764, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:56:02.703443Z", "level": "INFO", "logger": "services.airport_service", "module": "airport_service", "function": "get_airport_code", "line": 122, "message": "\u2705 Found airport code via fallback: Tokyo \u2192 NRT", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:56:02.704038Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 209, "message": "   \u2192 Tool executed: get_airport_code", "user_request": "DEMANDE UTILISATEUR:\nosaka \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9", "tool_name": "get_airport_code", "tool_args": {"city_name": "Tokyo"}, "tool_duration_seconds": 0.287555456161499, "result_length": 39, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:56:03.537795Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 209, "message": "Agent iteration 4", "user_request": "DEMANDE UTILISATEUR:\nosaka \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9", "iteration": 4, "tools_used": ["search_flights"], "llm_duration_seconds": 0.8332479000091553, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:56:03.539536Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "__init__", "line": 77, "message": "\u2705 FlightSearchService initialized with Amadeus API", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:56:03.541186Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "_search_with_amadeus", "line": 163, "message": "\ud83d\udd0d Amadeus search: CDG \u2192 NRT on 2026-03-19", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:56:13.645900Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "_search_with_amadeus", "line": 188, "message": "\u2705 Amadeus: Found 5 real flight options", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:56:13.646945Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 209, "message": "   \u2192 Tool executed: search_flights", "user_request": "DEMANDE UTILISATEUR:\nosaka \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9", "tool_name": "search_flights", "tool_args": {"destination": "NRT", "return_date": "2026-03-26", "departure_date": "2026-03-19", "origin": "CDG"}, "tool_duration_seconds": 10.108381986618042, "result_length": 494, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:56:14.531377Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 209, "message": "Agent iteration 5", "user_request": "DEMANDE UTILISATEUR:\nosaka \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9", "iteration": 5, "tools_used": ["search_hotels"], "llm_duration_seconds": 0.8835604190826416, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:56:14.537729Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "__init__", "line": 48, "message": "HotelSearchService initialized with providers: booking-com15, mock", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:56:14.538411Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_search_with_booking", "line": 79, "message": "Trying Booking.com15 for Osaka", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:56:14.538863Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 202, "message": "Trying Booking.com15 location search: 'Osaka'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:56:15.431394Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 220, "message": "\u2705 Found Booking.com15 dest_id: -240905 (type: city) for 'Osaka'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:56:17.335756Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_search_with_booking", "line": 178, "message": "\u2705 Booking.com15: Found 5 hotels", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:56:17.340164Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 209, "message": "   \u2192 Tool executed: search_hotels", "user_request": "DEMANDE UTILISATEUR:\nosaka \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9", "tool_name": "search_hotels", "tool_args": {"destination": "Osaka", "guests": 2.0, "checkin_date": "2026-03-19", "checkout_date": "2026-03-26"}, "tool_duration_seconds": 2.808075428009033, "result_length": 4, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:56:18.243892Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 209, "message": "Agent iteration 6", "user_request": "DEMANDE UTILISATEUR:\nosaka \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9", "iteration": 6, "tools_used": ["search_vacation_rentals"], "llm_duration_seconds": 0.9028046131134033, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:56:18.246505Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "__init__", "line": 66, "message": "VacationRentalService initialized with providers: serpapi, rapidapi, mock", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:56:18.248395Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "search_rentals", "line": 90, "message": "Trying SerpAPI for Osaka", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:56:18.561459Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "search_rentals", "line": 101, "message": "Trying RapidAPI Airbnb for Osaka", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:56:20.123010Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "search_rentals", "line": 104, "message": "\u2705 RapidAPI: Found 5 rentals", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:56:20.123670Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 209, "message": "   \u2192 Tool executed: search_vacation_rentals", "user_request": "DEMANDE UTILISATEUR:\nosaka \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9", "tool_name": "search_vacation_rentals", "tool_args": {"destination": "Osaka", "guests": 2.0, "checkin_date": "2026-03-19", "checkout_date": "2026-03-26"}, "tool_duration_seconds": 1.8790640830993652, "result_length": 969, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:56:23.625039Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 209, "message": "Agent iteration 7", "user_request": "DEMANDE UTILISATEUR:\nosaka \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9", "iteration": 7, "tools_used": ["find_cultural_activities"], "llm_duration_seconds": 3.500417709350586, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:56:25.390064Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 209, "message": "   \u2192 Tool executed: find_cultural_activities", "user_request": "DEMANDE UTILISATEUR:\nosaka \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9", "tool_name": "find_cultural_activities", "tool_args": {"preferences": "art,history", "city": "Osaka"}, "tool_duration_seconds": 1.7642273902893066, "result_length": 358, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:56:26.204048Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 209, "message": "Agent iteration 8", "user_request": "DEMANDE UTILISATEUR:\nosaka \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9", "iteration": 8, "tools_used": ["recommend_restaurants"], "llm_duration_seconds": 0.8130934238433838, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:56:28.701983Z", "level": "INFO", "logger": "services.restaurant_service", "module": "restaurant_service", "function": "find_restaurants", "line": 90, "message": "\u2705 2 restaurants from Travel Advisor API", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:56:28.702795Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 209, "message": "   \u2192 Tool executed: recommend_restaurants", "user_request": "DEMANDE UTILISATEUR:\nosaka \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9", "tool_name": "recommend_restaurants", "tool_args": {"cuisine_types": "local", "budget": "$$", "city": "Osaka"}, "tool_duration_seconds": 2.498047351837158, "result_length": 803, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:56:29.740262Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 209, "message": "Agent iteration 9", "user_request": "DEMANDE UTILISATEUR:\nosaka \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9", "iteration": 9, "tools_used": ["create_visit_itinerary"], "llm_duration_seconds": 1.036536693572998, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:56:33.410992Z", "level": "INFO", "logger": "services.restaurant_service", "module": "restaurant_service", "function": "find_restaurants", "line": 90, "message": "\u2705 7 restaurants from Travel Advisor API", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:56:33.411682Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 209, "message": "   \u2192 Tool executed: create_visit_itinerary", "user_request": "DEMANDE UTILISATEUR:\nosaka \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9", "tool_name": "create_visit_itinerary", "tool_args": {"city": "Osaka", "duration_days": 7.0, "interests": "culture,food,attractions"}, "tool_duration_seconds": 3.6707754135131836, "result_length": 3751, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:56:34.182057Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 209, "message": "Agent iteration 10", "user_request": "DEMANDE UTILISATEUR:\nosaka \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9", "iteration": 10, "tools_used": ["generate_travel_map"], "llm_duration_seconds": 0.76943039894104, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:56:52.673429Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 209, "message": "   \u2192 Tool executed: generate_travel_map", "user_request": "DEMANDE UTILISATEUR:\nosaka \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9", "tool_name": "generate_travel_map", "tool_args": {"city": "Osaka", "hotel_addresses": "Osaka"}, "tool_duration_seconds": 18.49070692062378, "result_length": 152, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:56:55.690498Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 209, "message": "Agent iteration 11", "user_request": "DEMANDE UTILISATEUR:\nosaka \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9", "iteration": 11, "tools_used": ["calculate_total_cost"], "llm_duration_seconds": 3.016385793685913, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:56:55.692628Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 209, "message": "   \u2192 Tool executed: calculate_total_cost", "user_request": "DEMANDE UTILISATEUR:\nosaka \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9", "tool_name": "calculate_total_cost", "tool_args": {"travelers": 2.0, "hotel_price": 2569.0, "flight_price": 973.3}, "tool_duration_seconds": 0.0011203289031982422, "result_length": 144, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:56:56.743123Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 209, "message": "Agent iteration 12", "user_request": "DEMANDE UTILISATEUR:\nosaka \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9", "iteration": 12, "tools_used": ["recommend_best_package"], "llm_duration_seconds": 1.0492947101593018, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:56:56.744910Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 209, "message": "   \u2192 Tool executed: recommend_best_package", "user_request": "DEMANDE UTILISATEUR:\nosaka \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9", "tool_name": "recommend_best_package", "tool_args": {"user_budget": "medium", "travel_style": "balanced", "packages_info": "Package 1: $4515.6 (Vol+Location)", "priorities": "value"}, "tool_duration_seconds": 0.0012595653533935547, "result_length": 2938, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T11:56:57.808474Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 209, "message": "\u2705 Finished after 13 iteration(s)", "user_request": "DEMANDE UTILISATEUR:\nosaka \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9", "iterations": 13, "total_duration_seconds": 60.85998177528381, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:01:12.498976Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "\ud83d\ude80 Initializing TravelAgent with gemini...", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:01:12.569279Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "\u2705 TravelAgent initialized with Gemini 2.0 Flash", "model": "gemini-2.0-flash-001", "model_provider": "gemini", "cost_per_search": "$0.0016", "tools_count": 12, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:02:41.992912Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "\ud83d\ude80 Initializing TravelAgent with gemini...", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:02:42.035748Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "\u2705 TravelAgent initialized with Gemini 2.0 Flash", "model": "gemini-2.0-flash-001", "model_provider": "gemini", "cost_per_search": "$0.0016", "tools_count": 12, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:03:24.102603Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "\ud83e\udd16 Analyzing request", "user_request": "DEMANDE UTILISATEUR:\nosaka\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9p", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:03:26.565952Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "Agent iteration 1", "user_request": "DEMANDE UTILISATEUR:\nosaka\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9p", "iteration": 1, "tools_used": ["get_destination_context"], "llm_duration_seconds": 2.4623169898986816, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:03:26.707031Z", "level": "INFO", "logger": "services.wikipedia_service", "module": "wikipedia_service", "function": "get_city_context", "line": 83, "message": "\u2705 Wikipedia context retrieved for Osaka", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:03:26.707646Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "   \u2192 Tool executed: get_destination_context", "user_request": "DEMANDE UTILISATEUR:\nosaka\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9p", "tool_name": "get_destination_context", "tool_args": {"city": "Osaka"}, "tool_duration_seconds": 0.14102721214294434, "result_length": 580, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:03:27.689442Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "Agent iteration 2", "user_request": "DEMANDE UTILISATEUR:\nosaka\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9p", "iteration": 2, "tools_used": ["get_airport_code"], "llm_duration_seconds": 0.981060266494751, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:03:27.691075Z", "level": "INFO", "logger": "services.airport_service", "module": "airport_service", "function": "__init__", "line": 37, "message": "\u2705 AirportCodeService initialized with Amadeus API", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:03:28.066005Z", "level": "INFO", "logger": "services.airport_service", "module": "airport_service", "function": "get_airport_code", "line": 123, "message": "\u2705 Found airport code via fallback: Osaka \u2192 KIX", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:03:28.066455Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "   \u2192 Tool executed: get_airport_code", "user_request": "DEMANDE UTILISATEUR:\nosaka\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9p", "tool_name": "get_airport_code", "tool_args": {"city_name": "Osaka"}, "tool_duration_seconds": 0.3766610622406006, "result_length": 39, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:03:28.865485Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "Agent iteration 3", "user_request": "DEMANDE UTILISATEUR:\nosaka\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9p", "iteration": 3, "tools_used": ["search_flights"], "llm_duration_seconds": 0.7985506057739258, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:03:28.868186Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "__init__", "line": 77, "message": "\u2705 FlightSearchService initialized with Amadeus API", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:03:28.869553Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "_search_with_amadeus", "line": 163, "message": "\ud83d\udd0d Amadeus search: CDG \u2192 KIX on 2026-03-19", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:03:38.236732Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "_search_with_amadeus", "line": 188, "message": "\u2705 Amadeus: Found 5 real flight options", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:03:38.244996Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "   \u2192 Tool executed: search_flights", "user_request": "DEMANDE UTILISATEUR:\nosaka\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9p", "tool_name": "search_flights", "tool_args": {"origin": "CDG", "destination": "KIX", "return_date": "2026-03-26", "departure_date": "2026-03-19"}, "tool_duration_seconds": 9.37712049484253, "result_length": 495, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:03:39.105499Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "Agent iteration 4", "user_request": "DEMANDE UTILISATEUR:\nosaka\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9p", "iteration": 4, "tools_used": ["search_hotels"], "llm_duration_seconds": 0.8594887256622314, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:03:39.110468Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "__init__", "line": 48, "message": "HotelSearchService initialized with providers: booking-com15, mock", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:03:39.110985Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_search_with_booking", "line": 79, "message": "Trying Booking.com15 for Osaka", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:03:39.112533Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 202, "message": "Trying Booking.com15 location search: 'Osaka'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:03:40.980540Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 220, "message": "\u2705 Found Booking.com15 dest_id: -240905 (type: city) for 'Osaka'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:03:42.809616Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_search_with_booking", "line": 178, "message": "\u2705 Booking.com15: Found 5 hotels", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:03:42.811992Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "   \u2192 Tool executed: search_hotels", "user_request": "DEMANDE UTILISATEUR:\nosaka\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9p", "tool_name": "search_hotels", "tool_args": {"checkout_date": "2026-03-26", "destination": "Osaka", "checkin_date": "2026-03-19", "guests": 2.0}, "tool_duration_seconds": 3.706021547317505, "result_length": 4, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:03:43.785048Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "Agent iteration 5", "user_request": "DEMANDE UTILISATEUR:\nosaka\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9p", "iteration": 5, "tools_used": ["search_vacation_rentals"], "llm_duration_seconds": 0.9725680351257324, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:03:43.786179Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "__init__", "line": 66, "message": "VacationRentalService initialized with providers: serpapi, rapidapi, mock", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:03:43.786459Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "search_rentals", "line": 90, "message": "Trying SerpAPI for Osaka", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:03:44.173443Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "search_rentals", "line": 101, "message": "Trying RapidAPI Airbnb for Osaka", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:03:45.711666Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "search_rentals", "line": 104, "message": "\u2705 RapidAPI: Found 5 rentals", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:03:45.712348Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "   \u2192 Tool executed: search_vacation_rentals", "user_request": "DEMANDE UTILISATEUR:\nosaka\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9p", "tool_name": "search_vacation_rentals", "tool_args": {"checkout_date": "2026-03-26", "checkin_date": "2026-03-19", "destination": "Osaka", "guests": 2.0}, "tool_duration_seconds": 1.9269671440124512, "result_length": 957, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:03:48.207131Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "Agent iteration 6", "user_request": "DEMANDE UTILISATEUR:\nosaka\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9p", "iteration": 6, "tools_used": ["find_cultural_activities"], "llm_duration_seconds": 2.4939346313476562, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:04:16.738298Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "   \u2192 Tool executed: find_cultural_activities", "user_request": "DEMANDE UTILISATEUR:\nosaka\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9p", "tool_name": "find_cultural_activities", "tool_args": {"city": "Osaka", "preferences": "art,history"}, "tool_duration_seconds": 28.52989172935486, "result_length": 44, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:04:17.503909Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "Agent iteration 7", "user_request": "DEMANDE UTILISATEUR:\nosaka\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9p", "iteration": 7, "tools_used": ["recommend_restaurants"], "llm_duration_seconds": 0.7650823593139648, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:04:19.767102Z", "level": "INFO", "logger": "services.restaurant_service", "module": "restaurant_service", "function": "find_restaurants", "line": 90, "message": "\u2705 2 restaurants from Travel Advisor API", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:04:19.767841Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "   \u2192 Tool executed: recommend_restaurants", "user_request": "DEMANDE UTILISATEUR:\nosaka\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9p", "tool_name": "recommend_restaurants", "tool_args": {"city": "Osaka", "budget": "$$", "cuisine_types": "local"}, "tool_duration_seconds": 2.263256072998047, "result_length": 803, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:04:20.492756Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "Agent iteration 8", "user_request": "DEMANDE UTILISATEUR:\nosaka\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9p", "iteration": 8, "tools_used": ["create_visit_itinerary"], "llm_duration_seconds": 0.7238626480102539, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:04:26.331307Z", "level": "INFO", "logger": "services.restaurant_service", "module": "restaurant_service", "function": "find_restaurants", "line": 90, "message": "\u2705 7 restaurants from Travel Advisor API", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:04:26.332604Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "   \u2192 Tool executed: create_visit_itinerary", "user_request": "DEMANDE UTILISATEUR:\nosaka\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9p", "tool_name": "create_visit_itinerary", "tool_args": {"city": "Osaka", "duration_days": 7.0, "interests": "culture,food,attractions"}, "tool_duration_seconds": 5.838968753814697, "result_length": 3751, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:04:27.295781Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "Agent iteration 9", "user_request": "DEMANDE UTILISATEUR:\nosaka\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9p", "iteration": 9, "tools_used": ["generate_travel_map"], "llm_duration_seconds": 0.9623217582702637, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:04:55.113857Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "   \u2192 Tool executed: generate_travel_map", "user_request": "DEMANDE UTILISATEUR:\nosaka\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9p", "tool_name": "generate_travel_map", "tool_args": {"city": "Osaka", "hotel_addresses": "FDS Azur/4min walk to Kujo Station/1LDK28.8\u33a1, SRNamba Shisaibashi2 min 6 min to station/3people"}, "tool_duration_seconds": 27.817286491394043, "result_length": 152, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:04:57.950214Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "Agent iteration 10", "user_request": "DEMANDE UTILISATEUR:\nosaka\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9p", "iteration": 10, "tools_used": ["calculate_total_cost"], "llm_duration_seconds": 2.8354392051696777, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:04:57.952248Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "   \u2192 Tool executed: calculate_total_cost", "user_request": "DEMANDE UTILISATEUR:\nosaka\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9p", "tool_name": "calculate_total_cost", "tool_args": {"hotel_price": 2569.0, "travelers": 2.0, "flight_price": 976.3}, "tool_duration_seconds": 0.0010378360748291016, "result_length": 144, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:04:58.873244Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "Agent iteration 11", "user_request": "DEMANDE UTILISATEUR:\nosaka\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9p", "iteration": 11, "tools_used": ["calculate_total_cost"], "llm_duration_seconds": 0.9202444553375244, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:04:58.874972Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "   \u2192 Tool executed: calculate_total_cost", "user_request": "DEMANDE UTILISATEUR:\nosaka\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9p", "tool_name": "calculate_total_cost", "tool_args": {"hotel_price": 3402.0, "travelers": 2.0, "flight_price": 976.3}, "tool_duration_seconds": 0.001093149185180664, "result_length": 144, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:04:59.889106Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "Agent iteration 12", "user_request": "DEMANDE UTILISATEUR:\nosaka\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9p", "iteration": 12, "tools_used": ["recommend_best_package"], "llm_duration_seconds": 1.0133323669433594, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:04:59.890419Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "   \u2192 Tool executed: recommend_best_package", "user_request": "DEMANDE UTILISATEUR:\nosaka\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9p", "tool_name": "recommend_best_package", "tool_args": {"travel_style": "balanced", "priorities": "value", "user_budget": "medium", "packages_info": "Package1: $4521.6 (vol+location), Package2: $5354.6 (vol+location)"}, "tool_duration_seconds": 0.0008459091186523438, "result_length": 2938, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:05:01.043764Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "\u2705 Finished after 13 iteration(s)", "user_request": "DEMANDE UTILISATEUR:\nosaka\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9p", "iterations": 13, "total_duration_seconds": 96.94104075431824, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:16:04.814653Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "\ud83d\ude80 Initializing TravelAgent with gemini...", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:16:04.872193Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "\u2705 TravelAgent initialized with Gemini 2.0 Flash", "model": "gemini-2.0-flash-001", "model_provider": "gemini", "cost_per_search": "$0.0016", "tools_count": 12, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:16:19.555366Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "\ud83e\udd16 Analyzing request", "user_request": "DEMANDE UTILISATEUR:\nosaka en septembre\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voy", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:16:22.701345Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "Agent iteration 1", "user_request": "DEMANDE UTILISATEUR:\nosaka en septembre\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voy", "iteration": 1, "tools_used": ["get_airport_code"], "llm_duration_seconds": 3.1440629959106445, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:16:22.705316Z", "level": "INFO", "logger": "services.airport_service", "module": "airport_service", "function": "__init__", "line": 37, "message": "\u2705 AirportCodeService initialized with Amadeus API", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:16:23.198070Z", "level": "INFO", "logger": "services.airport_service", "module": "airport_service", "function": "get_airport_code", "line": 123, "message": "\u2705 Found airport code via fallback: Osaka \u2192 KIX", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:16:23.199806Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "   \u2192 Tool executed: get_airport_code", "user_request": "DEMANDE UTILISATEUR:\nosaka en septembre\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voy", "tool_name": "get_airport_code", "tool_args": {"city_name": "Osaka"}, "tool_duration_seconds": 0.4967832565307617, "result_length": 39, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:16:24.659710Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "Agent iteration 2", "user_request": "DEMANDE UTILISATEUR:\nosaka en septembre\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voy", "iteration": 2, "tools_used": ["search_flights", "search_hotels", "search_vacation_rentals"], "llm_duration_seconds": 1.458949089050293, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:16:24.662770Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "__init__", "line": 77, "message": "\u2705 FlightSearchService initialized with Amadeus API", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:16:24.664191Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "_search_with_amadeus", "line": 163, "message": "\ud83d\udd0d Amadeus search: CDG \u2192 KIX on 2026-09-19", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:16:35.427296Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "_search_with_amadeus", "line": 188, "message": "\u2705 Amadeus: Found 5 real flight options", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:16:35.428763Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "   \u2192 Tool executed: search_flights", "user_request": "DEMANDE UTILISATEUR:\nosaka en septembre\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voy", "tool_name": "search_flights", "tool_args": {"origin": "CDG", "return_date": "2026-09-26", "destination": "KIX", "departure_date": "2026-09-19"}, "tool_duration_seconds": 10.768189430236816, "result_length": 495, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:16:35.433713Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "__init__", "line": 48, "message": "HotelSearchService initialized with providers: booking-com15, mock", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:16:35.434546Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_search_with_booking", "line": 79, "message": "Trying Booking.com15 for Osaka", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:16:35.435294Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 202, "message": "Trying Booking.com15 location search: 'Osaka'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:16:36.483167Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 220, "message": "\u2705 Found Booking.com15 dest_id: -240905 (type: city) for 'Osaka'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:16:39.865136Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_search_with_booking", "line": 178, "message": "\u2705 Booking.com15: Found 5 hotels", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:16:39.872679Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "   \u2192 Tool executed: search_hotels", "user_request": "DEMANDE UTILISATEUR:\nosaka en septembre\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voy", "tool_name": "search_hotels", "tool_args": {"checkin_date": "2026-09-19", "checkout_date": "2026-09-26", "guests": 2.0, "destination": "Osaka"}, "tool_duration_seconds": 4.44328236579895, "result_length": 4, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:16:39.876080Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "__init__", "line": 66, "message": "VacationRentalService initialized with providers: serpapi, rapidapi, mock", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:16:39.877732Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "search_rentals", "line": 90, "message": "Trying SerpAPI for Osaka", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:16:40.327599Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "search_rentals", "line": 101, "message": "Trying RapidAPI Airbnb for Osaka", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:16:42.054354Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "search_rentals", "line": 104, "message": "\u2705 RapidAPI: Found 5 rentals", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:16:42.055546Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "   \u2192 Tool executed: search_vacation_rentals", "user_request": "DEMANDE UTILISATEUR:\nosaka en septembre\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voy", "tool_name": "search_vacation_rentals", "tool_args": {"checkin_date": "2026-09-19", "checkout_date": "2026-09-26", "guests": 2.0, "destination": "Osaka"}, "tool_duration_seconds": 2.181626319885254, "result_length": 963, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:16:43.229601Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "Agent iteration 3", "user_request": "DEMANDE UTILISATEUR:\nosaka en septembre\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voy", "iteration": 3, "tools_used": ["find_cultural_activities", "recommend_restaurants", "create_visit_itinerary"], "llm_duration_seconds": 1.1728849411010742, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:16:45.375533Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "   \u2192 Tool executed: find_cultural_activities", "user_request": "DEMANDE UTILISATEUR:\nosaka en septembre\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voy", "tool_name": "find_cultural_activities", "tool_args": {"preferences": "art,history", "city": "Osaka"}, "tool_duration_seconds": 2.1451075077056885, "result_length": 358, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:16:47.412513Z", "level": "INFO", "logger": "services.restaurant_service", "module": "restaurant_service", "function": "find_restaurants", "line": 90, "message": "\u2705 2 restaurants from Travel Advisor API", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:16:47.413033Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "   \u2192 Tool executed: recommend_restaurants", "user_request": "DEMANDE UTILISATEUR:\nosaka en septembre\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voy", "tool_name": "recommend_restaurants", "tool_args": {"cuisine_types": "local", "city": "Osaka", "budget": "$$"}, "tool_duration_seconds": 2.0367913246154785, "result_length": 803, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:16:54.035825Z", "level": "INFO", "logger": "services.restaurant_service", "module": "restaurant_service", "function": "find_restaurants", "line": 90, "message": "\u2705 7 restaurants from Travel Advisor API", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:16:54.037185Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "   \u2192 Tool executed: create_visit_itinerary", "user_request": "DEMANDE UTILISATEUR:\nosaka en septembre\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voy", "tool_name": "create_visit_itinerary", "tool_args": {"interests": "culture,food,attractions", "city": "Osaka", "duration_days": 7.0}, "tool_duration_seconds": 6.623303651809692, "result_length": 3751, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:16:54.899254Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "Agent iteration 4", "user_request": "DEMANDE UTILISATEUR:\nosaka en septembre\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voy", "iteration": 4, "tools_used": ["generate_travel_map"], "llm_duration_seconds": 0.861426591873169, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:16:59.065442Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "   \u2192 Tool executed: generate_travel_map", "user_request": "DEMANDE UTILISATEUR:\nosaka en septembre\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voy", "tool_name": "generate_travel_map", "tool_args": {"city": "Osaka", "hotel_addresses": "Osaka"}, "tool_duration_seconds": 4.165746212005615, "result_length": 152, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:17:01.081253Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "\u2705 Finished after 5 iteration(s)", "user_request": "DEMANDE UTILISATEUR:\nosaka en septembre\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voy", "iterations": 5, "total_duration_seconds": 41.52588677406311, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:24:33.957005Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "\ud83d\ude80 Initializing TravelAgent with gemini...", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:24:34.009257Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "\u2705 TravelAgent initialized with Gemini 2.0 Flash", "model": "gemini-2.0-flash-001", "model_provider": "gemini", "cost_per_search": "$0.0016", "tools_count": 12, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:28:09.123144Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "\ud83d\ude80 Initializing TravelAgent with gemini...", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:28:09.174050Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "\u2705 TravelAgent initialized with Gemini 2.0 Flash", "model": "gemini-2.0-flash-001", "model_provider": "gemini", "cost_per_search": "$0.0016", "tools_count": 12, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:28:20.904915Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "\ud83e\udd16 Analyzing request", "user_request": "DEMANDE UTILISATEUR:\nhello\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9p", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:28:23.708734Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "\u2705 Finished after 1 iteration(s)", "user_request": "DEMANDE UTILISATEUR:\nhello\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9p", "iterations": 1, "total_duration_seconds": 2.804488182067871, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:28:40.524815Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "\ud83e\udd16 Analyzing request", "user_request": "DEMANDE UTILISATEUR:\nosaka mais en septembre\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: ", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:28:43.136183Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "\u2705 Finished after 1 iteration(s)", "user_request": "DEMANDE UTILISATEUR:\nosaka mais en septembre\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: ", "iterations": 1, "total_duration_seconds": 2.6114628314971924, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:29:26.067562Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "\ud83e\udd16 Analyzing request", "user_request": "DEMANDE UTILISATEUR:\nje pr\u00e9f\u00e8re aller \u00e0 Cuba au mois de mai \n\nCONTEXTE DISPONIBLE (utilise si pertin", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:29:28.762633Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "\u2705 Finished after 1 iteration(s)", "user_request": "DEMANDE UTILISATEUR:\nje pr\u00e9f\u00e8re aller \u00e0 Cuba au mois de mai \n\nCONTEXTE DISPONIBLE (utilise si pertin", "iterations": 1, "total_duration_seconds": 2.6950995922088623, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:30:10.283643Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "\ud83e\udd16 Analyzing request", "user_request": "DEMANDE UTILISATEUR:\nint\u00e9r\u00eat  art et histoire on veut \u00eatre \u00e0 la havane \n\nCONTEXTE DISPONIBLE (utilis", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:30:12.409838Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "\u2705 Finished after 1 iteration(s)", "user_request": "DEMANDE UTILISATEUR:\nint\u00e9r\u00eat  art et histoire on veut \u00eatre \u00e0 la havane \n\nCONTEXTE DISPONIBLE (utilis", "iterations": 1, "total_duration_seconds": 2.125953197479248, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:31:30.680550Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "\ud83e\udd16 Analyzing request", "user_request": "DEMANDE UTILISATEUR:\nen mai et je veux la havana et un budget de 2000 euros par personne\n\nCONTEXTE D", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:31:33.236354Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "\u2705 Finished after 1 iteration(s)", "user_request": "DEMANDE UTILISATEUR:\nen mai et je veux la havana et un budget de 2000 euros par personne\n\nCONTEXTE D", "iterations": 1, "total_duration_seconds": 2.5554747581481934, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:31:50.932476Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "\ud83e\udd16 Analyzing request", "user_request": "DEMANDE UTILISATEUR:\nlance la recherche \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 vo", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:31:53.153915Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "\u2705 Finished after 1 iteration(s)", "user_request": "DEMANDE UTILISATEUR:\nlance la recherche \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 vo", "iterations": 1, "total_duration_seconds": 2.222511053085327, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:35:48.561907Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "\ud83d\ude80 Initializing TravelAgent with gemini...", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:35:48.611254Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "\u2705 TravelAgent initialized with Gemini 2.0 Flash", "model": "gemini-2.0-flash-001", "model_provider": "gemini", "cost_per_search": "$0.0016", "tools_count": 12, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:36:03.520650Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "\ud83e\udd16 Analyzing request", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 CUBA au mois de mai \n\nCONTEXTE DISPONIBLE (utilise si pertinent", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:36:06.392286Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "Agent iteration 1", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 CUBA au mois de mai \n\nCONTEXTE DISPONIBLE (utilise si pertinent", "iteration": 1, "tools_used": ["get_airport_code"], "llm_duration_seconds": 2.8704185485839844, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:36:06.402606Z", "level": "INFO", "logger": "services.airport_service", "module": "airport_service", "function": "__init__", "line": 37, "message": "\u2705 AirportCodeService initialized with Amadeus API", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:36:06.962542Z", "level": "WARNING", "logger": "services.airport_service", "module": "airport_service", "function": "get_airport_code", "line": 132, "message": "\u274c Could not find airport code for: Cuba", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:36:06.963027Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "   \u2192 Tool executed: get_airport_code", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 CUBA au mois de mai \n\nCONTEXTE DISPONIBLE (utilise si pertinent", "tool_name": "get_airport_code", "tool_args": {"city_name": "Cuba"}, "tool_duration_seconds": 0.5664188861846924, "result_length": 92, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:36:07.913780Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "\u2705 Finished after 2 iteration(s)", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 CUBA au mois de mai \n\nCONTEXTE DISPONIBLE (utilise si pertinent", "iterations": 2, "total_duration_seconds": 4.394901752471924, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:36:35.160178Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "\ud83e\udd16 Analyzing request", "user_request": "DEMANDE UTILISATEUR:\nla havane \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s)", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:36:36.577321Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "Agent iteration 1", "user_request": "DEMANDE UTILISATEUR:\nla havane \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s)", "iteration": 1, "tools_used": ["get_airport_code"], "llm_duration_seconds": 1.4167335033416748, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:36:36.752311Z", "level": "INFO", "logger": "services.airport_service", "module": "airport_service", "function": "get_airport_code", "line": 123, "message": "\u2705 Found airport code via fallback: La Havane \u2192 HAV", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:36:36.752897Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "   \u2192 Tool executed: get_airport_code", "user_request": "DEMANDE UTILISATEUR:\nla havane \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s)", "tool_name": "get_airport_code", "tool_args": {"city_name": "La Havane"}, "tool_duration_seconds": 0.17505311965942383, "result_length": 47, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:36:37.749769Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "Agent iteration 2", "user_request": "DEMANDE UTILISATEUR:\nla havane \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s)", "iteration": 2, "tools_used": ["search_flights"], "llm_duration_seconds": 0.9962365627288818, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:36:37.752091Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "__init__", "line": 77, "message": "\u2705 FlightSearchService initialized with Amadeus API", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:36:37.753188Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "_search_with_amadeus", "line": 163, "message": "\ud83d\udd0d Amadeus search: CDG \u2192 HAV on 2026-03-19", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:42:43.098383Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "\ud83d\ude80 Initializing TravelAgent with gemini...", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:42:43.148719Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "\u2705 TravelAgent initialized with Gemini 2.0 Flash", "model": "gemini-2.0-flash-001", "model_provider": "gemini", "cost_per_search": "$0.0016", "tools_count": 12, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:43:10.006328Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "\ud83e\udd16 Analyzing request", "user_request": "DEMANDE UTILISATEUR:\ntokyo en avril\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageu", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:43:14.281003Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "Agent iteration 1", "user_request": "DEMANDE UTILISATEUR:\ntokyo en avril\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageu", "iteration": 1, "tools_used": ["get_destination_context", "get_airport_code", "search_flights", "search_hotels", "search_vacation_rentals", "find_cultural_activities", "recommend_restaurants", "create_visit_itinerary"], "llm_duration_seconds": 4.273479461669922, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:43:14.421556Z", "level": "INFO", "logger": "services.wikipedia_service", "module": "wikipedia_service", "function": "get_city_context", "line": 83, "message": "\u2705 Wikipedia context retrieved for Tokyo", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:43:14.422263Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "   \u2192 Tool executed: get_destination_context", "user_request": "DEMANDE UTILISATEUR:\ntokyo en avril\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageu", "tool_name": "get_destination_context", "tool_args": {"city": "Tokyo"}, "tool_duration_seconds": 0.14045238494873047, "result_length": 508, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:43:14.424339Z", "level": "INFO", "logger": "services.airport_service", "module": "airport_service", "function": "__init__", "line": 37, "message": "\u2705 AirportCodeService initialized with Amadeus API", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:43:14.835792Z", "level": "INFO", "logger": "services.airport_service", "module": "airport_service", "function": "get_airport_code", "line": 123, "message": "\u2705 Found airport code via fallback: Tokyo \u2192 NRT", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:43:14.836592Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "   \u2192 Tool executed: get_airport_code", "user_request": "DEMANDE UTILISATEUR:\ntokyo en avril\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageu", "tool_name": "get_airport_code", "tool_args": {"city_name": "Tokyo"}, "tool_duration_seconds": 0.41350674629211426, "result_length": 39, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:43:14.840735Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "__init__", "line": 77, "message": "\u2705 FlightSearchService initialized with Amadeus API", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:43:14.842855Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "_search_with_amadeus", "line": 163, "message": "\ud83d\udd0d Amadeus search: CDG \u2192 NRT on 2026-03-19", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:43:23.332386Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "_search_with_amadeus", "line": 188, "message": "\u2705 Amadeus: Found 5 real flight options", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:43:23.333206Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "   \u2192 Tool executed: search_flights", "user_request": "DEMANDE UTILISATEUR:\ntokyo en avril\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageu", "tool_name": "search_flights", "tool_args": {"departure_date": "2026-03-19", "destination": "NRT", "return_date": "2026-03-26", "origin": "CDG"}, "tool_duration_seconds": 8.495812177658081, "result_length": 494, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:43:23.339511Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "__init__", "line": 48, "message": "HotelSearchService initialized with providers: booking-com15, mock", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:43:23.340434Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_search_with_booking", "line": 79, "message": "Trying Booking.com15 for Tokyo", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:43:23.342237Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 202, "message": "Trying Booking.com15 location search: 'Tokyo'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:43:24.741933Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 220, "message": "\u2705 Found Booking.com15 dest_id: -246227 (type: city) for 'Tokyo'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:43:27.919161Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_search_with_booking", "line": 178, "message": "\u2705 Booking.com15: Found 5 hotels", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:43:27.923730Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "   \u2192 Tool executed: search_hotels", "user_request": "DEMANDE UTILISATEUR:\ntokyo en avril\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageu", "tool_name": "search_hotels", "tool_args": {"guests": 2.0, "destination": "Tokyo", "checkout_date": "2026-03-26", "checkin_date": "2026-03-19"}, "tool_duration_seconds": 4.589177370071411, "result_length": 4, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:43:27.926388Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "__init__", "line": 66, "message": "VacationRentalService initialized with providers: serpapi, rapidapi, mock", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:43:27.927320Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "search_rentals", "line": 90, "message": "Trying SerpAPI for Tokyo", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:43:28.447842Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "search_rentals", "line": 101, "message": "Trying RapidAPI Airbnb for Tokyo", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:43:31.152623Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "search_rentals", "line": 104, "message": "\u2705 RapidAPI: Found 5 rentals", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:43:31.153779Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "   \u2192 Tool executed: search_vacation_rentals", "user_request": "DEMANDE UTILISATEUR:\ntokyo en avril\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageu", "tool_name": "search_vacation_rentals", "tool_args": {"guests": 2.0, "destination": "Tokyo", "checkout_date": "2026-03-26", "checkin_date": "2026-03-19"}, "tool_duration_seconds": 3.229083776473999, "result_length": 1053, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:43:34.647325Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "   \u2192 Tool executed: find_cultural_activities", "user_request": "DEMANDE UTILISATEUR:\ntokyo en avril\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageu", "tool_name": "find_cultural_activities", "tool_args": {"city": "Tokyo", "preferences": "art,history"}, "tool_duration_seconds": 3.4924395084381104, "result_length": 261, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:43:36.828326Z", "level": "INFO", "logger": "services.restaurant_service", "module": "restaurant_service", "function": "find_restaurants", "line": 90, "message": "\u2705 2 restaurants from Travel Advisor API", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:43:36.828940Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "   \u2192 Tool executed: recommend_restaurants", "user_request": "DEMANDE UTILISATEUR:\ntokyo en avril\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageu", "tool_name": "recommend_restaurants", "tool_args": {"city": "Tokyo", "budget": "$$", "cuisine_types": "local"}, "tool_duration_seconds": 2.1806929111480713, "result_length": 590, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:43:42.658300Z", "level": "INFO", "logger": "services.restaurant_service", "module": "restaurant_service", "function": "find_restaurants", "line": 90, "message": "\u2705 6 restaurants from Travel Advisor API", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:43:42.659153Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "   \u2192 Tool executed: create_visit_itinerary", "user_request": "DEMANDE UTILISATEUR:\ntokyo en avril\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageu", "tool_name": "create_visit_itinerary", "tool_args": {"city": "Tokyo", "duration_days": 7.0, "interests": "culture,food,attractions"}, "tool_duration_seconds": 5.829313039779663, "result_length": 3500, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T12:43:48.653046Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "\u2705 Finished after 2 iteration(s)", "user_request": "DEMANDE UTILISATEUR:\ntokyo en avril\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageu", "iterations": 2, "total_duration_seconds": 38.647239446640015, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:05:21.834211Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "\ud83e\udd16 Analyzing request", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 osaka au mois de septembre\n\nCONTEXTE DISPONIBLE (utilise si per", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:05:21.858913Z", "level": "WARNING", "logger": "langchain_google_vertexai._retry", "module": "before_sleep", "function": "log_it", "line": 65, "message": "Retrying langchain_google_vertexai.chat_models._completion_with_retry.<locals>._completion_with_retry_inner in 4.0 seconds as it raised ServiceUnavailable: 503 recvmsg:Connection reset by peer.", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:05:27.807434Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "Agent iteration 1", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 osaka au mois de septembre\n\nCONTEXTE DISPONIBLE (utilise si per", "iteration": 1, "tools_used": ["get_destination_context"], "llm_duration_seconds": 5.969501256942749, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:05:28.039415Z", "level": "INFO", "logger": "services.wikipedia_service", "module": "wikipedia_service", "function": "get_city_context", "line": 83, "message": "\u2705 Wikipedia context retrieved for Osaka", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:05:28.039857Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "   \u2192 Tool executed: get_destination_context", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 osaka au mois de septembre\n\nCONTEXTE DISPONIBLE (utilise si per", "tool_name": "get_destination_context", "tool_args": {"city": "Osaka"}, "tool_duration_seconds": 0.2320270538330078, "result_length": 580, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:05:28.830829Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "Agent iteration 2", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 osaka au mois de septembre\n\nCONTEXTE DISPONIBLE (utilise si per", "iteration": 2, "tools_used": ["get_airport_code"], "llm_duration_seconds": 0.7902047634124756, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:05:28.999938Z", "level": "INFO", "logger": "services.airport_service", "module": "airport_service", "function": "get_airport_code", "line": 123, "message": "\u2705 Found airport code via fallback: Osaka \u2192 KIX", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:05:29.000992Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "   \u2192 Tool executed: get_airport_code", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 osaka au mois de septembre\n\nCONTEXTE DISPONIBLE (utilise si per", "tool_name": "get_airport_code", "tool_args": {"city_name": "Osaka"}, "tool_duration_seconds": 0.16917657852172852, "result_length": 39, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:05:29.961685Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "Agent iteration 3", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 osaka au mois de septembre\n\nCONTEXTE DISPONIBLE (utilise si per", "iteration": 3, "tools_used": ["search_flights"], "llm_duration_seconds": 0.9599258899688721, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:05:29.964214Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "_search_with_amadeus", "line": 163, "message": "\ud83d\udd0d Amadeus search: CDG \u2192 KIX on 2026-09-19", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:05:37.156776Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "_search_with_amadeus", "line": 188, "message": "\u2705 Amadeus: Found 5 real flight options", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:05:37.158220Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "   \u2192 Tool executed: search_flights", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 osaka au mois de septembre\n\nCONTEXTE DISPONIBLE (utilise si per", "tool_name": "search_flights", "tool_args": {"departure_date": "2026-09-19", "destination": "KIX", "return_date": "2026-09-26", "origin": "CDG"}, "tool_duration_seconds": 7.195379257202148, "result_length": 496, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:05:38.131647Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "Agent iteration 4", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 osaka au mois de septembre\n\nCONTEXTE DISPONIBLE (utilise si per", "iteration": 4, "tools_used": ["search_hotels"], "llm_duration_seconds": 0.9719269275665283, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:05:38.133464Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_search_with_booking", "line": 79, "message": "Trying Booking.com15 for Osaka", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:05:38.134122Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 202, "message": "Trying Booking.com15 location search: 'Osaka'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:05:39.162781Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 220, "message": "\u2705 Found Booking.com15 dest_id: -240905 (type: city) for 'Osaka'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:05:41.349376Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_search_with_booking", "line": 178, "message": "\u2705 Booking.com15: Found 5 hotels", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:05:41.353418Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "   \u2192 Tool executed: search_hotels", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 osaka au mois de septembre\n\nCONTEXTE DISPONIBLE (utilise si per", "tool_name": "search_hotels", "tool_args": {"guests": 2.0, "destination": "Osaka", "checkout_date": "2026-09-26", "checkin_date": "2026-09-19"}, "tool_duration_seconds": 3.220850706100464, "result_length": 4, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:05:42.819191Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "Agent iteration 5", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 osaka au mois de septembre\n\nCONTEXTE DISPONIBLE (utilise si per", "iteration": 5, "tools_used": ["search_vacation_rentals"], "llm_duration_seconds": 1.4648222923278809, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:05:42.821138Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "search_rentals", "line": 90, "message": "Trying SerpAPI for Osaka", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:05:43.136339Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "search_rentals", "line": 101, "message": "Trying RapidAPI Airbnb for Osaka", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:05:44.726656Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "search_rentals", "line": 104, "message": "\u2705 RapidAPI: Found 5 rentals", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:05:44.727854Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "   \u2192 Tool executed: search_vacation_rentals", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 osaka au mois de septembre\n\nCONTEXTE DISPONIBLE (utilise si per", "tool_name": "search_vacation_rentals", "tool_args": {"guests": 2.0, "destination": "Osaka", "checkout_date": "2026-09-26", "checkin_date": "2026-09-19"}, "tool_duration_seconds": 1.9077742099761963, "result_length": 962, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:05:45.588232Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "Agent iteration 6", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 osaka au mois de septembre\n\nCONTEXTE DISPONIBLE (utilise si per", "iteration": 6, "tools_used": ["find_cultural_activities"], "llm_duration_seconds": 0.859119176864624, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:05:50.351746Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "   \u2192 Tool executed: find_cultural_activities", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 osaka au mois de septembre\n\nCONTEXTE DISPONIBLE (utilise si per", "tool_name": "find_cultural_activities", "tool_args": {"city": "Osaka", "preferences": "art,history"}, "tool_duration_seconds": 4.762719392776489, "result_length": 358, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:05:51.203414Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "Agent iteration 7", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 osaka au mois de septembre\n\nCONTEXTE DISPONIBLE (utilise si per", "iteration": 7, "tools_used": ["recommend_restaurants"], "llm_duration_seconds": 0.8507256507873535, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:05:53.933183Z", "level": "INFO", "logger": "services.restaurant_service", "module": "restaurant_service", "function": "find_restaurants", "line": 90, "message": "\u2705 2 restaurants from Travel Advisor API", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:05:53.934313Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "   \u2192 Tool executed: recommend_restaurants", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 osaka au mois de septembre\n\nCONTEXTE DISPONIBLE (utilise si per", "tool_name": "recommend_restaurants", "tool_args": {"city": "Osaka", "budget": "$$", "cuisine_types": "local"}, "tool_duration_seconds": 2.7298777103424072, "result_length": 803, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:05:54.855696Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "Agent iteration 8", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 osaka au mois de septembre\n\nCONTEXTE DISPONIBLE (utilise si per", "iteration": 8, "tools_used": ["create_visit_itinerary"], "llm_duration_seconds": 0.9206395149230957, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:06:00.185737Z", "level": "INFO", "logger": "services.restaurant_service", "module": "restaurant_service", "function": "find_restaurants", "line": 90, "message": "\u2705 7 restaurants from Travel Advisor API", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:06:00.186581Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "   \u2192 Tool executed: create_visit_itinerary", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 osaka au mois de septembre\n\nCONTEXTE DISPONIBLE (utilise si per", "tool_name": "create_visit_itinerary", "tool_args": {"city": "Osaka", "duration_days": 7.0, "interests": "culture,food,attractions"}, "tool_duration_seconds": 5.330397605895996, "result_length": 3751, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:06:01.352219Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "Agent iteration 9", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 osaka au mois de septembre\n\nCONTEXTE DISPONIBLE (utilise si per", "iteration": 9, "tools_used": ["generate_travel_map"], "llm_duration_seconds": 1.164433479309082, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:06:21.890081Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "   \u2192 Tool executed: generate_travel_map", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 osaka au mois de septembre\n\nCONTEXTE DISPONIBLE (utilise si per", "tool_name": "generate_travel_map", "tool_args": {"city": "Osaka", "hotel_addresses": "Osaka"}, "tool_duration_seconds": 20.536962509155273, "result_length": 152, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:06:22.839574Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "Agent iteration 10", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 osaka au mois de septembre\n\nCONTEXTE DISPONIBLE (utilise si per", "iteration": 10, "tools_used": ["calculate_total_cost"], "llm_duration_seconds": 0.9487569332122803, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:06:22.841557Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "   \u2192 Tool executed: calculate_total_cost", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 osaka au mois de septembre\n\nCONTEXTE DISPONIBLE (utilise si per", "tool_name": "calculate_total_cost", "tool_args": {"flight_price": 990.4, "travelers": 2.0, "hotel_price": 2051.0}, "tool_duration_seconds": 0.0010979175567626953, "result_length": 144, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:06:27.188528Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "\u2705 Finished after 11 iteration(s)", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 osaka au mois de septembre\n\nCONTEXTE DISPONIBLE (utilise si per", "iterations": 11, "total_duration_seconds": 65.35450601577759, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:45:58.237578Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "\ud83e\udd16 Analyzing request", "user_request": "DEMANDE UTILISATEUR:\nnon mexico meme \u00e9poque de l'ann\u00e9e \n\nCONTEXTE DISPONIBLE (utilise si pertinent):", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:45:58.357704Z", "level": "ERROR", "logger": "grpc._plugin_wrapping", "module": "_plugin_wrapping", "function": "__call__", "line": 110, "message": "AuthMetadataPluginCallback \"<google.auth.transport.grpc.AuthMetadataPlugin object at 0x7cf10fd55ca0>\" raised exception!", "exc_info": "Traceback (most recent call last):\n  File \"/home/samy/projets/lab-toolchains/.venv/lib/python3.12/site-packages/urllib3/connectionpool.py\", line 787, in urlopen\n    response = self._make_request(\n               ^^^^^^^^^^^^^^^^^^^\n  File \"/home/samy/projets/lab-toolchains/.venv/lib/python3.12/site-packages/urllib3/connectionpool.py\", line 534, in _make_request\n    response = conn.getresponse()\n               ^^^^^^^^^^^^^^^^^^\n  File \"/home/samy/projets/lab-toolchains/.venv/lib/python3.12/site-packages/urllib3/connection.py\", line 571, in getresponse\n    httplib_response = super().getresponse()\n                       ^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/http/client.py\", line 1428, in getresponse\n    response.begin()\n  File \"/usr/lib/python3.12/http/client.py\", line 331, in begin\n    version, status, reason = self._read_status()\n                              ^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/http/client.py\", line 300, in _read_status\n    raise RemoteDisconnected(\"Remote end closed connection without\"\nhttp.client.RemoteDisconnected: Remote end closed connection without response\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/home/samy/projets/lab-toolchains/.venv/lib/python3.12/site-packages/requests/adapters.py\", line 644, in send\n    resp = conn.urlopen(\n           ^^^^^^^^^^^^^\n  File \"/home/samy/projets/lab-toolchains/.venv/lib/python3.12/site-packages/urllib3/connectionpool.py\", line 841, in urlopen\n    retries = retries.increment(\n              ^^^^^^^^^^^^^^^^^^\n  File \"/home/samy/projets/lab-toolchains/.venv/lib/python3.12/site-packages/urllib3/util/retry.py\", line 490, in increment\n    raise reraise(type(error), error, _stacktrace)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/samy/projets/lab-toolchains/.venv/lib/python3.12/site-packages/urllib3/util/util.py\", line 38, in reraise\n    raise value.with_traceback(tb)\n  File \"/home/samy/projets/lab-toolchains/.venv/lib/python3.12/site-packages/urllib3/connectionpool.py\", line 787, in urlopen\n    response = self._make_request(\n               ^^^^^^^^^^^^^^^^^^^\n  File \"/home/samy/projets/lab-toolchains/.venv/lib/python3.12/site-packages/urllib3/connectionpool.py\", line 534, in _make_request\n    response = conn.getresponse()\n               ^^^^^^^^^^^^^^^^^^\n  File \"/home/samy/projets/lab-toolchains/.venv/lib/python3.12/site-packages/urllib3/connection.py\", line 571, in getresponse\n    httplib_response = super().getresponse()\n                       ^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/http/client.py\", line 1428, in getresponse\n    response.begin()\n  File \"/usr/lib/python3.12/http/client.py\", line 331, in begin\n    version, status, reason = self._read_status()\n                              ^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/http/client.py\", line 300, in _read_status\n    raise RemoteDisconnected(\"Remote end closed connection without\"\nurllib3.exceptions.ProtocolError: ('Connection aborted.', RemoteDisconnected('Remote end closed connection without response'))\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/home/samy/projets/lab-toolchains/.venv/lib/python3.12/site-packages/google/auth/transport/requests.py\", line 188, in __call__\n    response = self.session.request(\n               ^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/samy/projets/lab-toolchains/.venv/lib/python3.12/site-packages/requests/sessions.py\", line 589, in request\n    resp = self.send(prep, **send_kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/samy/projets/lab-toolchains/.venv/lib/python3.12/site-packages/requests/sessions.py\", line 703, in send\n    r = adapter.send(request, **kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/samy/projets/lab-toolchains/.venv/lib/python3.12/site-packages/requests/adapters.py\", line 659, in send\n    raise ConnectionError(err, request=request)\nrequests.exceptions.ConnectionError: ('Connection aborted.', RemoteDisconnected('Remote end closed connection without response'))\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/home/samy/projets/lab-toolchains/.venv/lib/python3.12/site-packages/grpc/_plugin_wrapping.py\", line 106, in __call__\n    self._metadata_plugin(\n  File \"/home/samy/projets/lab-toolchains/.venv/lib/python3.12/site-packages/google/auth/transport/grpc.py\", line 93, in __call__\n    callback(self._get_authorization_headers(context), None)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/samy/projets/lab-toolchains/.venv/lib/python3.12/site-packages/google/auth/transport/grpc.py\", line 79, in _get_authorization_headers\n    self._credentials.before_request(\n  File \"/home/samy/projets/lab-toolchains/.venv/lib/python3.12/site-packages/google/auth/credentials.py\", line 228, in before_request\n    self._blocking_refresh(request)\n  File \"/home/samy/projets/lab-toolchains/.venv/lib/python3.12/site-packages/google/auth/credentials.py\", line 191, in _blocking_refresh\n    self.refresh(request)\n  File \"/home/samy/projets/lab-toolchains/.venv/lib/python3.12/site-packages/google/oauth2/credentials.py\", line 412, in refresh\n    ) = reauth.refresh_grant(\n        ^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/samy/projets/lab-toolchains/.venv/lib/python3.12/site-packages/google/oauth2/reauth.py\", line 337, in refresh_grant\n    ) = _client._token_endpoint_request_no_throw(\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/samy/projets/lab-toolchains/.venv/lib/python3.12/site-packages/google/oauth2/_client.py\", line 192, in _token_endpoint_request_no_throw\n    response = request(\n               ^^^^^^^^\n  File \"/home/samy/projets/lab-toolchains/.venv/lib/python3.12/site-packages/google/auth/transport/requests.py\", line 195, in __call__\n    raise new_exc from caught_exc\ngoogle.auth.exceptions.TransportError: ('Connection aborted.', RemoteDisconnected('Remote end closed connection without response'))", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:45:58.360031Z", "level": "WARNING", "logger": "langchain_google_vertexai._retry", "module": "before_sleep", "function": "log_it", "line": 65, "message": "Retrying langchain_google_vertexai.chat_models._completion_with_retry.<locals>._completion_with_retry_inner in 4.0 seconds as it raised ServiceUnavailable: 503 Getting metadata from plugin failed with error: ('Connection aborted.', RemoteDisconnected('Remote end closed connection without response')).", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:46:05.776621Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "\u2705 Finished after 1 iteration(s)", "user_request": "DEMANDE UTILISATEUR:\nnon mexico meme \u00e9poque de l'ann\u00e9e \n\nCONTEXTE DISPONIBLE (utilise si pertinent):", "iterations": 1, "total_duration_seconds": 7.542501926422119, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:48:42.581903Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "\ud83d\ude80 Initializing TravelAgent with gemini...", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:48:42.624141Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "\u2705 TravelAgent initialized with Gemini 2.0 Flash", "model": "gemini-2.0-flash-001", "model_provider": "gemini", "cost_per_search": "$0.0016", "tools_count": 12, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:49:00.834533Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "\ud83e\udd16 Analyzing request", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 osaka en septembre\n\nCONTEXTE DISPONIBLE (utilise si pertinent):", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:49:03.758842Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "Agent iteration 1", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 osaka en septembre\n\nCONTEXTE DISPONIBLE (utilise si pertinent):", "iteration": 1, "tools_used": ["get_airport_code"], "llm_duration_seconds": 2.923292636871338, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:49:03.762557Z", "level": "INFO", "logger": "services.airport_service", "module": "airport_service", "function": "__init__", "line": 37, "message": "\u2705 AirportCodeService initialized with Amadeus API", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:49:04.633740Z", "level": "INFO", "logger": "services.airport_service", "module": "airport_service", "function": "get_airport_code", "line": 123, "message": "\u2705 Found airport code via fallback: Osaka \u2192 KIX", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:49:04.634855Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "   \u2192 Tool executed: get_airport_code", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 osaka en septembre\n\nCONTEXTE DISPONIBLE (utilise si pertinent):", "tool_name": "get_airport_code", "tool_args": {"city_name": "Osaka"}, "tool_duration_seconds": 0.8749704360961914, "result_length": 39, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:49:05.624553Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "Agent iteration 2", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 osaka en septembre\n\nCONTEXTE DISPONIBLE (utilise si pertinent):", "iteration": 2, "tools_used": ["search_flights"], "llm_duration_seconds": 0.988936185836792, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:49:05.626316Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "__init__", "line": 77, "message": "\u2705 FlightSearchService initialized with Amadeus API", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:49:05.627091Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "_search_with_amadeus", "line": 163, "message": "\ud83d\udd0d Amadeus search: CDG \u2192 KIX on 2026-09-19", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:49:12.953644Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "_search_with_amadeus", "line": 188, "message": "\u2705 Amadeus: Found 5 real flight options", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:49:12.954627Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "   \u2192 Tool executed: search_flights", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 osaka en septembre\n\nCONTEXTE DISPONIBLE (utilise si pertinent):", "tool_name": "search_flights", "tool_args": {"departure_date": "2026-09-19", "return_date": "2026-09-26", "origin": "CDG", "destination": "KIX"}, "tool_duration_seconds": 7.3295629024505615, "result_length": 496, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:49:15.347715Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "Agent iteration 3", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 osaka en septembre\n\nCONTEXTE DISPONIBLE (utilise si pertinent):", "iteration": 3, "tools_used": ["search_hotels"], "llm_duration_seconds": 2.3905832767486572, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:49:15.354831Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "__init__", "line": 48, "message": "HotelSearchService initialized with providers: booking-com15, mock", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:49:15.355480Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_search_with_booking", "line": 79, "message": "Trying Booking.com15 for Osaka", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:49:15.356221Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 202, "message": "Trying Booking.com15 location search: 'Osaka'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:49:16.433232Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 220, "message": "\u2705 Found Booking.com15 dest_id: -240905 (type: city) for 'Osaka'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:49:18.528880Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_search_with_booking", "line": 178, "message": "\u2705 Booking.com15: Found 5 hotels", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:49:18.533559Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "   \u2192 Tool executed: search_hotels", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 osaka en septembre\n\nCONTEXTE DISPONIBLE (utilise si pertinent):", "tool_name": "search_hotels", "tool_args": {"checkin_date": "2026-09-19", "checkout_date": "2026-09-26", "guests": 2.0, "destination": "Osaka"}, "tool_duration_seconds": 3.1844394207000732, "result_length": 4, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:49:19.853985Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "Agent iteration 4", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 osaka en septembre\n\nCONTEXTE DISPONIBLE (utilise si pertinent):", "iteration": 4, "tools_used": ["search_vacation_rentals"], "llm_duration_seconds": 1.3195302486419678, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:49:19.856408Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "__init__", "line": 66, "message": "VacationRentalService initialized with providers: serpapi, rapidapi, mock", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:49:19.857164Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "search_rentals", "line": 90, "message": "Trying SerpAPI for Osaka", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:49:20.206123Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "search_rentals", "line": 101, "message": "Trying RapidAPI Airbnb for Osaka", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:49:21.557769Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "search_rentals", "line": 104, "message": "\u2705 RapidAPI: Found 5 rentals", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:49:21.559338Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "   \u2192 Tool executed: search_vacation_rentals", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 osaka en septembre\n\nCONTEXTE DISPONIBLE (utilise si pertinent):", "tool_name": "search_vacation_rentals", "tool_args": {"checkin_date": "2026-09-19", "checkout_date": "2026-09-26", "guests": 2.0, "destination": "Osaka"}, "tool_duration_seconds": 1.7047045230865479, "result_length": 963, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:49:23.189823Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "Agent iteration 5", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 osaka en septembre\n\nCONTEXTE DISPONIBLE (utilise si pertinent):", "iteration": 5, "tools_used": ["find_cultural_activities"], "llm_duration_seconds": 1.6292695999145508, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:49:25.825880Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "   \u2192 Tool executed: find_cultural_activities", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 osaka en septembre\n\nCONTEXTE DISPONIBLE (utilise si pertinent):", "tool_name": "find_cultural_activities", "tool_args": {"city": "Osaka", "preferences": "art,history"}, "tool_duration_seconds": 2.635280132293701, "result_length": 358, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:49:27.170774Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "Agent iteration 6", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 osaka en septembre\n\nCONTEXTE DISPONIBLE (utilise si pertinent):", "iteration": 6, "tools_used": ["recommend_restaurants"], "llm_duration_seconds": 1.3438448905944824, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:49:29.396862Z", "level": "INFO", "logger": "services.restaurant_service", "module": "restaurant_service", "function": "find_restaurants", "line": 90, "message": "\u2705 2 restaurants from Travel Advisor API", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:49:29.397354Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "   \u2192 Tool executed: recommend_restaurants", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 osaka en septembre\n\nCONTEXTE DISPONIBLE (utilise si pertinent):", "tool_name": "recommend_restaurants", "tool_args": {"city": "Osaka", "budget": "$$", "cuisine_types": "local"}, "tool_duration_seconds": 2.226072072982788, "result_length": 803, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:49:31.555629Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "Agent iteration 7", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 osaka en septembre\n\nCONTEXTE DISPONIBLE (utilise si pertinent):", "iteration": 7, "tools_used": ["create_visit_itinerary"], "llm_duration_seconds": 2.157651662826538, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:49:36.507327Z", "level": "INFO", "logger": "services.restaurant_service", "module": "restaurant_service", "function": "find_restaurants", "line": 90, "message": "\u2705 7 restaurants from Travel Advisor API", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:49:36.510735Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "   \u2192 Tool executed: create_visit_itinerary", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 osaka en septembre\n\nCONTEXTE DISPONIBLE (utilise si pertinent):", "tool_name": "create_visit_itinerary", "tool_args": {"city": "Osaka", "duration_days": 7.0, "interests": "culture,food,attractions"}, "tool_duration_seconds": 4.952750205993652, "result_length": 3751, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:49:41.409956Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "Agent iteration 8", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 osaka en septembre\n\nCONTEXTE DISPONIBLE (utilise si pertinent):", "iteration": 8, "tools_used": ["generate_travel_map"], "llm_duration_seconds": 4.898457288742065, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:49:49.613260Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "   \u2192 Tool executed: generate_travel_map", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 osaka en septembre\n\nCONTEXTE DISPONIBLE (utilise si pertinent):", "tool_name": "generate_travel_map", "tool_args": {"city": "Osaka", "hotel_addresses": "Osaka, \u620e603/A0703/15 min Shinsaibashi\u30fbDotonbori, Life House Andoji\uff5cOsaka Castle & Shinsaibashi 38\u33a1, 7 min Nippombashi\u00b7Dotonbori\uff5cWiFi \u00b7 Elevator Avail."}, "tool_duration_seconds": 8.202526330947876, "result_length": 152, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:49:51.396436Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "\u2705 Finished after 9 iteration(s)", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 osaka en septembre\n\nCONTEXTE DISPONIBLE (utilise si pertinent):", "iterations": 9, "total_duration_seconds": 50.56187415122986, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:51:10.956903Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "\ud83d\ude80 Initializing TravelAgent with gemini...", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:51:11.260822Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "\u2705 TravelAgent initialized with Gemini 2.0 Flash", "model": "gemini-2.0-flash-001", "model_provider": "gemini", "cost_per_search": "$0.0016", "tools_count": 12, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:51:25.988494Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "\ud83e\udd16 Analyzing request", "user_request": "DEMANDE UTILISATEUR:\nhello\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9p", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:51:28.611975Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "\u2705 Finished after 1 iteration(s)", "user_request": "DEMANDE UTILISATEUR:\nhello\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9p", "iterations": 1, "total_duration_seconds": 2.623357057571411, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:51:44.025596Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "\ud83e\udd16 Analyzing request", "user_request": "DEMANDE UTILISATEUR:\nque penses tu de S\u00e9ville\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil:", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:51:46.021718Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 203, "message": "\u2705 Finished after 1 iteration(s)", "user_request": "DEMANDE UTILISATEUR:\nque penses tu de S\u00e9ville\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil:", "iterations": 1, "total_duration_seconds": 1.9963040351867676, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:57:34.146187Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 224, "message": "\ud83d\ude80 Initializing TravelAgent with gemini...", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:57:34.221239Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 224, "message": "\u2705 TravelAgent initialized with Gemini 2.0 Flash", "model": "gemini-2.0-flash-001", "model_provider": "gemini", "cost_per_search": "$0.0016", "tools_count": 12, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:57:55.714124Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 224, "message": "\ud83e\udd16 Analyzing request", "user_request": "DEMANDE UTILISATEUR:\nhello\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9p", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:57:59.237767Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 224, "message": "Agent iteration 1", "user_request": "DEMANDE UTILISATEUR:\nhello\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9p", "iteration": 1, "tools_used": ["get_destination_context", "search_flights", "search_hotels", "search_vacation_rentals", "find_cultural_activities", "recommend_restaurants", "create_visit_itinerary"], "llm_duration_seconds": 3.522953987121582, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:57:59.372139Z", "level": "INFO", "logger": "services.wikipedia_service", "module": "wikipedia_service", "function": "get_city_context", "line": 83, "message": "\u2705 Wikipedia context retrieved for Paris", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:57:59.373032Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 224, "message": "   \u2192 Tool executed: get_destination_context", "user_request": "DEMANDE UTILISATEUR:\nhello\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9p", "tool_name": "get_destination_context", "tool_args": {"city": "Paris"}, "tool_duration_seconds": 0.13445043563842773, "result_length": 590, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:57:59.374889Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "__init__", "line": 77, "message": "\u2705 FlightSearchService initialized with Amadeus API", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:57:59.376020Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "_search_with_amadeus", "line": 163, "message": "\ud83d\udd0d Amadeus search: CDG \u2192 CDG on 2026-03-19", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:57:59.796311Z", "level": "ERROR", "logger": "services.flight_service", "module": "flight_service", "function": "_search_with_amadeus", "line": 192, "message": "Amadeus API error: [400]\n", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:57:59.797007Z", "level": "ERROR", "logger": "services.flight_service", "module": "flight_service", "function": "search_flights", "line": 122, "message": "Flight search failed: [400]\n", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:57:59.797719Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "search_flights", "line": 123, "message": "Falling back to mock data", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:57:59.799014Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "_get_mock_flights", "line": 277, "message": "Using mock data for CDG \u2192 CDG", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:57:59.799815Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 224, "message": "   \u2192 Tool executed: search_flights", "user_request": "DEMANDE UTILISATEUR:\nhello\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9p", "tool_name": "search_flights", "tool_args": {"departure_date": "2026-03-19", "return_date": "2026-03-26", "destination": "CDG", "origin": "CDG"}, "tool_duration_seconds": 0.4261000156402588, "result_length": 33, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:57:59.812926Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "__init__", "line": 48, "message": "HotelSearchService initialized with providers: booking-com15, mock", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:57:59.818301Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_search_with_booking", "line": 79, "message": "Trying Booking.com15 for Paris", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:57:59.819217Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 202, "message": "Trying Booking.com15 location search: 'Paris'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:58:00.828222Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 220, "message": "\u2705 Found Booking.com15 dest_id: -1456928 (type: city) for 'Paris'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:58:03.448450Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_search_with_booking", "line": 178, "message": "\u2705 Booking.com15: Found 5 hotels", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:58:03.451786Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 224, "message": "   \u2192 Tool executed: search_hotels", "user_request": "DEMANDE UTILISATEUR:\nhello\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9p", "tool_name": "search_hotels", "tool_args": {"checkout_date": "2026-03-26", "checkin_date": "2026-03-19", "guests": 2.0, "destination": "Paris"}, "tool_duration_seconds": 3.6509311199188232, "result_length": 4, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:58:03.453324Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "__init__", "line": 66, "message": "VacationRentalService initialized with providers: serpapi, rapidapi, mock", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:58:03.453616Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "search_rentals", "line": 90, "message": "Trying SerpAPI for Paris", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:58:04.249662Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "search_rentals", "line": 101, "message": "Trying RapidAPI Airbnb for Paris", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:58:05.692557Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "search_rentals", "line": 104, "message": "\u2705 RapidAPI: Found 5 rentals", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:58:05.693598Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 224, "message": "   \u2192 Tool executed: search_vacation_rentals", "user_request": "DEMANDE UTILISATEUR:\nhello\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9p", "tool_name": "search_vacation_rentals", "tool_args": {"checkout_date": "2026-03-26", "checkin_date": "2026-03-19", "guests": 2.0, "destination": "Paris"}, "tool_duration_seconds": 2.2409563064575195, "result_length": 887, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:58:12.111147Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 224, "message": "   \u2192 Tool executed: find_cultural_activities", "user_request": "DEMANDE UTILISATEUR:\nhello\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9p", "tool_name": "find_cultural_activities", "tool_args": {"preferences": "art,history", "city": "Paris"}, "tool_duration_seconds": 6.4162421226501465, "result_length": 222, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:58:14.458992Z", "level": "INFO", "logger": "services.restaurant_service", "module": "restaurant_service", "function": "find_restaurants", "line": 90, "message": "\u2705 3 restaurants from Travel Advisor API", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:58:14.459574Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 224, "message": "   \u2192 Tool executed: recommend_restaurants", "user_request": "DEMANDE UTILISATEUR:\nhello\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9p", "tool_name": "recommend_restaurants", "tool_args": {"cuisine_types": "local", "budget": "$$", "city": "Paris"}, "tool_duration_seconds": 2.3479766845703125, "result_length": 808, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:58:26.388054Z", "level": "INFO", "logger": "services.restaurant_service", "module": "restaurant_service", "function": "find_restaurants", "line": 90, "message": "\u2705 5 restaurants from Travel Advisor API", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:58:26.389053Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 224, "message": "   \u2192 Tool executed: create_visit_itinerary", "user_request": "DEMANDE UTILISATEUR:\nhello\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9p", "tool_name": "create_visit_itinerary", "tool_args": {"interests": "culture,food,attractions", "city": "Paris", "duration_days": 7.0}, "tool_duration_seconds": 11.928750991821289, "result_length": 3124, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T13:58:31.086786Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 224, "message": "\u2705 Finished after 2 iteration(s)", "user_request": "DEMANDE UTILISATEUR:\nhello\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9p", "iterations": 2, "total_duration_seconds": 35.37273097038269, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:04:46.480371Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 217, "message": "\ud83d\ude80 Initializing TravelAgent with gemini...", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:04:46.533270Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 217, "message": "\u2705 TravelAgent initialized with Gemini 2.0 Flash", "model": "gemini-2.0-flash-001", "model_provider": "gemini", "cost_per_search": "$0.0016", "tools_count": 12, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:05:07.003447Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 217, "message": "\ud83e\udd16 Analyzing request", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Osaka en mars \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- P", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:05:20.227877Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 217, "message": "Agent iteration 1", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Osaka en mars \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- P", "iteration": 1, "tools_used": ["search_flights"], "llm_duration_seconds": 13.223176956176758, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:05:20.231228Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "__init__", "line": 77, "message": "\u2705 FlightSearchService initialized with Amadeus API", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:05:20.233539Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "_search_with_amadeus", "line": 163, "message": "\ud83d\udd0d Amadeus search: CDG \u2192 KIX on 2026-03-19", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:05:29.247746Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "_search_with_amadeus", "line": 188, "message": "\u2705 Amadeus: Found 5 real flight options", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:05:29.250865Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 217, "message": "   \u2192 Tool executed: search_flights", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Osaka en mars \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- P", "tool_name": "search_flights", "tool_args": {"origin": "CDG", "return_date": "2026-03-26", "destination": "KIX", "departure_date": "2026-03-19"}, "tool_duration_seconds": 9.022083282470703, "result_length": 495, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:05:31.247681Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 217, "message": "Agent iteration 2", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Osaka en mars \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- P", "iteration": 2, "tools_used": ["search_hotels"], "llm_duration_seconds": 1.9959537982940674, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:05:31.252486Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "__init__", "line": 48, "message": "HotelSearchService initialized with providers: booking-com15, mock", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:05:31.252911Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_search_with_booking", "line": 79, "message": "Trying Booking.com15 for Osaka", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:05:31.253404Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 202, "message": "Trying Booking.com15 location search: 'Osaka'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:05:32.460659Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 220, "message": "\u2705 Found Booking.com15 dest_id: -240905 (type: city) for 'Osaka'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:05:35.627005Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_search_with_booking", "line": 178, "message": "\u2705 Booking.com15: Found 5 hotels", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:05:35.629416Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 217, "message": "   \u2192 Tool executed: search_hotels", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Osaka en mars \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- P", "tool_name": "search_hotels", "tool_args": {"checkin_date": "2026-03-19", "checkout_date": "2026-03-26", "destination": "Osaka", "guests": 2.0}, "tool_duration_seconds": 4.381052255630493, "result_length": 4, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:05:36.624240Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 217, "message": "Agent iteration 3", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Osaka en mars \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- P", "iteration": 3, "tools_used": ["search_vacation_rentals"], "llm_duration_seconds": 0.9940900802612305, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:05:36.626573Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "__init__", "line": 66, "message": "VacationRentalService initialized with providers: serpapi, rapidapi, mock", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:05:36.627030Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "search_rentals", "line": 90, "message": "Trying SerpAPI for Osaka", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:05:36.949470Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "search_rentals", "line": 101, "message": "Trying RapidAPI Airbnb for Osaka", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:05:38.556773Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "search_rentals", "line": 104, "message": "\u2705 RapidAPI: Found 5 rentals", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:05:38.557994Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 217, "message": "   \u2192 Tool executed: search_vacation_rentals", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Osaka en mars \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- P", "tool_name": "search_vacation_rentals", "tool_args": {"checkin_date": "2026-03-19", "checkout_date": "2026-03-26", "destination": "Osaka", "guests": 2.0}, "tool_duration_seconds": 1.9329142570495605, "result_length": 969, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:05:39.818349Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 217, "message": "Agent iteration 4", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Osaka en mars \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- P", "iteration": 4, "tools_used": ["find_cultural_activities"], "llm_duration_seconds": 1.2594075202941895, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:05:42.229257Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 217, "message": "   \u2192 Tool executed: find_cultural_activities", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Osaka en mars \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- P", "tool_name": "find_cultural_activities", "tool_args": {"city": "Osaka", "preferences": "art,history"}, "tool_duration_seconds": 2.4101388454437256, "result_length": 358, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:05:43.431797Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 217, "message": "Agent iteration 5", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Osaka en mars \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- P", "iteration": 5, "tools_used": ["recommend_restaurants"], "llm_duration_seconds": 1.201857328414917, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:05:45.636028Z", "level": "INFO", "logger": "services.restaurant_service", "module": "restaurant_service", "function": "find_restaurants", "line": 90, "message": "\u2705 2 restaurants from Travel Advisor API", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:05:45.636755Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 217, "message": "   \u2192 Tool executed: recommend_restaurants", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Osaka en mars \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- P", "tool_name": "recommend_restaurants", "tool_args": {"budget": "$$", "cuisine_types": "local", "city": "Osaka"}, "tool_duration_seconds": 2.2045693397521973, "result_length": 803, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:05:46.952766Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 217, "message": "Agent iteration 6", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Osaka en mars \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- P", "iteration": 6, "tools_used": ["create_visit_itinerary"], "llm_duration_seconds": 1.3153467178344727, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:06:14.615259Z", "level": "INFO", "logger": "services.restaurant_service", "module": "restaurant_service", "function": "find_restaurants", "line": 90, "message": "\u2705 7 restaurants from Travel Advisor API", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:06:14.616458Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 217, "message": "   \u2192 Tool executed: create_visit_itinerary", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Osaka en mars \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- P", "tool_name": "create_visit_itinerary", "tool_args": {"duration_days": 7.0, "city": "Osaka", "interests": "culture,food,attractions"}, "tool_duration_seconds": 27.659834623336792, "result_length": 2969, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:06:16.123853Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 217, "message": "Agent iteration 7", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Osaka en mars \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- P", "iteration": 7, "tools_used": ["generate_travel_map"], "llm_duration_seconds": 1.5068504810333252, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:06:33.049588Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 217, "message": "\ud83e\udd16 Analyzing request", "user_request": "DEMANDE UTILISATEUR:\nbonjour\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:06:34.053659Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 217, "message": "\u2705 Finished after 1 iteration(s)", "user_request": "DEMANDE UTILISATEUR:\nbonjour\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d", "iterations": 1, "total_duration_seconds": 1.0040085315704346, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:06:46.144526Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 217, "message": "\ud83e\udd16 Analyzing request", "user_request": "DEMANDE UTILISATEUR:\nje ne sais pas \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyage", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:06:47.473091Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 217, "message": "   \u2192 Tool executed: generate_travel_map", "user_request": "DEMANDE UTILISATEUR:\nje ne sais pas \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyage", "tool_name": "generate_travel_map", "tool_args": {"hotel_addresses": "Osaka", "city": "Osaka"}, "tool_duration_seconds": 31.34880518913269, "result_length": 151, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:06:48.457311Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 217, "message": "Agent iteration 1", "user_request": "DEMANDE UTILISATEUR:\nje ne sais pas \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyage", "iteration": 1, "tools_used": ["get_destination_context", "get_destination_context", "get_destination_context"], "llm_duration_seconds": 2.312116861343384, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:06:48.701258Z", "level": "INFO", "logger": "services.wikipedia_service", "module": "wikipedia_service", "function": "get_city_context", "line": 83, "message": "\u2705 Wikipedia context retrieved for Rome", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:06:48.701977Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 217, "message": "   \u2192 Tool executed: get_destination_context", "user_request": "DEMANDE UTILISATEUR:\nje ne sais pas \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyage", "tool_name": "get_destination_context", "tool_args": {"city": "Rome"}, "tool_duration_seconds": 0.243880033493042, "result_length": 588, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:06:48.975788Z", "level": "INFO", "logger": "services.wikipedia_service", "module": "wikipedia_service", "function": "get_city_context", "line": 83, "message": "\u2705 Wikipedia context retrieved for Kyoto", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:06:48.977151Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 217, "message": "   \u2192 Tool executed: get_destination_context", "user_request": "DEMANDE UTILISATEUR:\nje ne sais pas \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyage", "tool_name": "get_destination_context", "tool_args": {"city": "Kyoto"}, "tool_duration_seconds": 0.27348804473876953, "result_length": 581, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:06:49.123077Z", "level": "INFO", "logger": "services.wikipedia_service", "module": "wikipedia_service", "function": "get_city_context", "line": 83, "message": "\u2705 Wikipedia context retrieved for Marrakech", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:06:49.123501Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 217, "message": "   \u2192 Tool executed: get_destination_context", "user_request": "DEMANDE UTILISATEUR:\nje ne sais pas \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyage", "tool_name": "get_destination_context", "tool_args": {"city": "Marrakech"}, "tool_duration_seconds": 0.14569401741027832, "result_length": 497, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:06:49.329635Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 217, "message": "\u2705 Finished after 8 iteration(s)", "user_request": "DEMANDE UTILISATEUR:\nje ne sais pas \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyage", "iterations": 8, "total_duration_seconds": 102.32738208770752, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:06:50.778839Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 217, "message": "Agent iteration 2", "iteration": 2, "tools_used": ["get_airport_code", "get_airport_code", "get_airport_code"], "llm_duration_seconds": 1.6547229290008545, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:06:50.781456Z", "level": "INFO", "logger": "services.airport_service", "module": "airport_service", "function": "__init__", "line": 37, "message": "\u2705 AirportCodeService initialized with Amadeus API", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:06:51.151583Z", "level": "INFO", "logger": "services.airport_service", "module": "airport_service", "function": "get_airport_code", "line": 115, "message": "\u2705 Found airport code via Amadeus: Rome \u2192 ROM", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:06:51.152703Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 217, "message": "   \u2192 Tool executed: get_airport_code", "tool_name": "get_airport_code", "tool_args": {"city_name": "Rome"}, "tool_duration_seconds": 0.3728306293487549, "result_length": 27, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:06:51.426484Z", "level": "WARNING", "logger": "services.airport_service", "module": "airport_service", "function": "get_airport_code", "line": 132, "message": "\u274c Could not find airport code for: Kyoto", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:06:51.426857Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 217, "message": "   \u2192 Tool executed: get_airport_code", "tool_name": "get_airport_code", "tool_args": {"city_name": "Kyoto"}, "tool_duration_seconds": 0.27353906631469727, "result_length": 93, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:06:51.602414Z", "level": "INFO", "logger": "services.airport_service", "module": "airport_service", "function": "get_airport_code", "line": 123, "message": "\u2705 Found airport code via fallback: Marrakech \u2192 RAK", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:06:51.602996Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 217, "message": "   \u2192 Tool executed: get_airport_code", "tool_name": "get_airport_code", "tool_args": {"city_name": "Marrakech"}, "tool_duration_seconds": 0.17559123039245605, "result_length": 47, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:06:52.458914Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 217, "message": "Agent iteration 3", "iteration": 3, "tools_used": ["get_airport_code"], "llm_duration_seconds": 0.8544535636901855, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:06:52.723680Z", "level": "INFO", "logger": "services.airport_service", "module": "airport_service", "function": "get_airport_code", "line": 123, "message": "\u2705 Found airport code via fallback: Osaka \u2192 KIX", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:06:52.724698Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 217, "message": "   \u2192 Tool executed: get_airport_code", "tool_name": "get_airport_code", "tool_args": {"city_name": "Osaka"}, "tool_duration_seconds": 0.26431846618652344, "result_length": 39, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:06:54.491930Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 217, "message": "Agent iteration 4", "iteration": 4, "tools_used": ["search_flights", "search_flights", "search_flights"], "llm_duration_seconds": 1.766197681427002, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:06:54.495711Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "_search_with_amadeus", "line": 163, "message": "\ud83d\udd0d Amadeus search: CDG \u2192 ROM on 2026-03-19", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:07:03.044677Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "_search_with_amadeus", "line": 188, "message": "\u2705 Amadeus: Found 5 real flight options", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:07:03.045389Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 217, "message": "   \u2192 Tool executed: search_flights", "tool_name": "search_flights", "tool_args": {"origin": "CDG", "return_date": "2026-03-26", "destination": "ROM", "departure_date": "2026-03-19"}, "tool_duration_seconds": 8.552411317825317, "result_length": 460, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:07:03.046644Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "_search_with_amadeus", "line": 163, "message": "\ud83d\udd0d Amadeus search: CDG \u2192 KIX on 2026-03-19", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:07:07.870647Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "_search_with_amadeus", "line": 188, "message": "\u2705 Amadeus: Found 5 real flight options", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:07:07.871405Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 217, "message": "   \u2192 Tool executed: search_flights", "tool_name": "search_flights", "tool_args": {"origin": "CDG", "return_date": "2026-03-26", "destination": "KIX", "departure_date": "2026-03-19"}, "tool_duration_seconds": 4.825530290603638, "result_length": 495, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:07:07.874285Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "_search_with_amadeus", "line": 163, "message": "\ud83d\udd0d Amadeus search: CDG \u2192 RAK on 2026-03-19", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:07:11.160599Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "_search_with_amadeus", "line": 188, "message": "\u2705 Amadeus: Found 5 real flight options", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:07:11.161500Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 217, "message": "   \u2192 Tool executed: search_flights", "tool_name": "search_flights", "tool_args": {"origin": "CDG", "return_date": "2026-03-26", "destination": "RAK", "departure_date": "2026-03-19"}, "tool_duration_seconds": 3.2888271808624268, "result_length": 476, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:07:13.785170Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 217, "message": "Agent iteration 5", "iteration": 5, "tools_used": ["search_hotels", "search_vacation_rentals", "search_hotels", "search_vacation_rentals", "search_hotels", "search_vacation_rentals"], "llm_duration_seconds": 2.622708320617676, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:07:13.786965Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_search_with_booking", "line": 79, "message": "Trying Booking.com15 for Rome", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:07:13.788077Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 202, "message": "Trying Booking.com15 location search: 'Rome'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:07:15.185031Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 220, "message": "\u2705 Found Booking.com15 dest_id: -126693 (type: city) for 'Rome'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:07:17.852718Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_search_with_booking", "line": 178, "message": "\u2705 Booking.com15: Found 5 hotels", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:07:17.856761Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 217, "message": "   \u2192 Tool executed: search_hotels", "tool_name": "search_hotels", "tool_args": {"checkin_date": "2026-03-19", "checkout_date": "2026-03-26", "destination": "Rome", "guests": 2.0}, "tool_duration_seconds": 4.070496559143066, "result_length": 4, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:07:17.858775Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "search_rentals", "line": 90, "message": "Trying SerpAPI for Rome", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:07:18.214152Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "search_rentals", "line": 101, "message": "Trying RapidAPI Airbnb for Rome", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:07:19.651873Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "search_rentals", "line": 104, "message": "\u2705 RapidAPI: Found 5 rentals", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:07:19.652637Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 217, "message": "   \u2192 Tool executed: search_vacation_rentals", "tool_name": "search_vacation_rentals", "tool_args": {"checkin_date": "2026-03-19", "checkout_date": "2026-03-26", "destination": "Rome", "guests": 2.0}, "tool_duration_seconds": 1.7950668334960938, "result_length": 899, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:07:19.655078Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_search_with_booking", "line": 79, "message": "Trying Booking.com15 for Osaka", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:07:19.656067Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 202, "message": "Trying Booking.com15 location search: 'Osaka'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:07:20.869989Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 220, "message": "\u2705 Found Booking.com15 dest_id: -240905 (type: city) for 'Osaka'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:07:23.382440Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_search_with_booking", "line": 178, "message": "\u2705 Booking.com15: Found 5 hotels", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:07:23.385902Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 217, "message": "   \u2192 Tool executed: search_hotels", "tool_name": "search_hotels", "tool_args": {"checkin_date": "2026-03-19", "checkout_date": "2026-03-26", "destination": "Osaka", "guests": 2.0}, "tool_duration_seconds": 3.731910228729248, "result_length": 4, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:07:23.387736Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "search_rentals", "line": 90, "message": "Trying SerpAPI for Osaka", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:07:24.029766Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "search_rentals", "line": 101, "message": "Trying RapidAPI Airbnb for Osaka", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:07:25.619734Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "search_rentals", "line": 104, "message": "\u2705 RapidAPI: Found 5 rentals", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:07:25.620653Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 217, "message": "   \u2192 Tool executed: search_vacation_rentals", "tool_name": "search_vacation_rentals", "tool_args": {"checkin_date": "2026-03-19", "checkout_date": "2026-03-26", "destination": "Osaka", "guests": 2.0}, "tool_duration_seconds": 2.2337231636047363, "result_length": 969, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:07:25.622192Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_search_with_booking", "line": 79, "message": "Trying Booking.com15 for Marrakech", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:07:25.622677Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 202, "message": "Trying Booking.com15 location search: 'Marrakech'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:07:27.000083Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 220, "message": "\u2705 Found Booking.com15 dest_id: -38833 (type: city) for 'Marrakech'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:07:29.241489Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_search_with_booking", "line": 178, "message": "\u2705 Booking.com15: Found 5 hotels", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:07:29.243636Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 217, "message": "   \u2192 Tool executed: search_hotels", "tool_name": "search_hotels", "tool_args": {"checkin_date": "2026-03-19", "checkout_date": "2026-03-26", "destination": "Marrakech", "guests": 2.0}, "tool_duration_seconds": 3.6221954822540283, "result_length": 4, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:07:29.244547Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "search_rentals", "line": 90, "message": "Trying SerpAPI for Marrakech", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:07:29.420329Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "search_rentals", "line": 101, "message": "Trying RapidAPI Airbnb for Marrakech", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:07:30.996571Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "search_rentals", "line": 104, "message": "\u2705 RapidAPI: Found 5 rentals", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:07:30.997330Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 217, "message": "   \u2192 Tool executed: search_vacation_rentals", "tool_name": "search_vacation_rentals", "tool_args": {"checkin_date": "2026-03-19", "checkout_date": "2026-03-26", "destination": "Marrakech", "guests": 2.0}, "tool_duration_seconds": 1.7530925273895264, "result_length": 1002, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:07:35.491554Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 217, "message": "Agent iteration 6", "iteration": 6, "tools_used": ["find_cultural_activities", "find_cultural_activities", "find_cultural_activities"], "llm_duration_seconds": 4.49305534362793, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:07:38.158359Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 217, "message": "   \u2192 Tool executed: find_cultural_activities", "tool_name": "find_cultural_activities", "tool_args": {"city": "Rome", "preferences": "art,history"}, "tool_duration_seconds": 2.666041612625122, "result_length": 442, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:07:40.251381Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 217, "message": "   \u2192 Tool executed: find_cultural_activities", "tool_name": "find_cultural_activities", "tool_args": {"city": "Osaka", "preferences": "art,history"}, "tool_duration_seconds": 2.0924599170684814, "result_length": 358, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:07:43.496626Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 217, "message": "   \u2192 Tool executed: find_cultural_activities", "tool_name": "find_cultural_activities", "tool_args": {"city": "Marrakech", "preferences": "art,history"}, "tool_duration_seconds": 3.2444565296173096, "result_length": 871, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:07:44.866273Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 217, "message": "Agent iteration 7", "iteration": 7, "tools_used": ["recommend_restaurants", "recommend_restaurants", "recommend_restaurants"], "llm_duration_seconds": 1.3687047958374023, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:07:46.492359Z", "level": "INFO", "logger": "services.restaurant_service", "module": "restaurant_service", "function": "find_restaurants", "line": 90, "message": "\u2705 2 restaurants from Travel Advisor API", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:07:46.492796Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 217, "message": "   \u2192 Tool executed: recommend_restaurants", "tool_name": "recommend_restaurants", "tool_args": {"budget": "$$", "cuisine_types": "local", "city": "Rome"}, "tool_duration_seconds": 1.6260695457458496, "result_length": 696, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:07:49.017047Z", "level": "INFO", "logger": "services.restaurant_service", "module": "restaurant_service", "function": "find_restaurants", "line": 90, "message": "\u2705 2 restaurants from Travel Advisor API", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:07:49.017565Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 217, "message": "   \u2192 Tool executed: recommend_restaurants", "tool_name": "recommend_restaurants", "tool_args": {"budget": "$$", "cuisine_types": "local", "city": "Osaka"}, "tool_duration_seconds": 2.5242297649383545, "result_length": 803, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:07:52.480681Z", "level": "WARNING", "logger": "services.restaurant_service", "module": "restaurant_service", "function": "find_restaurants", "line": 94, "message": "Travel Advisor failed, trying Foursquare Places API...", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:08:02.972407Z", "level": "ERROR", "logger": "services.restaurant_service", "module": "restaurant_service", "function": "_try_foursquare_api", "line": 340, "message": "Foursquare API error: HTTPSConnectionPool(host='api.foursquare.com', port=443): Read timed out.", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:08:02.972789Z", "level": "WARNING", "logger": "services.restaurant_service", "module": "restaurant_service", "function": "find_restaurants", "line": 102, "message": "Yelp failed, trying Overpass API...", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:08:05.218946Z", "level": "INFO", "logger": "services.restaurant_service", "module": "restaurant_service", "function": "find_restaurants", "line": 106, "message": "\u2705 8 restaurants from Overpass API", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:08:05.220519Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 217, "message": "   \u2192 Tool executed: recommend_restaurants", "tool_name": "recommend_restaurants", "tool_args": {"budget": "$$", "cuisine_types": "local", "city": "Marrakech"}, "tool_duration_seconds": 16.20150327682495, "result_length": 1717, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:08:06.665782Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 217, "message": "Agent iteration 8", "iteration": 8, "tools_used": ["create_visit_itinerary", "create_visit_itinerary", "create_visit_itinerary"], "llm_duration_seconds": 1.4442999362945557, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:08:12.679761Z", "level": "INFO", "logger": "services.restaurant_service", "module": "restaurant_service", "function": "find_restaurants", "line": 90, "message": "\u2705 2 restaurants from Travel Advisor API", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:08:12.680324Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 217, "message": "   \u2192 Tool executed: create_visit_itinerary", "tool_name": "create_visit_itinerary", "tool_args": {"city": "Rome", "duration_days": 7.0, "interests": "culture,food,attractions"}, "tool_duration_seconds": 6.01386570930481, "result_length": 2737, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:08:43.045761Z", "level": "INFO", "logger": "services.restaurant_service", "module": "restaurant_service", "function": "find_restaurants", "line": 90, "message": "\u2705 7 restaurants from Travel Advisor API", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:08:43.046826Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 217, "message": "   \u2192 Tool executed: create_visit_itinerary", "tool_name": "create_visit_itinerary", "tool_args": {"city": "Osaka", "duration_days": 7.0, "interests": "culture,food,attractions"}, "tool_duration_seconds": 30.365590572357178, "result_length": 2969, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:08:45.950527Z", "level": "WARNING", "logger": "services.restaurant_service", "module": "restaurant_service", "function": "find_restaurants", "line": 94, "message": "Travel Advisor failed, trying Foursquare Places API...", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:08:46.361152Z", "level": "ERROR", "logger": "services.restaurant_service", "module": "restaurant_service", "function": "_try_foursquare_api", "line": 340, "message": "Foursquare API error: 401 Client Error: Unauthorized for url: https://api.foursquare.com/v3/places/search?ll=31.6258257%2C-7.9891608&radius=3000&categories=13065&limit=14&fields=name%2Clocation%2Crating%2Cprice%2Cphotos%2Ctel%2Cwebsite%2Chours%2Cdistance%2Ccategories", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:08:46.363674Z", "level": "WARNING", "logger": "services.restaurant_service", "module": "restaurant_service", "function": "find_restaurants", "line": 102, "message": "Yelp failed, trying Overpass API...", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:08:50.546408Z", "level": "INFO", "logger": "services.restaurant_service", "module": "restaurant_service", "function": "find_restaurants", "line": 106, "message": "\u2705 14 restaurants from Overpass API", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:08:50.548135Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 217, "message": "   \u2192 Tool executed: create_visit_itinerary", "tool_name": "create_visit_itinerary", "tool_args": {"duration_days": 7.0, "city": "Marrakech", "interests": "culture,food,attractions"}, "tool_duration_seconds": 7.499847173690796, "result_length": 3171, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:08:51.655073Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 217, "message": "Agent iteration 9", "iteration": 9, "tools_used": ["generate_travel_map", "generate_travel_map", "generate_travel_map"], "llm_duration_seconds": 1.1057345867156982, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:09:16.695942Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 217, "message": "   \u2192 Tool executed: generate_travel_map", "tool_name": "generate_travel_map", "tool_args": {"hotel_addresses": "Rome", "city": "Rome"}, "tool_duration_seconds": 25.040435075759888, "result_length": 151, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:09:22.580771Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 217, "message": "   \u2192 Tool executed: generate_travel_map", "tool_name": "generate_travel_map", "tool_args": {"hotel_addresses": "Osaka", "city": "Osaka"}, "tool_duration_seconds": 5.884193420410156, "result_length": 152, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:09:29.841688Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 217, "message": "   \u2192 Tool executed: generate_travel_map", "tool_name": "generate_travel_map", "tool_args": {"hotel_addresses": "Marrakech", "city": "Marrakech"}, "tool_duration_seconds": 7.260473728179932, "result_length": 152, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:09:31.258645Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 217, "message": "Agent iteration 10", "iteration": 10, "tools_used": ["calculate_total_cost", "calculate_total_cost", "calculate_total_cost"], "llm_duration_seconds": 1.4164891242980957, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:09:31.259995Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 217, "message": "   \u2192 Tool executed: calculate_total_cost", "tool_name": "calculate_total_cost", "tool_args": {"flight_price": 178.7, "travelers": 2.0, "hotel_price": 5887.0}, "tool_duration_seconds": 0.0008206367492675781, "result_length": 143, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:09:31.261706Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 217, "message": "   \u2192 Tool executed: calculate_total_cost", "tool_name": "calculate_total_cost", "tool_args": {"flight_price": 902.5, "travelers": 2.0, "hotel_price": 2569.0}, "tool_duration_seconds": 0.0009109973907470703, "result_length": 144, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:09:31.263399Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 217, "message": "   \u2192 Tool executed: calculate_total_cost", "tool_name": "calculate_total_cost", "tool_args": {"flight_price": 245.5, "travelers": 2.0, "hotel_price": 3080.0}, "tool_duration_seconds": 0.0007603168487548828, "result_length": 143, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:09:33.049488Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 217, "message": "Agent iteration 11", "iteration": 11, "tools_used": ["recommend_best_package"], "llm_duration_seconds": 1.7853832244873047, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:09:33.051294Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 217, "message": "   \u2192 Tool executed: recommend_best_package", "tool_name": "recommend_best_package", "tool_args": {"packages_info": "Package1: $6244.4 (vol+location), Package2: $4374 (vol+location), Package3: $3571 (vol+location)", "user_budget": "medium", "priorities": "value", "travel_style": "balanced"}, "tool_duration_seconds": 0.0010488033294677734, "result_length": 2938, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:09:35.059201Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 217, "message": "\u2705 Finished after 12 iteration(s)", "iterations": 12, "total_duration_seconds": 168.91465401649475, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:13:04.674308Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 217, "message": "\ud83d\ude80 Initializing TravelAgent with gemini...", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:13:04.735395Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 217, "message": "\u2705 TravelAgent initialized with Gemini 2.0 Flash", "model": "gemini-2.0-flash-001", "model_provider": "gemini", "cost_per_search": "$0.0016", "tools_count": 12, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:15:30.464328Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 217, "message": "\ud83d\ude80 Initializing TravelAgent with claude...", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:15:30.514594Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 217, "message": "\u2705 TravelAgent initialized with Claude Sonnet 4", "model": "claude-sonnet-4-20250514", "model_provider": "claude", "cost_per_search": "$0.069", "tools_count": 12, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:19:37.999286Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 217, "message": "\ud83d\ude80 Initializing TravelAgent with claude...", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:19:38.064721Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 217, "message": "\u2705 TravelAgent initialized with Claude Sonnet 4", "model": "claude-sonnet-4-20250514", "model_provider": "claude", "cost_per_search": "$0.069", "tools_count": 12, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:21:35.688827Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 217, "message": "\ud83d\ude80 Initializing TravelAgent with claude...", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:21:35.773060Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 217, "message": "\u2705 TravelAgent initialized with Claude Sonnet 4", "model": "claude-sonnet-4-20250514", "model_provider": "claude", "cost_per_search": "$0.069", "tools_count": 12, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:26:26.665875Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 217, "message": "\ud83d\ude80 Initializing TravelAgent with claude...", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:26:26.711534Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 217, "message": "\u2705 TravelAgent initialized with Claude Sonnet 4", "model": "claude-sonnet-4-20250514", "model_provider": "claude", "cost_per_search": "$0.069", "tools_count": 12, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:28:32.464808Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 217, "message": "\ud83d\ude80 Initializing TravelAgent with claude...", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:28:32.540953Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 217, "message": "\u2705 TravelAgent initialized with Claude Sonnet 4", "model": "claude-sonnet-4-20250514", "model_provider": "claude", "cost_per_search": "$0.069", "tools_count": 12, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:32:00.973453Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 217, "message": "\ud83d\ude80 Initializing TravelAgent with claude...", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:32:01.019319Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 217, "message": "\u2705 TravelAgent initialized with Claude Sonnet 4", "model": "claude-sonnet-4-20250514", "model_provider": "claude", "cost_per_search": "$0.069", "tools_count": 12, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:33:34.255337Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 217, "message": "\ud83d\ude80 Initializing TravelAgent with claude...", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:33:34.307118Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 217, "message": "\u2705 TravelAgent initialized with Claude Sonnet 4", "model": "claude-sonnet-4-20250514", "model_provider": "claude", "cost_per_search": "$0.069", "tools_count": 12, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:33:57.057822Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 217, "message": "\ud83e\udd16 Analyzing request", "user_request": "DEMANDE UTILISATEUR:\nhello\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9p", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:34:06.138313Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 217, "message": "\u2705 Finished after 1 iteration(s)", "user_request": "DEMANDE UTILISATEUR:\nhello\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9p", "iterations": 1, "total_duration_seconds": 9.080845355987549, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:34:46.611793Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 217, "message": "\ud83e\udd16 Analyzing request", "user_request": "DEMANDE UTILISATEUR:\nculture asiatique en printemps\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- P", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:34:50.790801Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 217, "message": "Agent iteration 1", "user_request": "DEMANDE UTILISATEUR:\nculture asiatique en printemps\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- P", "iteration": 1, "tools_used": ["get_destination_context"], "llm_duration_seconds": 4.177952766418457, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:36:00.842938Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "\ud83d\ude80 Initializing TravelAgent with claude...", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:36:00.890361Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "\u2705 TravelAgent initialized with Claude Sonnet 4", "model": "claude-sonnet-4-20250514", "model_provider": "claude", "cost_per_search": "$0.069", "tools_count": 12, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:36:14.415685Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "\ud83e\udd16 Analyzing request", "user_request": "DEMANDE UTILISATEUR:\nhello\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9p", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:36:23.645863Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "\u2705 Finished after 1 iteration(s)", "user_request": "DEMANDE UTILISATEUR:\nhello\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9p", "iterations": 1, "total_duration_seconds": 9.230399131774902, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:36:35.054566Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "\ud83e\udd16 Analyzing request", "user_request": "DEMANDE UTILISATEUR:\naide moi \u00e0 trouver un voyage en Asie \n\nCONTEXTE DISPONIBLE (utilise si pertinen", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:36:47.248937Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "\u2705 Finished after 1 iteration(s)", "user_request": "DEMANDE UTILISATEUR:\naide moi \u00e0 trouver un voyage en Asie \n\nCONTEXTE DISPONIBLE (utilise si pertinen", "iterations": 1, "total_duration_seconds": 12.194268226623535, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:37:26.582419Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "\ud83e\udd16 Analyzing request", "user_request": "DEMANDE UTILISATEUR:\nla culture traditionnelle \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profi", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:37:37.646480Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "\u2705 Finished after 1 iteration(s)", "user_request": "DEMANDE UTILISATEUR:\nla culture traditionnelle \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profi", "iterations": 1, "total_duration_seconds": 11.063889741897583, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:38:37.376735Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "\ud83e\udd16 Analyzing request", "user_request": "DEMANDE UTILISATEUR:\nArchitecture sacr\u00e9e et monuments historiques en asie \n\nCONTEXTE DISPONIBLE (uti", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:38:47.385013Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "Agent iteration 1", "user_request": "DEMANDE UTILISATEUR:\nArchitecture sacr\u00e9e et monuments historiques en asie \n\nCONTEXTE DISPONIBLE (uti", "iteration": 1, "tools_used": ["get_destination_context", "get_destination_context", "get_destination_context", "get_destination_context"], "llm_duration_seconds": 10.006470918655396, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:40:43.389902Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "\ud83d\ude80 Initializing TravelAgent with gemini...", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:40:43.672621Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "\u2705 TravelAgent initialized with Gemini 2.0 Flash", "model": "gemini-2.0-flash-001", "model_provider": "gemini", "cost_per_search": "$0.0016", "tools_count": 12, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:41:00.710489Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "\ud83e\udd16 Analyzing request", "user_request": "DEMANDE UTILISATEUR:\nhello\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9p", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:41:14.547728Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "\u2705 Finished after 1 iteration(s)", "user_request": "DEMANDE UTILISATEUR:\nhello\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9p", "iterations": 1, "total_duration_seconds": 13.837887048721313, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:42:24.916367Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "\ud83e\udd16 Analyzing request", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 OSAKA \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:42:26.606171Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "Agent iteration 1", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 OSAKA \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2", "iteration": 1, "tools_used": ["get_airport_code"], "llm_duration_seconds": 1.6889796257019043, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:42:26.608368Z", "level": "INFO", "logger": "services.airport_service", "module": "airport_service", "function": "__init__", "line": 37, "message": "\u2705 AirportCodeService initialized with Amadeus API", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:42:27.546468Z", "level": "INFO", "logger": "services.airport_service", "module": "airport_service", "function": "get_airport_code", "line": 123, "message": "\u2705 Found airport code via fallback: Osaka \u2192 KIX", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:42:27.546815Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "   \u2192 Tool executed: get_airport_code", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 OSAKA \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2", "tool_name": "get_airport_code", "tool_args": {"city_name": "Osaka"}, "tool_duration_seconds": 0.9402515888214111, "result_length": 39, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:42:28.704884Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "Agent iteration 2", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 OSAKA \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2", "iteration": 2, "tools_used": ["search_flights"], "llm_duration_seconds": 1.157073736190796, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:42:28.708035Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "__init__", "line": 77, "message": "\u2705 FlightSearchService initialized with Amadeus API", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:42:28.710381Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "_search_with_amadeus", "line": 163, "message": "\ud83d\udd0d Amadeus search: CDG \u2192 KIX on 2026-03-19", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:42:34.245517Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "_search_with_amadeus", "line": 188, "message": "\u2705 Amadeus: Found 5 real flight options", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:42:34.247395Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "   \u2192 Tool executed: search_flights", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 OSAKA \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2", "tool_name": "search_flights", "tool_args": {"origin": "CDG", "destination": "KIX", "return_date": "2026-03-26", "departure_date": "2026-03-19"}, "tool_duration_seconds": 5.540906667709351, "result_length": 495, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:42:36.161859Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "Agent iteration 3", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 OSAKA \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2", "iteration": 3, "tools_used": ["search_hotels"], "llm_duration_seconds": 1.9136683940887451, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:42:36.167727Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "__init__", "line": 48, "message": "HotelSearchService initialized with providers: booking-com15, mock", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:42:36.168866Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_search_with_booking", "line": 79, "message": "Trying Booking.com15 for Osaka", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:42:36.169999Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 202, "message": "Trying Booking.com15 location search: 'Osaka'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:42:37.850707Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 220, "message": "\u2705 Found Booking.com15 dest_id: -240905 (type: city) for 'Osaka'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:42:38.002114Z", "level": "WARNING", "logger": "services.hotel_service", "module": "hotel_service", "function": "_search_with_booking", "line": 112, "message": "Booking.com15 search failed: 429 - {\"message\":\"You have exceeded the MONTHLY quota for requests on your current plan, BASIC. Upgrade your plan at https:\\/\\/rapidapi.com\\/DataCrawler\\/api\\/booking-com15\"}", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:42:38.005842Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "search", "line": 74, "message": "Using mock data for Osaka", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:42:38.006909Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "   \u2192 Tool executed: search_hotels", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 OSAKA \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2", "tool_name": "search_hotels", "tool_args": {"guests": 2.0, "checkin_date": "2026-03-19", "destination": "Osaka", "checkout_date": "2026-03-26"}, "tool_duration_seconds": 1.8444862365722656, "result_length": 4, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:42:39.056960Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "Agent iteration 4", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 OSAKA \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2", "iteration": 4, "tools_used": ["search_vacation_rentals"], "llm_duration_seconds": 1.0492606163024902, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:42:39.058000Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "__init__", "line": 66, "message": "VacationRentalService initialized with providers: serpapi, rapidapi, mock", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:42:39.058602Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "search_rentals", "line": 90, "message": "Trying SerpAPI for Osaka", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:42:39.367622Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "search_rentals", "line": 101, "message": "Trying RapidAPI Airbnb for Osaka", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:42:41.535600Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "search_rentals", "line": 104, "message": "\u2705 RapidAPI: Found 5 rentals", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:42:41.536326Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "   \u2192 Tool executed: search_vacation_rentals", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 OSAKA \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2", "tool_name": "search_vacation_rentals", "tool_args": {"guests": 2.0, "checkin_date": "2026-03-19", "destination": "Osaka", "checkout_date": "2026-03-26"}, "tool_duration_seconds": 2.4787380695343018, "result_length": 969, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:42:43.057583Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "Agent iteration 5", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 OSAKA \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2", "iteration": 5, "tools_used": ["find_cultural_activities"], "llm_duration_seconds": 1.5172157287597656, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:42:46.058512Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "   \u2192 Tool executed: find_cultural_activities", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 OSAKA \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2", "tool_name": "find_cultural_activities", "tool_args": {"preferences": "art,history", "city": "Osaka"}, "tool_duration_seconds": 3.0002622604370117, "result_length": 358, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:42:47.666252Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "Agent iteration 6", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 OSAKA \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2", "iteration": 6, "tools_used": ["recommend_restaurants"], "llm_duration_seconds": 1.6068384647369385, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:42:52.743473Z", "level": "INFO", "logger": "services.restaurant_service", "module": "restaurant_service", "function": "find_restaurants", "line": 90, "message": "\u2705 2 restaurants from Travel Advisor API", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:42:52.744174Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "   \u2192 Tool executed: recommend_restaurants", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 OSAKA \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2", "tool_name": "recommend_restaurants", "tool_args": {"budget": "$$", "cuisine_types": "local", "city": "Osaka"}, "tool_duration_seconds": 5.077176570892334, "result_length": 803, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:42:54.418343Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "Agent iteration 7", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 OSAKA \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2", "iteration": 7, "tools_used": ["create_visit_itinerary"], "llm_duration_seconds": 1.6733028888702393, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:42:58.071878Z", "level": "INFO", "logger": "services.restaurant_service", "module": "restaurant_service", "function": "find_restaurants", "line": 90, "message": "\u2705 7 restaurants from Travel Advisor API", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:42:58.072785Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "   \u2192 Tool executed: create_visit_itinerary", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 OSAKA \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2", "tool_name": "create_visit_itinerary", "tool_args": {"city": "Osaka", "duration_days": 7.0, "interests": "culture,food,attractions"}, "tool_duration_seconds": 3.6538751125335693, "result_length": 3751, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:43:00.764714Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "Agent iteration 8", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 OSAKA \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2", "iteration": 8, "tools_used": ["generate_travel_map"], "llm_duration_seconds": 2.6910178661346436, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:43:13.199715Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "   \u2192 Tool executed: generate_travel_map", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 OSAKA \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2", "tool_name": "generate_travel_map", "tool_args": {"city": "Osaka", "hotel_addresses": "FDS Azur/4min walk to Kujo Station/1LDK28.8\u33a1,SRNamba Shisaibashi2 min 6 min to station/3people,FDS Panache/Namba, 2 stations away in 5 minutes"}, "tool_duration_seconds": 12.43449854850769, "result_length": 152, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:43:14.330438Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "Agent iteration 9", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 OSAKA \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2", "iteration": 9, "tools_used": ["calculate_total_cost"], "llm_duration_seconds": 1.1301310062408447, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:43:14.332847Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "   \u2192 Tool executed: calculate_total_cost", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 OSAKA \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2", "tool_name": "calculate_total_cost", "tool_args": {"travelers": 2.0, "hotel_price": 2569.0, "flight_price": 976.0}, "tool_duration_seconds": 0.0015125274658203125, "result_length": 144, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:43:15.575398Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "\u2705 Finished after 10 iteration(s)", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 OSAKA \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2", "iterations": 10, "total_duration_seconds": 50.659135580062866, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:44:03.030589Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "\ud83e\udd16 Analyzing request", "user_request": "DEMANDE UTILISATEUR:\nhello\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9p", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:44:04.460453Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "\u2705 Finished after 1 iteration(s)", "user_request": "DEMANDE UTILISATEUR:\nhello\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9p", "iterations": 1, "total_duration_seconds": 1.430161714553833, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:44:18.759922Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "\ud83e\udd16 Analyzing request", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Vence en mai \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Pr", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:44:20.222595Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "Agent iteration 1", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Vence en mai \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Pr", "iteration": 1, "tools_used": ["get_destination_context"], "llm_duration_seconds": 1.4619686603546143, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:44:20.437723Z", "level": "INFO", "logger": "services.wikipedia_service", "module": "wikipedia_service", "function": "get_city_context", "line": 83, "message": "\u2705 Wikipedia context retrieved for Vence", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:44:20.438150Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "   \u2192 Tool executed: get_destination_context", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Vence en mai \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Pr", "tool_name": "get_destination_context", "tool_args": {"city": "Vence"}, "tool_duration_seconds": 0.21521949768066406, "result_length": 337, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:44:21.342001Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "Agent iteration 2", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Vence en mai \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Pr", "iteration": 2, "tools_used": ["get_airport_code"], "llm_duration_seconds": 0.9031593799591064, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:44:22.700380Z", "level": "INFO", "logger": "services.airport_service", "module": "airport_service", "function": "get_airport_code", "line": 115, "message": "\u2705 Found airport code via Amadeus: Paris \u2192 PAR", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:44:22.700889Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "   \u2192 Tool executed: get_airport_code", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Vence en mai \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Pr", "tool_name": "get_airport_code", "tool_args": {"city_name": "Paris"}, "tool_duration_seconds": 1.358393907546997, "result_length": 30, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:44:23.545342Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "Agent iteration 3", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Vence en mai \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Pr", "iteration": 3, "tools_used": ["get_airport_code"], "llm_duration_seconds": 0.8438072204589844, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:44:23.886002Z", "level": "INFO", "logger": "services.airport_service", "module": "airport_service", "function": "get_airport_code", "line": 115, "message": "\u2705 Found airport code via Amadeus: Nice \u2192 NCE", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:44:23.886464Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "   \u2192 Tool executed: get_airport_code", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Vence en mai \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Pr", "tool_name": "get_airport_code", "tool_args": {"city_name": "Nice"}, "tool_duration_seconds": 0.3406789302825928, "result_length": 35, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:44:25.654742Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "Agent iteration 4", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Vence en mai \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Pr", "iteration": 4, "tools_used": ["search_flights"], "llm_duration_seconds": 1.7674081325531006, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:44:25.657634Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "_search_with_amadeus", "line": 163, "message": "\ud83d\udd0d Amadeus search: CDG \u2192 NCE on 2026-05-19", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:44:27.613152Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "_search_with_amadeus", "line": 188, "message": "\u2705 Amadeus: Found 5 real flight options", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:44:27.614618Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "   \u2192 Tool executed: search_flights", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Vence en mai \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Pr", "tool_name": "search_flights", "tool_args": {"origin": "CDG", "destination": "NCE", "return_date": "2026-05-26", "departure_date": "2026-05-19"}, "tool_duration_seconds": 1.9586763381958008, "result_length": 465, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:44:28.637571Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "Agent iteration 5", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Vence en mai \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Pr", "iteration": 5, "tools_used": ["search_hotels"], "llm_duration_seconds": 1.0218548774719238, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:44:28.638645Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_search_with_booking", "line": 79, "message": "Trying Booking.com15 for Vence", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:44:28.639237Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 202, "message": "Trying Booking.com15 location search: 'Vence'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:44:29.079594Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 202, "message": "Trying Booking.com15 location search: 'Vence'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:44:29.269148Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 202, "message": "Trying Booking.com15 location search: 'Vence'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:44:29.421478Z", "level": "WARNING", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 231, "message": "No destination ID found for any variation of 'Vence'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:44:29.423832Z", "level": "WARNING", "logger": "services.hotel_service", "module": "hotel_service", "function": "_search_with_booking", "line": 84, "message": "Could not find destination ID for Vence", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:44:29.424294Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "search", "line": 74, "message": "Using mock data for Vence", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:44:29.425290Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "   \u2192 Tool executed: search_hotels", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Vence en mai \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Pr", "tool_name": "search_hotels", "tool_args": {"guests": 2.0, "checkin_date": "2026-05-19", "destination": "Vence", "checkout_date": "2026-05-26"}, "tool_duration_seconds": 0.7869439125061035, "result_length": 4, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:44:30.455383Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "Agent iteration 6", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Vence en mai \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Pr", "iteration": 6, "tools_used": ["search_vacation_rentals"], "llm_duration_seconds": 1.0295770168304443, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:44:30.456681Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "search_rentals", "line": 90, "message": "Trying SerpAPI for Vence", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:44:30.691047Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "search_rentals", "line": 101, "message": "Trying RapidAPI Airbnb for Vence", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:44:32.571326Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "search_rentals", "line": 104, "message": "\u2705 RapidAPI: Found 5 rentals", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:44:32.573329Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "   \u2192 Tool executed: search_vacation_rentals", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Vence en mai \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Pr", "tool_name": "search_vacation_rentals", "tool_args": {"guests": 2.0, "checkin_date": "2026-05-19", "destination": "Vence", "checkout_date": "2026-05-26"}, "tool_duration_seconds": 2.11674427986145, "result_length": 959, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:44:33.394029Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "Agent iteration 7", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Vence en mai \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Pr", "iteration": 7, "tools_used": ["find_cultural_activities"], "llm_duration_seconds": 0.8197860717773438, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:44:34.793071Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "   \u2192 Tool executed: find_cultural_activities", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Vence en mai \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Pr", "tool_name": "find_cultural_activities", "tool_args": {"preferences": "art,history", "city": "Vence"}, "tool_duration_seconds": 1.3982067108154297, "result_length": 1297, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:44:35.567614Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "Agent iteration 8", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Vence en mai \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Pr", "iteration": 8, "tools_used": ["recommend_restaurants"], "llm_duration_seconds": 0.7734875679016113, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:44:37.708853Z", "level": "INFO", "logger": "services.restaurant_service", "module": "restaurant_service", "function": "find_restaurants", "line": 90, "message": "\u2705 3 restaurants from Travel Advisor API", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:44:37.709333Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "   \u2192 Tool executed: recommend_restaurants", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Vence en mai \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Pr", "tool_name": "recommend_restaurants", "tool_args": {"budget": "$$", "cuisine_types": "local", "city": "Vence"}, "tool_duration_seconds": 2.141206979751587, "result_length": 762, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:44:38.705340Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "Agent iteration 9", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Vence en mai \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Pr", "iteration": 9, "tools_used": ["create_visit_itinerary"], "llm_duration_seconds": 0.9952027797698975, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:44:41.971118Z", "level": "INFO", "logger": "services.restaurant_service", "module": "restaurant_service", "function": "find_restaurants", "line": 90, "message": "\u2705 7 restaurants from Travel Advisor API", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:44:41.972398Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "   \u2192 Tool executed: create_visit_itinerary", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Vence en mai \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Pr", "tool_name": "create_visit_itinerary", "tool_args": {"city": "Vence", "duration_days": 7.0, "interests": "culture,food,attractions"}, "tool_duration_seconds": 3.266313076019287, "result_length": 3459, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:44:42.986272Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "Agent iteration 10", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Vence en mai \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Pr", "iteration": 10, "tools_used": ["generate_travel_map"], "llm_duration_seconds": 1.0049254894256592, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:44:51.216835Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "   \u2192 Tool executed: generate_travel_map", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Vence en mai \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Pr", "tool_name": "generate_travel_map", "tool_args": {"city": "Vence", "hotel_addresses": "Guest House with Sea View and Pool, Very nice Apartment - Pool - Air Conditioning - Garden - Parking, Nice apartment near Vence center"}, "tool_duration_seconds": 8.229868173599243, "result_length": 152, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:44:55.301924Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "Agent iteration 11", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Vence en mai \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Pr", "iteration": 11, "tools_used": ["calculate_total_cost"], "llm_duration_seconds": 4.077547550201416, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:44:55.304073Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "   \u2192 Tool executed: calculate_total_cost", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Vence en mai \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Pr", "tool_name": "calculate_total_cost", "tool_args": {"travelers": 2.0, "hotel_price": 4060.0, "flight_price": 376.9}, "tool_duration_seconds": 0.0009200572967529297, "result_length": 143, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:44:56.272551Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "Agent iteration 12", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Vence en mai \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Pr", "iteration": 12, "tools_used": ["calculate_total_cost"], "llm_duration_seconds": 0.9675014019012451, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:44:56.274159Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "   \u2192 Tool executed: calculate_total_cost", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Vence en mai \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Pr", "tool_name": "calculate_total_cost", "tool_args": {"travelers": 2.0, "hotel_price": 6069.0, "flight_price": 376.9}, "tool_duration_seconds": 0.0010013580322265625, "result_length": 143, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:44:57.589067Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "Agent iteration 13", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Vence en mai \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Pr", "iteration": 13, "tools_used": ["recommend_best_package"], "llm_duration_seconds": 1.3139286041259766, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:44:57.591745Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "   \u2192 Tool executed: recommend_best_package", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Vence en mai \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Pr", "tool_name": "recommend_best_package", "tool_args": {"user_budget": "medium", "priorities": "value", "packages_info": "Package1: $4813.8 (vol+location), Package2: $4813.8 (vol+hotel), Package3: $6822.8 (vol+location)", "travel_style": "balanced"}, "tool_duration_seconds": 0.0016906261444091797, "result_length": 2938, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:44:58.663303Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "\u2705 Finished after 14 iteration(s)", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Vence en mai \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Pr", "iterations": 14, "total_duration_seconds": 39.90463161468506, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:50:47.983682Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "\ud83d\ude80 Initializing TravelAgent with gemini...", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:50:48.027291Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "\u2705 TravelAgent initialized with Gemini 2.0 Flash", "model": "gemini-2.0-flash-001", "model_provider": "gemini", "cost_per_search": "$0.0016", "tools_count": 12, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:51:28.221297Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "\ud83e\udd16 Analyzing request", "user_request": "DEMANDE UTILISATEUR:\nhello\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9p", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:51:31.389288Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "\u2705 Finished after 1 iteration(s)", "user_request": "DEMANDE UTILISATEUR:\nhello\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9p", "iterations": 1, "total_duration_seconds": 3.1677393913269043, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:51:49.854365Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "\ud83e\udd16 Analyzing request", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Munich \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: ", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:51:52.520061Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "Agent iteration 1", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Munich \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: ", "iteration": 1, "tools_used": ["get_destination_context", "get_airport_code", "search_flights", "search_hotels", "search_vacation_rentals", "find_cultural_activities", "recommend_restaurants"], "llm_duration_seconds": 2.6650357246398926, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:51:52.813744Z", "level": "INFO", "logger": "services.wikipedia_service", "module": "wikipedia_service", "function": "get_city_context", "line": 83, "message": "\u2705 Wikipedia context retrieved for Munich", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:51:52.814736Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "   \u2192 Tool executed: get_destination_context", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Munich \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: ", "tool_name": "get_destination_context", "tool_args": {"city": "Munich"}, "tool_duration_seconds": 0.293729305267334, "result_length": 558, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:51:52.817665Z", "level": "INFO", "logger": "services.airport_service", "module": "airport_service", "function": "__init__", "line": 37, "message": "\u2705 AirportCodeService initialized with Amadeus API", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:51:53.271252Z", "level": "INFO", "logger": "services.airport_service", "module": "airport_service", "function": "get_airport_code", "line": 115, "message": "\u2705 Found airport code via Amadeus: Munich \u2192 MUC", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:51:53.271723Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "   \u2192 Tool executed: get_airport_code", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Munich \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: ", "tool_name": "get_airport_code", "tool_args": {"city_name": "Munich"}, "tool_duration_seconds": 0.45621609687805176, "result_length": 47, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:51:53.274687Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "__init__", "line": 77, "message": "\u2705 FlightSearchService initialized with Amadeus API", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:51:53.275482Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "_search_with_amadeus", "line": 163, "message": "\ud83d\udd0d Amadeus search: CDG \u2192 MUC on 2026-03-19", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:51:58.416240Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "_search_with_amadeus", "line": 188, "message": "\u2705 Amadeus: Found 5 real flight options", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:51:58.425738Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "   \u2192 Tool executed: search_flights", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Munich \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: ", "tool_name": "search_flights", "tool_args": {"departure_date": "2026-03-19", "destination": "MUC", "return_date": "2026-03-26", "origin": "CDG"}, "tool_duration_seconds": 5.147104263305664, "result_length": 465, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:51:58.461663Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "__init__", "line": 48, "message": "HotelSearchService initialized with providers: booking-com15, mock", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:51:58.462438Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_search_with_booking", "line": 79, "message": "Trying Booking.com15 for Munich", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:51:58.469491Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 202, "message": "Trying Booking.com15 location search: 'Munich'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:51:58.759290Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 202, "message": "Trying Booking.com15 location search: 'Munich'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:51:59.409368Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 202, "message": "Trying Booking.com15 location search: 'Munich'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:51:59.552871Z", "level": "WARNING", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 231, "message": "No destination ID found for any variation of 'Munich'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:51:59.557768Z", "level": "WARNING", "logger": "services.hotel_service", "module": "hotel_service", "function": "_search_with_booking", "line": 84, "message": "Could not find destination ID for Munich", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:51:59.558814Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "search", "line": 74, "message": "Using mock data for Munich", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:51:59.559641Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "   \u2192 Tool executed: search_hotels", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Munich \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: ", "tool_name": "search_hotels", "tool_args": {"checkout_date": "2026-03-26", "checkin_date": "2026-03-19", "guests": 2.0, "destination": "Munich"}, "tool_duration_seconds": 1.1300244331359863, "result_length": 4, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:51:59.561626Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "__init__", "line": 66, "message": "VacationRentalService initialized with providers: serpapi, rapidapi, mock", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:51:59.562197Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "search_rentals", "line": 90, "message": "Trying SerpAPI for Munich", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:51:59.954571Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "search_rentals", "line": 101, "message": "Trying RapidAPI Airbnb for Munich", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:52:01.766053Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "search_rentals", "line": 104, "message": "\u2705 RapidAPI: Found 5 rentals", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:52:01.766813Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "   \u2192 Tool executed: search_vacation_rentals", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Munich \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: ", "tool_name": "search_vacation_rentals", "tool_args": {"checkout_date": "2026-03-26", "checkin_date": "2026-03-19", "guests": 2.0, "destination": "Munich"}, "tool_duration_seconds": 2.206385850906372, "result_length": 895, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:52:04.946845Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "   \u2192 Tool executed: find_cultural_activities", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Munich \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: ", "tool_name": "find_cultural_activities", "tool_args": {"preferences": "art,history", "city": "Munich"}, "tool_duration_seconds": 3.179354190826416, "result_length": 609, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:52:06.684342Z", "level": "INFO", "logger": "services.restaurant_service", "module": "restaurant_service", "function": "find_restaurants", "line": 90, "message": "\u2705 4 restaurants from Travel Advisor API", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:52:06.685092Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "   \u2192 Tool executed: recommend_restaurants", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Munich \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: ", "tool_name": "recommend_restaurants", "tool_args": {"cuisine_types": "local", "budget": "$$", "city": "Munich"}, "tool_duration_seconds": 1.7374813556671143, "result_length": 1287, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:52:10.062341Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "Agent iteration 2", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Munich \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: ", "iteration": 2, "tools_used": ["create_visit_itinerary", "generate_travel_map"], "llm_duration_seconds": 3.376627206802368, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:52:14.026093Z", "level": "INFO", "logger": "services.restaurant_service", "module": "restaurant_service", "function": "find_restaurants", "line": 90, "message": "\u2705 6 restaurants from Travel Advisor API", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:52:14.026917Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "   \u2192 Tool executed: create_visit_itinerary", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Munich \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: ", "tool_name": "create_visit_itinerary", "tool_args": {"interests": "culture,food,attractions", "duration_days": 7.0, "city": "Munich"}, "tool_duration_seconds": 3.964045524597168, "result_length": 3591, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:52:21.897393Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "   \u2192 Tool executed: generate_travel_map", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Munich \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: ", "tool_name": "generate_travel_map", "tool_args": {"city": "Munich", "hotel_addresses": "Munich"}, "tool_duration_seconds": 7.869770050048828, "result_length": 152, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:52:26.432445Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "\u2705 Finished after 3 iteration(s)", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Munich \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: ", "iterations": 3, "total_duration_seconds": 36.57828974723816, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:55:26.834126Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "\ud83e\udd16 Analyzing request", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 cuba au mois de mai \n\nCONTEXTE DISPONIBLE (utilise si pertinent", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:55:28.789606Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "Agent iteration 1", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 cuba au mois de mai \n\nCONTEXTE DISPONIBLE (utilise si pertinent", "iteration": 1, "tools_used": ["get_destination_context"], "llm_duration_seconds": 1.9543142318725586, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:55:28.906741Z", "level": "INFO", "logger": "services.wikipedia_service", "module": "wikipedia_service", "function": "get_city_context", "line": 83, "message": "\u2705 Wikipedia context retrieved for Cuba", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:55:28.907672Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "   \u2192 Tool executed: get_destination_context", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 cuba au mois de mai \n\nCONTEXTE DISPONIBLE (utilise si pertinent", "tool_name": "get_destination_context", "tool_args": {"city": "Cuba"}, "tool_duration_seconds": 0.11720108985900879, "result_length": 579, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:55:30.196048Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "\u2705 Finished after 2 iteration(s)", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 cuba au mois de mai \n\nCONTEXTE DISPONIBLE (utilise si pertinent", "iterations": 2, "total_duration_seconds": 3.3653690814971924, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:55:57.500213Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "\ud83e\udd16 Analyzing request", "user_request": "DEMANDE UTILISATEUR:\nles dates c'est le mois de mai 2026 \n\nCONTEXTE DISPONIBLE (utilise si pertinent", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:55:59.053503Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "\u2705 Finished after 1 iteration(s)", "user_request": "DEMANDE UTILISATEUR:\nles dates c'est le mois de mai 2026 \n\nCONTEXTE DISPONIBLE (utilise si pertinent", "iterations": 1, "total_duration_seconds": 1.5551323890686035, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:56:27.686907Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "\ud83e\udd16 Analyzing request", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Cuba le mois de mai 2026 \n\nCONTEXTE DISPONIBLE (utilise si pert", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:56:29.253378Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "Agent iteration 1", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Cuba le mois de mai 2026 \n\nCONTEXTE DISPONIBLE (utilise si pert", "iteration": 1, "tools_used": ["get_airport_code", "get_destination_context"], "llm_duration_seconds": 1.56447434425354, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:56:29.567696Z", "level": "INFO", "logger": "services.airport_service", "module": "airport_service", "function": "get_airport_code", "line": 123, "message": "\u2705 Found airport code via fallback: La Havane \u2192 HAV", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:56:29.568395Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "   \u2192 Tool executed: get_airport_code", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Cuba le mois de mai 2026 \n\nCONTEXTE DISPONIBLE (utilise si pert", "tool_name": "get_airport_code", "tool_args": {"city_name": "La Havane"}, "tool_duration_seconds": 0.31439638137817383, "result_length": 47, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:56:29.943812Z", "level": "INFO", "logger": "services.wikipedia_service", "module": "wikipedia_service", "function": "get_city_context", "line": 83, "message": "\u2705 Wikipedia context retrieved for La Havane", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:56:29.945248Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "   \u2192 Tool executed: get_destination_context", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Cuba le mois de mai 2026 \n\nCONTEXTE DISPONIBLE (utilise si pert", "tool_name": "get_destination_context", "tool_args": {"city": "La Havane"}, "tool_duration_seconds": 0.3755340576171875, "result_length": 561, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:56:31.615856Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "Agent iteration 2", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Cuba le mois de mai 2026 \n\nCONTEXTE DISPONIBLE (utilise si pert", "iteration": 2, "tools_used": ["search_flights", "search_hotels", "search_vacation_rentals"], "llm_duration_seconds": 1.6695489883422852, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:56:31.618430Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "_search_with_amadeus", "line": 163, "message": "\ud83d\udd0d Amadeus search: CDG \u2192 HAV on 2026-05-01", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:56:38.869666Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "_search_with_amadeus", "line": 188, "message": "\u2705 Amadeus: Found 5 real flight options", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:56:38.870343Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "   \u2192 Tool executed: search_flights", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Cuba le mois de mai 2026 \n\nCONTEXTE DISPONIBLE (utilise si pert", "tool_name": "search_flights", "tool_args": {"departure_date": "2026-05-01", "destination": "HAV", "return_date": "2026-05-08", "origin": "CDG"}, "tool_duration_seconds": 7.253758192062378, "result_length": 501, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:56:38.871937Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_search_with_booking", "line": 79, "message": "Trying Booking.com15 for La Havane", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:56:38.872715Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 202, "message": "Trying Booking.com15 location search: 'La Havane'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:56:39.042764Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 202, "message": "Trying Booking.com15 location search: 'La Havane'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:56:39.201168Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 202, "message": "Trying Booking.com15 location search: 'La Havane'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:56:39.373253Z", "level": "WARNING", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 231, "message": "No destination ID found for any variation of 'La Havane'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:56:39.375941Z", "level": "WARNING", "logger": "services.hotel_service", "module": "hotel_service", "function": "_search_with_booking", "line": 84, "message": "Could not find destination ID for La Havane", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:56:39.376566Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "search", "line": 74, "message": "Using mock data for La Havane", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:56:39.377282Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "   \u2192 Tool executed: search_hotels", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Cuba le mois de mai 2026 \n\nCONTEXTE DISPONIBLE (utilise si pert", "tool_name": "search_hotels", "tool_args": {"checkout_date": "2026-05-08", "checkin_date": "2026-05-01", "guests": 2.0, "destination": "La Havane"}, "tool_duration_seconds": 0.5063893795013428, "result_length": 4, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:56:39.379591Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "search_rentals", "line": 90, "message": "Trying SerpAPI for La Havane", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:56:39.573082Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "search_rentals", "line": 101, "message": "Trying RapidAPI Airbnb for La Havane", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:56:41.141681Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "search_rentals", "line": 104, "message": "\u2705 RapidAPI: Found 5 rentals", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:56:41.142889Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "   \u2192 Tool executed: search_vacation_rentals", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Cuba le mois de mai 2026 \n\nCONTEXTE DISPONIBLE (utilise si pert", "tool_name": "search_vacation_rentals", "tool_args": {"checkout_date": "2026-05-08", "guests": 2.0, "checkin_date": "2026-05-01", "destination": "La Havane"}, "tool_duration_seconds": 1.7641699314117432, "result_length": 903, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:56:42.409373Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "Agent iteration 3", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Cuba le mois de mai 2026 \n\nCONTEXTE DISPONIBLE (utilise si pert", "iteration": 3, "tools_used": ["find_cultural_activities", "recommend_restaurants", "create_visit_itinerary"], "llm_duration_seconds": 1.2655065059661865, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:56:43.402752Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "   \u2192 Tool executed: find_cultural_activities", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Cuba le mois de mai 2026 \n\nCONTEXTE DISPONIBLE (utilise si pert", "tool_name": "find_cultural_activities", "tool_args": {"preferences": "art,history", "city": "La Havane"}, "tool_duration_seconds": 0.9929296970367432, "result_length": 473, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:56:45.057182Z", "level": "INFO", "logger": "services.restaurant_service", "module": "restaurant_service", "function": "find_restaurants", "line": 90, "message": "\u2705 1 restaurants from Travel Advisor API", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:56:45.058383Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "   \u2192 Tool executed: recommend_restaurants", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Cuba le mois de mai 2026 \n\nCONTEXTE DISPONIBLE (utilise si pert", "tool_name": "recommend_restaurants", "tool_args": {"budget": "$$", "cuisine_types": "local", "city": "La Havane"}, "tool_duration_seconds": 1.6546754837036133, "result_length": 277, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:56:47.977310Z", "level": "INFO", "logger": "services.restaurant_service", "module": "restaurant_service", "function": "find_restaurants", "line": 90, "message": "\u2705 5 restaurants from Travel Advisor API", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:56:47.978722Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "   \u2192 Tool executed: create_visit_itinerary", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Cuba le mois de mai 2026 \n\nCONTEXTE DISPONIBLE (utilise si pert", "tool_name": "create_visit_itinerary", "tool_args": {"interests": "culture,food,attractions", "city": "La Havane", "duration_days": 7.0}, "tool_duration_seconds": 2.9185869693756104, "result_length": 3501, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:56:49.115274Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "Agent iteration 4", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Cuba le mois de mai 2026 \n\nCONTEXTE DISPONIBLE (utilise si pert", "iteration": 4, "tools_used": ["generate_travel_map"], "llm_duration_seconds": 1.1350324153900146, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:56:56.356515Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "   \u2192 Tool executed: generate_travel_map", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Cuba le mois de mai 2026 \n\nCONTEXTE DISPONIBLE (utilise si pert", "tool_name": "generate_travel_map", "tool_args": {"city": "La Havane", "hotel_addresses": "B&W Chacon, Havana Penthouse with Terraces & Panoramic Views, Lamparilla's Loft"}, "tool_duration_seconds": 7.240619897842407, "result_length": 152, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:56:57.989528Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "Agent iteration 5", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Cuba le mois de mai 2026 \n\nCONTEXTE DISPONIBLE (utilise si pert", "iteration": 5, "tools_used": ["calculate_total_cost", "calculate_total_cost", "calculate_total_cost"], "llm_duration_seconds": 1.63193941116333, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:56:57.991874Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "   \u2192 Tool executed: calculate_total_cost", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Cuba le mois de mai 2026 \n\nCONTEXTE DISPONIBLE (utilise si pert", "tool_name": "calculate_total_cost", "tool_args": {"travelers": 2.0, "flight_price": 1494.6, "hotel_price": 1344.0}, "tool_duration_seconds": 0.0016748905181884766, "result_length": 145, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:56:57.994903Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "   \u2192 Tool executed: calculate_total_cost", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Cuba le mois de mai 2026 \n\nCONTEXTE DISPONIBLE (utilise si pert", "tool_name": "calculate_total_cost", "tool_args": {"flight_price": 1494.6, "travelers": 2.0, "hotel_price": 2051.0}, "tool_duration_seconds": 0.0013325214385986328, "result_length": 145, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:56:57.997173Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "   \u2192 Tool executed: calculate_total_cost", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Cuba le mois de mai 2026 \n\nCONTEXTE DISPONIBLE (utilise si pert", "tool_name": "calculate_total_cost", "tool_args": {"travelers": 2.0, "hotel_price": 3094.0, "flight_price": 1494.6}, "tool_duration_seconds": 0.0013484954833984375, "result_length": 145, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:56:59.293440Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "Agent iteration 6", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Cuba le mois de mai 2026 \n\nCONTEXTE DISPONIBLE (utilise si pert", "iteration": 6, "tools_used": ["recommend_best_package"], "llm_duration_seconds": 1.295130968093872, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:56:59.295908Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "   \u2192 Tool executed: recommend_best_package", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Cuba le mois de mai 2026 \n\nCONTEXTE DISPONIBLE (utilise si pert", "tool_name": "recommend_best_package", "tool_args": {"user_budget": "medium", "travel_style": "balanced", "priorities": "value", "packages_info": "Package1: $4333.2 (vol+location), Package2: $5040.2 (vol+location), Package3: $6083.2 (vol+location)"}, "tool_duration_seconds": 0.0016820430755615234, "result_length": 2938, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T14:57:04.728559Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "\u2705 Finished after 7 iteration(s)", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Cuba le mois de mai 2026 \n\nCONTEXTE DISPONIBLE (utilise si pert", "iterations": 7, "total_duration_seconds": 37.0439727306366, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T15:03:25.555181Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "\ud83e\udd16 Analyzing request", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Londres \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil:", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T15:03:32.164909Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "\u2705 Finished after 1 iteration(s)", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 Londres \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil:", "iterations": 1, "total_duration_seconds": 6.609335422515869, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T15:06:21.537255Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "\ud83e\udd16 Analyzing request", "user_request": "DEMANDE UTILISATEUR:\nfais moi une balladade \u00e0 Berlin pour octobre 2026\n\nCONTEXTE DISPONIBLE (utilise", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T15:06:23.837756Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "\u2705 Finished after 1 iteration(s)", "user_request": "DEMANDE UTILISATEUR:\nfais moi une balladade \u00e0 Berlin pour octobre 2026\n\nCONTEXTE DISPONIBLE (utilise", "iterations": 1, "total_duration_seconds": 2.3006832599639893, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T15:07:07.603403Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "\ud83e\udd16 Analyzing request", "user_request": "DEMANDE UTILISATEUR:\nflexible et je ne sais pa spour la location\n\nCONTEXTE DISPONIBLE (utilise si pe", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T15:07:09.158214Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "\u2705 Finished after 1 iteration(s)", "user_request": "DEMANDE UTILISATEUR:\nflexible et je ne sais pa spour la location\n\nCONTEXTE DISPONIBLE (utilise si pe", "iterations": 1, "total_duration_seconds": 1.5549139976501465, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T15:13:47.385242Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "\ud83e\udd16 Analyzing request", "user_request": "DEMANDE UTILISATEUR:\nhello\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9p", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T15:13:49.488528Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "\u2705 Finished after 1 iteration(s)", "user_request": "DEMANDE UTILISATEUR:\nhello\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d\u00e9p", "iterations": 1, "total_duration_seconds": 2.103468418121338, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T15:13:56.465552Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "\ud83e\udd16 Analyzing request", "user_request": "DEMANDE UTILISATEUR:\ncomment vas tu?\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyage", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T15:13:58.168739Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "\u2705 Finished after 1 iteration(s)", "user_request": "DEMANDE UTILISATEUR:\ncomment vas tu?\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyage", "iterations": 1, "total_duration_seconds": 1.7031497955322266, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T15:14:08.752976Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "\ud83e\udd16 Analyzing request", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 londre\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T15:14:14.514167Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "\u2705 Finished after 1 iteration(s)", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 londre\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2", "iterations": 1, "total_duration_seconds": 5.761435270309448, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T15:32:34.467469Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "\ud83e\udd16 Analyzing request", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 perpignan \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profi", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T15:32:36.699965Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "Agent iteration 1", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 perpignan \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profi", "iteration": 1, "tools_used": ["get_airport_code"], "llm_duration_seconds": 2.231558084487915, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T15:32:37.053764Z", "level": "INFO", "logger": "services.airport_service", "module": "airport_service", "function": "get_airport_code", "line": 115, "message": "\u2705 Found airport code via Amadeus: Perpignan \u2192 PGF", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T15:32:37.054223Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "   \u2192 Tool executed: get_airport_code", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 perpignan \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profi", "tool_name": "get_airport_code", "tool_args": {"city_name": "Perpignan"}, "tool_duration_seconds": 0.3537266254425049, "result_length": 39, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T15:32:38.056217Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "Agent iteration 2", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 perpignan \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profi", "iteration": 2, "tools_used": ["search_flights"], "llm_duration_seconds": 1.0014235973358154, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T15:32:38.057606Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "_search_with_amadeus", "line": 163, "message": "\ud83d\udd0d Amadeus search: CDG \u2192 PGF on 2026-03-19", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T15:32:38.673063Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "_search_with_amadeus", "line": 188, "message": "\u2705 Amadeus: Found 0 real flight options", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T15:32:38.673981Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "   \u2192 Tool executed: search_flights", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 perpignan \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profi", "tool_name": "search_flights", "tool_args": {"departure_date": "2026-03-19", "origin": "CDG", "return_date": "2026-03-26", "destination": "PGF"}, "tool_duration_seconds": 0.6170291900634766, "result_length": 33, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T15:32:39.969574Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "Agent iteration 3", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 perpignan \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profi", "iteration": 3, "tools_used": ["search_flights"], "llm_duration_seconds": 1.2947063446044922, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T15:32:39.972035Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "_search_with_amadeus", "line": 163, "message": "\ud83d\udd0d Amadeus search: ORY \u2192 PGF on 2026-03-19", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T15:32:40.333060Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "_search_with_amadeus", "line": 188, "message": "\u2705 Amadeus: Found 0 real flight options", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T15:32:40.333444Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "   \u2192 Tool executed: search_flights", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 perpignan \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profi", "tool_name": "search_flights", "tool_args": {"departure_date": "2026-03-19", "origin": "ORY", "return_date": "2026-03-26", "destination": "PGF"}, "tool_duration_seconds": 0.3634071350097656, "result_length": 33, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T15:32:41.982386Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "Agent iteration 4", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 perpignan \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profi", "iteration": 4, "tools_used": ["search_hotels"], "llm_duration_seconds": 1.6484911441802979, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T15:32:41.991179Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "__init__", "line": 48, "message": "HotelSearchService initialized with providers: booking-com15, mock", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T15:32:41.992270Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_search_with_booking", "line": 79, "message": "Trying Booking.com15 for Perpignan", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T15:32:41.992999Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 202, "message": "Trying Booking.com15 location search: 'Perpignan'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T15:32:42.194536Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 202, "message": "Trying Booking.com15 location search: 'Perpignan'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T15:32:42.329658Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 202, "message": "Trying Booking.com15 location search: 'Perpignan'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T15:32:42.503289Z", "level": "WARNING", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 231, "message": "No destination ID found for any variation of 'Perpignan'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T15:32:42.508447Z", "level": "WARNING", "logger": "services.hotel_service", "module": "hotel_service", "function": "_search_with_booking", "line": 84, "message": "Could not find destination ID for Perpignan", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T15:32:42.509157Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "search", "line": 74, "message": "Using mock data for Perpignan", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T15:32:42.510289Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "   \u2192 Tool executed: search_hotels", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 perpignan \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profi", "tool_name": "search_hotels", "tool_args": {"checkout_date": "2026-03-26", "checkin_date": "2026-03-19", "guests": 2.0, "destination": "Perpignan"}, "tool_duration_seconds": 0.5272657871246338, "result_length": 4, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T15:32:43.565983Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "Agent iteration 5", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 perpignan \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profi", "iteration": 5, "tools_used": ["search_vacation_rentals"], "llm_duration_seconds": 1.0549259185791016, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T15:32:43.570646Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "search_rentals", "line": 90, "message": "Trying SerpAPI for Perpignan", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T15:32:44.083405Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "search_rentals", "line": 101, "message": "Trying RapidAPI Airbnb for Perpignan", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T15:32:45.672300Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "search_rentals", "line": 104, "message": "\u2705 RapidAPI: Found 5 rentals", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T15:32:45.673329Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "   \u2192 Tool executed: search_vacation_rentals", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 perpignan \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profi", "tool_name": "search_vacation_rentals", "tool_args": {"checkout_date": "2026-03-26", "guests": 2.0, "checkin_date": "2026-03-19", "destination": "Perpignan"}, "tool_duration_seconds": 2.103184938430786, "result_length": 1064, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T15:32:48.506922Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "Agent iteration 6", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 perpignan \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profi", "iteration": 6, "tools_used": ["find_cultural_activities"], "llm_duration_seconds": 2.8324365615844727, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T15:33:09.846295Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "   \u2192 Tool executed: find_cultural_activities", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 perpignan \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profi", "tool_name": "find_cultural_activities", "tool_args": {"preferences": "art,history", "city": "Perpignan"}, "tool_duration_seconds": 21.338610887527466, "result_length": 181, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T15:33:11.027460Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "Agent iteration 7", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 perpignan \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profi", "iteration": 7, "tools_used": ["recommend_restaurants"], "llm_duration_seconds": 1.180323839187622, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T15:33:16.342204Z", "level": "INFO", "logger": "services.restaurant_service", "module": "restaurant_service", "function": "find_restaurants", "line": 90, "message": "\u2705 6 restaurants from Travel Advisor API", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T15:33:16.343205Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "   \u2192 Tool executed: recommend_restaurants", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 perpignan \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profi", "tool_name": "recommend_restaurants", "tool_args": {"budget": "$$", "cuisine_types": "local", "city": "Perpignan"}, "tool_duration_seconds": 5.314857721328735, "result_length": 1689, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T15:33:17.973365Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "Agent iteration 8", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 perpignan \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profi", "iteration": 8, "tools_used": ["create_visit_itinerary"], "llm_duration_seconds": 1.6289589405059814, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T15:33:22.219199Z", "level": "INFO", "logger": "services.restaurant_service", "module": "restaurant_service", "function": "find_restaurants", "line": 90, "message": "\u2705 8 restaurants from Travel Advisor API", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T15:33:22.219993Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "   \u2192 Tool executed: create_visit_itinerary", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 perpignan \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profi", "tool_name": "create_visit_itinerary", "tool_args": {"interests": "culture,food,attractions", "city": "Perpignan", "duration_days": 7.0}, "tool_duration_seconds": 4.24611234664917, "result_length": 3511, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T15:33:25.844553Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "Agent iteration 9", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 perpignan \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profi", "iteration": 9, "tools_used": ["generate_travel_map"], "llm_duration_seconds": 3.6234183311462402, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T15:33:31.737074Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "   \u2192 Tool executed: generate_travel_map", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 perpignan \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profi", "tool_name": "generate_travel_map", "tool_args": {"city": "Perpignan", "hotel_addresses": "Perpignan"}, "tool_duration_seconds": 5.891742944717407, "result_length": 152, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T15:33:34.458316Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "\u2705 Finished after 10 iteration(s)", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 perpignan \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profi", "iterations": 10, "total_duration_seconds": 59.99337434768677, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T15:35:26.058127Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "\ud83e\udd16 Analyzing request", "user_request": "DEMANDE UTILISATEUR:\nbonjour\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T15:35:27.634031Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "\u2705 Finished after 1 iteration(s)", "user_request": "DEMANDE UTILISATEUR:\nbonjour\n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil: 2 voyageur(s), d", "iterations": 1, "total_duration_seconds": 1.5766301155090332, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T15:35:43.752006Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "\ud83e\udd16 Analyzing request", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 New york \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T15:35:51.593004Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "Agent iteration 1", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 New york \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil", "iteration": 1, "tools_used": ["get_destination_context", "search_flights", "search_hotels", "search_vacation_rentals", "find_cultural_activities", "recommend_restaurants", "create_visit_itinerary", "generate_travel_map", "calculate_total_cost"], "llm_duration_seconds": 7.8399083614349365, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T15:35:56.724636Z", "level": "ERROR", "logger": "services.wikipedia_service", "module": "wikipedia_service", "function": "_get_wikipedia_summary", "line": 110, "message": "Wikipedia API error for New York: HTTPSConnectionPool(host='fr.wikipedia.org', port=443): Read timed out. (read timeout=5)", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T15:35:56.725372Z", "level": "WARNING", "logger": "services.wikipedia_service", "module": "wikipedia_service", "function": "get_city_context", "line": 70, "message": "No Wikipedia summary for New York", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T15:35:57.023444Z", "level": "INFO", "logger": "services.wikipedia_service", "module": "wikipedia_service", "function": "get_city_context", "line": 83, "message": "\u2705 Wikipedia context retrieved for New York", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T15:35:57.024183Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "   \u2192 Tool executed: get_destination_context", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 New york \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil", "tool_name": "get_destination_context", "tool_args": {"city": "New York"}, "tool_duration_seconds": 5.430475473403931, "result_length": 345, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T15:35:57.026924Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "_search_with_amadeus", "line": 163, "message": "\ud83d\udd0d Amadeus search: CDG \u2192 JFK on 2026-03-19", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T15:36:04.809246Z", "level": "INFO", "logger": "services.flight_service", "module": "flight_service", "function": "_search_with_amadeus", "line": 188, "message": "\u2705 Amadeus: Found 5 real flight options", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T15:36:04.810145Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "   \u2192 Tool executed: search_flights", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 New york \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil", "tool_name": "search_flights", "tool_args": {"departure_date": "2026-03-19", "origin": "CDG", "return_date": "2026-03-26", "destination": "JFK"}, "tool_duration_seconds": 7.784614086151123, "result_length": 470, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T15:36:04.812056Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_search_with_booking", "line": 79, "message": "Trying Booking.com15 for New York", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T15:36:04.812854Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 202, "message": "Trying Booking.com15 location search: 'New York'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T15:36:04.998637Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 202, "message": "Trying Booking.com15 location search: 'New York'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T15:36:05.144749Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 202, "message": "Trying Booking.com15 location search: 'New York'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T15:36:05.541490Z", "level": "WARNING", "logger": "services.hotel_service", "module": "hotel_service", "function": "_get_destination_id", "line": 231, "message": "No destination ID found for any variation of 'New York'", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T15:36:05.544642Z", "level": "WARNING", "logger": "services.hotel_service", "module": "hotel_service", "function": "_search_with_booking", "line": 84, "message": "Could not find destination ID for New York", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T15:36:05.545829Z", "level": "INFO", "logger": "services.hotel_service", "module": "hotel_service", "function": "search", "line": 74, "message": "Using mock data for New York", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T15:36:05.546664Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "   \u2192 Tool executed: search_hotels", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 New york \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil", "tool_name": "search_hotels", "tool_args": {"checkout_date": "2026-03-26", "guests": 2.0, "checkin_date": "2026-03-19", "destination": "New York"}, "tool_duration_seconds": 0.735682487487793, "result_length": 4, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T15:36:05.548501Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "search_rentals", "line": 90, "message": "Trying SerpAPI for New York", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T15:36:05.788048Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "search_rentals", "line": 101, "message": "Trying RapidAPI Airbnb for New York", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T15:36:07.549570Z", "level": "INFO", "logger": "services.rental_service", "module": "rental_service", "function": "search_rentals", "line": 104, "message": "\u2705 RapidAPI: Found 5 rentals", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T15:36:07.550264Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "   \u2192 Tool executed: search_vacation_rentals", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 New york \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil", "tool_name": "search_vacation_rentals", "tool_args": {"checkout_date": "2026-03-26", "checkin_date": "2026-03-19", "guests": 2.0, "destination": "New York"}, "tool_duration_seconds": 2.0028960704803467, "result_length": 943, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T15:36:29.564245Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "   \u2192 Tool executed: find_cultural_activities", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 New york \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil", "tool_name": "find_cultural_activities", "tool_args": {"preferences": "art,history", "city": "New York"}, "tool_duration_seconds": 22.013118982315063, "result_length": 782, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T15:36:31.639787Z", "level": "INFO", "logger": "services.restaurant_service", "module": "restaurant_service", "function": "find_restaurants", "line": 90, "message": "\u2705 1 restaurants from Travel Advisor API", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T15:36:31.640187Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "   \u2192 Tool executed: recommend_restaurants", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 New york \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil", "tool_name": "recommend_restaurants", "tool_args": {"cuisine_types": "local", "budget": "$$", "city": "New York"}, "tool_duration_seconds": 2.075443983078003, "result_length": 373, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T15:36:56.455182Z", "level": "INFO", "logger": "services.restaurant_service", "module": "restaurant_service", "function": "find_restaurants", "line": 90, "message": "\u2705 5 restaurants from Travel Advisor API", "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T15:36:56.456056Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "   \u2192 Tool executed: create_visit_itinerary", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 New york \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil", "tool_name": "create_visit_itinerary", "tool_args": {"interests": "culture,food,attractions", "duration_days": 7.0, "city": "New York"}, "tool_duration_seconds": 24.81478476524353, "result_length": 3039, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T15:37:07.750991Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "   \u2192 Tool executed: generate_travel_map", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 New york \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil", "tool_name": "generate_travel_map", "tool_args": {"city": "New York", "hotel_addresses": "The Knickerbocker, The Library Hotel"}, "tool_duration_seconds": 11.293921709060669, "result_length": 152, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T15:37:07.753774Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "   \u2192 Tool executed: calculate_total_cost", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 New york \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil", "tool_name": "calculate_total_cost", "tool_args": {"travelers": 2.0, "hotel_price": 2100.0, "flight_price": 650.0}, "tool_duration_seconds": 0.0010356903076171875, "result_length": 144, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T15:37:08.958436Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "Agent iteration 2", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 New york \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil", "iteration": 2, "tools_used": ["recommend_best_package"], "llm_duration_seconds": 1.2037968635559082, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T15:37:08.960037Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "   \u2192 Tool executed: recommend_best_package", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 New york \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil", "tool_name": "recommend_best_package", "tool_args": {"user_budget": "medium", "travel_style": "balanced", "priorities": "value", "packages_info": "Package \u00c9CONOMIQUE: 3500\u20ac, Package STANDARD: 4500\u20ac, Package PREMIUM: 5800\u20ac"}, "tool_duration_seconds": 0.0010497570037841797, "result_length": 2938, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
{"timestamp": "2026-01-18T15:37:10.084255Z", "level": "INFO", "logger": "agents.travel_agent", "module": "logger", "function": "_log", "line": 211, "message": "\u2705 Finished after 3 iteration(s)", "user_request": "DEMANDE UTILISATEUR:\nje veux aller \u00e0 New york \n\nCONTEXTE DISPONIBLE (utilise si pertinent):\n- Profil", "iterations": 3, "total_duration_seconds": 86.33335137367249, "labels": {"environment": "production", "service": "travel-agent", "version": "1.0.0"}}
